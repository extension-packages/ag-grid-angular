"use strict";(self.webpackChunkag_grid_angular=self.webpackChunkag_grid_angular||[]).push([[508],{"./node_modules/@storybook/angular/dist/client/argsToTemplate.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=void 0,exports.argsToTemplate=function argsToTemplate(args,options={}){const includeSet=options.include?new Set(options.include):null,excludeSet=options.exclude?new Set(options.exclude):null;return Object.entries(args).filter((([key])=>void 0!==args[key])).filter((([key])=>includeSet?includeSet.has(key):!excludeSet||!excludeSet.has(key))).map((([key,value])=>"function"==typeof value?`(${key})="${key}($event)"`:`[${key}]="${key}"`)).join(" ")}},"./node_modules/@storybook/angular/dist/client/decorators.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentWrapperDecorator=exports.applicationConfig=exports.moduleMetadata=void 0;const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js"),NgComponentAnalyzer_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/utils/NgComponentAnalyzer.js");exports.moduleMetadata=metadata=>storyFn=>{const story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}},exports.applicationConfig=function applicationConfig(config){return storyFn=>{const story=storyFn(),storyConfig=story.applicationConfig;return{...story,applicationConfig:storyConfig||config?{...config,...storyConfig,providers:[...config?.providers||[],...storyConfig?.providers||[]]}:void 0}}};exports.componentWrapperDecorator=(element,props)=>(storyFn,storyContext)=>{const story=storyFn(),currentProps="function"==typeof props?props(storyContext):props,template=(0,NgComponentAnalyzer_1.isComponent)(element)?(0,ComputesTemplateFromComponent_1.computesTemplateFromComponent)(element,currentProps??{},story.template):element(story.template);return{...story,template,...currentProps||story.props?{props:{...currentProps,...story.props}}:{}}}},"./node_modules/@storybook/angular/dist/client/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=exports.applicationConfig=exports.componentWrapperDecorator=exports.moduleMetadata=void 0,__webpack_require__("./node_modules/@storybook/angular/dist/client/globals.js"),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-types.js"),exports);var decorators_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/decorators.js");Object.defineProperty(exports,"moduleMetadata",{enumerable:!0,get:function(){return decorators_1.moduleMetadata}}),Object.defineProperty(exports,"componentWrapperDecorator",{enumerable:!0,get:function(){return decorators_1.componentWrapperDecorator}}),Object.defineProperty(exports,"applicationConfig",{enumerable:!0,get:function(){return decorators_1.applicationConfig}});var argsToTemplate_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/argsToTemplate.js");Object.defineProperty(exports,"argsToTemplate",{enumerable:!0,get:function(){return argsToTemplate_1.argsToTemplate}})},"./node_modules/@storybook/angular/dist/client/public-types.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@storybook/angular/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _client_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/client/index.js");__webpack_require__.o(_client_index__WEBPACK_IMPORTED_MODULE_0__,"componentWrapperDecorator")&&__webpack_require__.d(__webpack_exports__,{componentWrapperDecorator:function(){return _client_index__WEBPACK_IMPORTED_MODULE_0__.componentWrapperDecorator}}),__webpack_require__.o(_client_index__WEBPACK_IMPORTED_MODULE_0__,"moduleMetadata")&&__webpack_require__.d(__webpack_exports__,{moduleMetadata:function(){return _client_index__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata}})},"./node_modules/ag-grid-angular/fesm2022/ag-grid-angular.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$V:()=>AgGridModule,xs:()=>AgGridAngular});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ag-grid-community/dist/package/main.esm.mjs");class AngularFrameworkComponentWrapper extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cf3{setViewContainerRef(viewContainerRef,angularFrameworkOverrides){this.viewContainerRef=viewContainerRef,this.angularFrameworkOverrides=angularFrameworkOverrides}createWrapper(OriginalConstructor){const angularFrameworkOverrides=this.angularFrameworkOverrides,that=this;const wrapper=new class DynamicAgNg2Component extends BaseGuiComponent{init(params){angularFrameworkOverrides.runInsideAngular((()=>{super.init(params),this._componentRef.changeDetectorRef.detectChanges()}))}createComponent(){return angularFrameworkOverrides.runInsideAngular((()=>that.createComponent(OriginalConstructor)))}hasMethod(name){return null!=wrapper.getFrameworkComponentInstance()[name]}callMethod(name,args){const componentRef=this.getFrameworkComponentInstance(),methodCall=componentRef[name];return"doesFilterPass"===name?methodCall.apply(componentRef,args):angularFrameworkOverrides.runInsideAngular((()=>methodCall.apply(componentRef,args)))}addMethod(name,callback){wrapper[name]=callback}};return wrapper}createComponent(componentType){return this.viewContainerRef.createComponent(componentType)}static#_=this.ɵfac=(()=>{let ɵAngularFrameworkComponentWrapper_BaseFactory;return function AngularFrameworkComponentWrapper_Factory(t){return(ɵAngularFrameworkComponentWrapper_BaseFactory||(ɵAngularFrameworkComponentWrapper_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](AngularFrameworkComponentWrapper)))(t||AngularFrameworkComponentWrapper)}})();static#_2=this.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({token:AngularFrameworkComponentWrapper,factory:AngularFrameworkComponentWrapper.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AngularFrameworkComponentWrapper,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable}],null,null);class BaseGuiComponent{init(params){this._params=params,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MwW)(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}class AngularFrameworkEventListenerService{constructor(frameworkOverrides){this.frameworkOverrides=frameworkOverrides,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(userListener){let listener=userListener;return this.frameworkOverrides.shouldWrapOutgoing&&(listener=event=>{this.frameworkOverrides.wrapOutgoing((()=>userListener(event)))},this.wrappedListeners.set(userListener,listener)),listener}wrapGlobal(userListener){let listener=userListener;return this.frameworkOverrides.shouldWrapOutgoing&&(listener=(eventType,event)=>{this.frameworkOverrides.wrapOutgoing((()=>userListener(eventType,event)))},this.wrappedGlobalListeners.set(userListener,listener)),listener}unwrap(userListener){return this.wrappedListeners.get(userListener)??userListener}unwrapGlobal(userListener){return this.wrappedGlobalListeners.get(userListener)??userListener}}class AngularFrameworkOverrides extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.pow{constructor(_ngZone){super("angular"),this._ngZone=_ngZone,this.isRunningWithinTestZone=!1,this.wrapIncoming=(callback,source)=>this.runOutside(callback,source),this.wrapOutgoing=callback=>this.runInsideAngular(callback),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(callback,source)=>"resize-observer"===source||"popupPositioning"===source?this._ngZone.runOutsideAngular(callback):callback():this.runOutside=callback=>this._ngZone.runOutsideAngular(callback):this.runOutside=callback=>callback()}get shouldWrapOutgoing(){return this._ngZone&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()}createLocalEventListenerWrapper(existingFrameworkEventListenerService,localEventService){if(this.shouldWrapOutgoing)return existingFrameworkEventListenerService??(()=>(localEventService.setFrameworkOverrides(this),new AngularFrameworkEventListenerService(this)))()}createGlobalEventListenerWrapper(){return new AngularFrameworkEventListenerService(this)}isFrameworkComponent(comp){if(!comp)return!1;const prototype=comp.prototype;return prototype&&"agInit"in prototype}runInsideAngular(callback){return this._ngZone?this._ngZone.run(callback):callback()}runOutsideAngular(callback,source){return this.runOutside(callback,source)}static#_=this.ɵfac=function AngularFrameworkOverrides_Factory(t){return new(t||AngularFrameworkOverrides)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone))};static#_2=this.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({token:AngularFrameworkOverrides,factory:AngularFrameworkOverrides.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AngularFrameworkOverrides,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable}],(()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone}]),null);class AgGridAngular{constructor(elementDef,_viewContainerRef,_angularFrameworkOverrides,_frameworkCompWrapper){this._viewContainerRef=_viewContainerRef,this._angularFrameworkOverrides=_angularFrameworkOverrides,this._frameworkCompWrapper=_frameworkCompWrapper,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise((resolve=>{this._resolveFullyReady=resolve})),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.toolPanelSizeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnMenuVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.contextMenuVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cutStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cutEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pasteStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pasteEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnVisible=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPinned=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnResized=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnMoved=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPivotModeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPivotChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnGroupOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.newColumnsLoaded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.displayedColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.virtualColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnEverythingChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnHeaderMouseOver=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnHeaderMouseLeave=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnHeaderClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnHeaderContextMenu=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.componentStateChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditingStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditingStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowEditingStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowEditingStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.undoStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.undoEnded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.redoStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.redoEnded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellSelectionDeleteStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellSelectionDeleteEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeDeleteStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeDeleteEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.fillStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.fillEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterModified=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.advancedFilterBuilderVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartCreated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartRangeSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartOptionsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartDestroyed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellKeyDown=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridReady=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.firstDataRendered=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridSizeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.modelUpdated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.virtualRowRemoved=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.viewportChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.bodyScroll=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.bodyScrollEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.dragStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.dragStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.dragCancelled=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.stateUpdated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.paginationChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragEnter=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragMove=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragLeave=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragCancel=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnRowGroupChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowGroupOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.expandOrCollapseAll=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pivotMaxColumnsExceeded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pinnedRowDataChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDataUpdated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.asyncTransactionsFlushed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.storeRefreshed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.headerFocused=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellDoubleClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellFocused=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseOver=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseOut=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseDown=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDoubleClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowSelected=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.selectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellContextMenu=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.tooltipShow=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.tooltipHide=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.sortChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this._nativeElement=elementDef.nativeElement,this._fullyReady.then((()=>{this._holdEvents=!1}))}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular((()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);const gridOptionKeys=Object.keys(this).filter((key=>!(key.startsWith("_")||"gridOptions"==key||"modules"==key||this[key]instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter))),coercedGridOptions={};gridOptionKeys.forEach((key=>{const valueToUse=function getValueOrCoercedValue(key,valueToUse){if(booleanMixedGridOptions.has(key))return""===valueToUse||"false"!==valueToUse&&valueToUse;return valueToUse}(key,this[key]);coercedGridOptions[key]=valueToUse}));const mergedGridOps=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zsR)(this.gridOptions,coercedGridOptions,gridOptionKeys),gridParams={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},api=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dvw)(this._nativeElement,mergedGridOps,gridParams);api&&(this.api=api),this._initialised=!0,this._resolveFullyReady()}))}ngOnChanges(changes){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular((()=>{const gridOptions={};for(const key of Object.keys(changes)){const value=changes[key];gridOptions[key]=value.currentValue}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Y6t)(gridOptions,this.api)}))}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(eventType){const emitterAny=this[eventType],hasEmitter=emitterAny?.observed??emitterAny?.observers?.length>0,asEventName=`on${eventType.charAt(0).toUpperCase()}${eventType.substring(1)}`,hasGridOptionListener=!!this.gridOptions&&!!this.gridOptions[asEventName];return hasEmitter||hasGridOptionListener}globalListener(eventType,event){if(this._destroyed)return;const emitter=this[eventType];if(emitter&&this.isEmitterUsed(eventType)){const fireEmitter=()=>this._angularFrameworkOverrides.runInsideAngular((()=>emitter.emit(event)));this._holdEvents?this._fullyReady.then((()=>fireEmitter())):fireEmitter()}}static#_=this.ɵfac=function AgGridAngular_Factory(t){return new(t||AgGridAngular)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](AngularFrameworkOverrides),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](AngularFrameworkComponentWrapper))};static#_2=this.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({type:AgGridAngular,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:[2,"singleClickEdit","singleClickEdit",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableCharts:[2,"enableCharts","enableCharts",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],keepDetailRows:[2,"keepDetailRows","keepDetailRows",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressTouch:[2,"suppressTouch","suppressTouch",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],debug:[2,"debug","debug",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],loading:[2,"loading","loading",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],pagination:[2,"pagination","pagination",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],paginateChildRows:[2,"paginateChildRows","paginateChildRows",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],pivotMode:[2,"pivotMode","pivotMode",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],animateRows:[2,"animateRows","animateRows",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableCellSpan:[2,"enableCellSpan","enableCellSpan",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableRtl:[2,"enableRtl","enableRtl",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],rowDragManaged:[2,"rowDragManaged","rowDragManaged",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],treeDataChildrenField:"treeDataChildrenField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],enableFillHandle:[2,"enableFillHandle","enableFillHandle",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],unSortIcon:[2,"unSortIcon","unSortIcon",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],themeCssLayer:"themeCssLayer",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([AngularFrameworkOverrides,AngularFrameworkComponentWrapper]),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputTransformsFeature"],_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"],_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵStandaloneFeature"]],decls:0,vars:0,template:function AgGridAngular_Template(rf,ctx){},encapsulation:2})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AgGridAngular,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,args:[{selector:"ag-grid-angular",standalone:!0,template:"",providers:[AngularFrameworkOverrides,AngularFrameworkComponentWrapper],encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None}]}],(()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef},{type:AngularFrameworkOverrides},{type:AngularFrameworkComponentWrapper}]),{gridOptions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],modules:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],statusBar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],sideBar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],preventDefaultOnContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],allowContextMenuWithControlKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],columnMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMenuHide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableBrowserTooltips:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],tooltipTrigger:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipShowDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipHideDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipMouseTrack:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],tooltipShowMode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipInteraction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],popupParent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],copyHeadersToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],copyGroupHeadersToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],clipboardDelimiter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCopyRowsToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressCopySingleCellRanges:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressLastEmptyLineOnPaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressClipboardPaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressClipboardApi:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressCutToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],columnDefs:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultColDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultColGroupDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],columnTypes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],dataTypeDefinitions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maintainColumnOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableStrictPivotColumnOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressFieldDotNotation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],headerHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],floatingFiltersHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotGroupHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],allowDragFromColumnsToolPanel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMovableColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressColumnMoveAnimation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMoveWhenColumnDragging:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressDragLeaveHidesColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressGroupChangesColumnVisibility:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMakeColumnVisibleAfterUnGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowGroupHidesColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],colResizeDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAutoSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],autoSizePadding:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],skipHeaderOnAutoSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],autoSizeStrategy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],components:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],editType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],singleClickEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressClickEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],readOnlyEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],stopEditingWhenCellsLoseFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enterNavigatesVertically:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enterNavigatesVerticallyAfterEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableCellEditingOnBackspace:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],undoRedoCellEditing:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],undoRedoCellEditingLimit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultCsvExportParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCsvExport:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],defaultExcelExportParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressExcelExport:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],excelStyles:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],quickFilterText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cacheQuickFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],includeHiddenColumnsInQuickFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],quickFilterParser:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],quickFilterMatcher:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],applyQuickFilterBeforePivotOrAgg:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],excludeChildrenWhenTreeDataFiltering:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableAdvancedFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],alwaysPassFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],includeHiddenColumnsInAdvancedFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],advancedFilterParent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],advancedFilterBuilderParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAdvancedFilterEval:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressSetFilterByDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableCharts:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],chartThemes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],customChartThemes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartThemeOverrides:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartToolPanelsDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartMenuItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRendererSelector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],localeText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],masterDetail:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],keepDetailRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],keepDetailRowsCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailRowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailRowAutoHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],context:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],dragAndDropImageComponent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],dragAndDropImageComponentParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alignedGrids:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabIndex:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowBuffer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],valueCache:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],valueCacheNeverExpires:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableCellExpressions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressTouch:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressFocusAfterRefresh:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressBrowserResizeObserver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressPropertyNamesCheck:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressChangeDetection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],debug:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],loading:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],overlayLoadingTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingOverlayComponent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingOverlayComponentParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressLoadingOverlay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],overlayNoRowsTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],noRowsOverlayComponent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],noRowsOverlayComponentParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressNoRowsOverlay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],pagination:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],paginationPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationPageSizeSelector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationAutoPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],paginateChildRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressPaginationPanel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],pivotMode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],pivotPanelShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotMaxGeneratedColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotDefaultExpanded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotColumnGroupTotals:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotRowTotals:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotSuppressAutoColumn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressExpandablePivotGroups:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],functionsReadOnly:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],aggFuncs:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAggFuncInHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],alwaysAggregateAtRootLevel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],aggregateOnlyChangedColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressAggFilteredOnly:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],removePivotHeaderRowWhenSingleValueColumn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],animateRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],cellFlashDuration:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cellFadeDuration:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],allowShowChangeAfterFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],domLayout:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],ensureDomOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableCellSpan:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableRtl:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressColumnVirtualisation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMaxRenderedRowRestriction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowVirtualisation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],rowDragManaged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowDrag:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMoveWhenRowDragging:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],rowDragEntireRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],rowDragMultiRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],rowDragText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fullWidthCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fullWidthCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],embedFullWidthRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupDisplayType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupDefaultExpanded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],autoGroupColumnDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupMaintainOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupSelectsChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupLockGroupColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupAggFiltering:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupTotalRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],grandTotalRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressStickyTotalRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupSuppressBlankHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupSelectsFiltered:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],showOpenedGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupHideParentOfSingleChild:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRemoveSingleChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupRemoveLowestSingleChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupHideOpenParents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],groupAllowUnbalanced:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],rowGroupPanelShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRowRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRowRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],treeData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],treeDataChildrenField:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowGroupPanelSuppressSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressGroupRowsSticky:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],pinnedTopRowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pinnedBottomRowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowModelType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],asyncTransactionWaitMillis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressModelUpdateAfterUpdateTransaction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],datasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cacheOverflowSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],infiniteInitialRowCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideInitialRowCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressServerSideFullWidthLoadingRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],cacheBlockSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maxBlocksInCache:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maxConcurrentDatasourceRequests:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],blockLoadDebounceMillis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],purgeClosedRowNodes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],serverSideDatasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideSortAllLevels:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],serverSideEnableClientSideSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],serverSideOnlyRefreshFilteredGroups:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],serverSidePivotResultFieldSeparator:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportDatasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportRowModelPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportRowModelBufferSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alwaysShowHorizontalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],alwaysShowVerticalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],debounceVerticalScrollbar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressHorizontalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressScrollOnNewData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressScrollWhenPopupsAreOpen:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressAnimationFrame:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMiddleClickScrolls:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressPreventDefaultOnMouseWheel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],scrollbarWidth:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cellSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowMultiSelectWithClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowDeselection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowClickSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressCellFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressHeaderFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],selectionColumnDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowNumbers:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMultiRangeSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableCellTextSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableRangeSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableRangeHandle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],enableFillHandle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],fillHandleDirection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressClearOnFillReduction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],sortingOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],accentedSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],unSortIcon:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressMultiSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],alwaysMultiSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],multiSortKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMaintainUnsortedOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],icons:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowClassRules:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowHoverHighlight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],suppressRowTransform:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],columnHoverHighlight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],gridId:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],deltaSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],treeDataDisplayType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableGroupEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],initialState:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],theme:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadThemeGoogleFonts:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],themeCssLayer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],themeStyleContainer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getContextMenuItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getMainMenuItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],postProcessPopup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processUnpinnedColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processCellForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processHeaderForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processGroupHeaderForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processCellFromClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],sendToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processDataFromClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isExternalFilterPresent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],doesExternalFilterPass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getChartToolbarItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],createChartContainer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],focusGridInnerElement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],navigateToNextHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabToNextHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],navigateToNextCell:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabToNextCell:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getLocaleText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getDocument:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationNumberFormatter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getGroupRowAgg:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isGroupOpenByDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],initialGroupOrderComparator:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processPivotResultColDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processPivotResultColGroupDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getDataPath:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getChildCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getServerSideGroupLevelParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isServerSideGroupOpenByDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isApplyServerSideTransaction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isServerSideGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getServerSideGroupKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getBusinessKeyForNode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowId:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],resetRowDataOnUpdate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_1__.booleanAttribute}]}],processRowPostCreate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isRowSelectable:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isRowMaster:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fillOperation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],postSortRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isFullWidthRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],toolPanelVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],toolPanelSizeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnMenuVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],contextMenuVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cutStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cutEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pasteStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pasteEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnVisible:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPinned:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnResized:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnMoved:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPivotModeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPivotChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnGroupOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],newColumnsLoaded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],displayedColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],virtualColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnEverythingChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnHeaderMouseOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnHeaderMouseLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnHeaderClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnHeaderContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],componentStateChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditingStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditingStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowEditingStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowEditingStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],undoStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],undoEnded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],redoStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],redoEnded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellSelectionDeleteStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellSelectionDeleteEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeDeleteStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeDeleteEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],fillStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],fillEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterModified:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],advancedFilterBuilderVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartCreated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartRangeSelectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartOptionsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartDestroyed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellKeyDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridReady:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],firstDataRendered:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridSizeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],modelUpdated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],virtualRowRemoved:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],viewportChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],bodyScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],bodyScrollEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],dragStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],dragStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],dragCancelled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],stateUpdated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],paginationChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragEnter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragMove:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragCancel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnRowGroupChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowGroupOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],expandOrCollapseAll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pivotMaxColumnsExceeded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pinnedRowDataChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDataUpdated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],asyncTransactionsFlushed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],storeRefreshed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],headerFocused:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellDoubleClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellFocused:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDoubleClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowSelected:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],selectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeSelectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellSelectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],tooltipShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],tooltipHide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],sortChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}]});const booleanMixedGridOptions=new Set(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KVO);class AgGridModule{static#_=this.ɵfac=function AgGridModule_Factory(t){return new(t||AgGridModule)};static#_2=this.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({type:AgGridModule,imports:[AgGridAngular],exports:[AgGridAngular]});static#_3=this.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AgGridModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,args:[{imports:[AgGridAngular],exports:[AgGridAngular]}]}],null,null)},"./node_modules/ag-grid-community/dist/package/main.esm.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BhY:()=>themeMaterial,Cf3:()=>BaseComponentWrapper,Dvw:()=>createGrid,JKr:()=>AllCommunityModule,KVO:()=>_BOOLEAN_MIXED_GRID_OPTIONS,MwW:()=>_removeFromParent,N8R:()=>themeBalham,Y6t:()=>_processOnChange,pow:()=>VanillaFrameworkOverrides,r$M:()=>themeAlpine,syG:()=>ModuleRegistry,zl0:()=>themeQuartz,zsR:()=>_combineAttributesAndGridOptions});var isSafari,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,maxDivHeight,rtlNegativeScroll,_Users_benrei_git_github_extension_packages_ag_grid_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),LocalEventService=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(frameworkOverrides){this.frameworkOverrides=frameworkOverrides}getListeners(eventType,async,autoCreateListenerCollection){const listenerMap=async?this.allAsyncListeners:this.allSyncListeners;let listeners=listenerMap.get(eventType);return!listeners&&autoCreateListenerCollection&&(listeners=new Set,listenerMap.set(eventType,listeners)),listeners}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(eventType,listener,async=!1){this.getListeners(eventType,async,!0).add(listener)}removeEventListener(eventType,listener,async=!1){const listeners=this.getListeners(eventType,async,!1);if(listeners&&(listeners.delete(listener),0===listeners.size)){(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType)}}addGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).add(listener)}removeGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).delete(listener)}dispatchEvent(event){const agEvent=event;this.dispatchToListeners(agEvent,!0),this.dispatchToListeners(agEvent,!1),this.firedEvents[agEvent.type]=!0}dispatchEventOnce(event){this.firedEvents[event.type]||this.dispatchEvent(event)}dispatchToListeners(event,async){const eventType=event.type;if(async&&"event"in event){const browserEvent=event.event;browserEvent instanceof Event&&(event.eventPath=browserEvent.composedPath())}const processEventListeners=(listeners2,originalListeners2)=>listeners2.forEach((listener=>{if(!originalListeners2.has(listener))return;const callback=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>listener(event))):()=>listener(event);async?this.dispatchAsync(callback):callback()})),originalListeners=this.getListeners(eventType,async,!1)??new Set,listeners=new Set(originalListeners);listeners.size>0&&processEventListeners(listeners,originalListeners);new Set(async?this.globalAsyncListeners:this.globalSyncListeners).forEach((listener=>{const callback=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>listener(eventType,event))):()=>listener(eventType,event);async?this.dispatchAsync(callback):callback()}))}dispatchAsync(func){if(this.asyncFunctionsQueue.push(func),!this.scheduled){const flush=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(flush):flush(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],queueCopy.forEach((func=>func()))}};function defaultLocaleTextFunc(_key,defaultValue){return defaultValue}function _getLocaleTextFunc(localeSvc){return localeSvc?.getLocaleTextFunc()??defaultLocaleTextFunc}function _toggleAriaAttribute(element,attribute,value){null==value||"string"==typeof value&&""==value?_removeAriaAttribute(element,attribute):_setAriaAttribute(element,attribute,value)}function _setAriaAttribute(element,attribute,value){element.setAttribute(_ariaAttributeName(attribute),value.toString())}function _removeAriaAttribute(element,attribute){element.removeAttribute(_ariaAttributeName(attribute))}function _ariaAttributeName(attribute){return`aria-${attribute}`}function _setAriaRole(element,role){role?element.setAttribute("role",role):element.removeAttribute("role")}function _setAriaLabel(element,label){_toggleAriaAttribute(element,"label",label)}function _setAriaLabelledBy(element,labelledBy){_toggleAriaAttribute(element,"labelledby",labelledBy)}function _setAriaLive(element,live){_toggleAriaAttribute(element,"live",live)}function _setAriaHidden(element,hidden){_toggleAriaAttribute(element,"hidden",hidden)}function _setAriaExpanded(element,expanded){_setAriaAttribute(element,"expanded",expanded)}function _setAriaRowIndex(element,rowIndex){_setAriaAttribute(element,"rowindex",rowIndex)}function _setAriaColIndex(element,colIndex){_setAriaAttribute(element,"colindex",colIndex)}function _setAriaSelected(element,selected){_toggleAriaAttribute(element,"selected",selected)}function _getAriaCheckboxStateName(translate,state){return void 0===state?translate("ariaIndeterminate","indeterminate"):!0===state?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked")}function _isBrowserSafari(){return void 0===isSafari&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function _isBrowserChrome(){if(void 0===isChrome){const win=window;isChrome=!!win.chrome&&(!!win.chrome.webstore||!!win.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function _isBrowserFirefox(){return void 0===isFirefox&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function _isMacOsUserAgent(){return void 0===isMacOs&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function _isIOSUserAgent(){return void 0===isIOS&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),isIOS}function _getTabIndex(el){if(!el)return null;const numberTabIndex=el.tabIndex,tabIndex=el.getAttribute("tabIndex");return-1!==numberTabIndex||null!==tabIndex&&(""!==tabIndex||_isBrowserFirefox())?numberTabIndex.toString():null}function initScrollbarWidthAndVisibility(){const body=document.body,div=document.createElement("div");div.style.width=div.style.height="100px",div.style.opacity="0",div.style.overflow="scroll",div.style.msOverflowStyle="scrollbar",div.style.position="absolute",body.appendChild(div);let width=div.offsetWidth-div.clientWidth;0===width&&0===div.clientWidth&&(width=null),div.parentNode&&div.parentNode.removeChild(div),null!=width&&(browserScrollbarWidth=width,invisibleScrollbar=0===width)}function _isInvisibleScrollbar(){return null==invisibleScrollbar&&initScrollbarWidthAndVisibility(),invisibleScrollbar}var FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _isFocusableFormField(element){const matches=Element.prototype.matches||Element.prototype.msMatchesSelector,isFocusable=matches.call(element,"input, select, button, textarea"),isNotFocusable=matches.call(element,FOCUSABLE_EXCLUDE),isElementVisible=_isVisible(element);return isFocusable&&!isNotFocusable&&isElementVisible}function _setDisplayed(element,displayed,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-hidden",!displayed),skipAriaHidden||_setAriaHidden(element,!displayed)}function _setDisabled(element,disabled){const addOrRemoveDisabledAttribute=disabled?e=>e.setAttribute("disabled",""):e=>e.removeAttribute("disabled");addOrRemoveDisabledAttribute(element),_nodeListForEach(element.querySelectorAll("input"),(input=>addOrRemoveDisabledAttribute(input)))}function _isElementChildOfClass(element,cls,maxNest){let counter=0;for(;element;){if(element.classList.contains(cls))return!0;if(element=element.parentElement,"number"==typeof maxNest){if(++counter>maxNest)break}else if(element===maxNest)break}return!1}function _getElementSize(el){const{height,width,borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth,paddingTop,paddingRight,paddingBottom,paddingLeft,marginTop,marginRight,marginBottom,marginLeft,boxSizing}=window.getComputedStyle(el);return{height:parseFloat(height||"0"),width:parseFloat(width||"0"),borderTopWidth:parseFloat(borderTopWidth||"0"),borderRightWidth:parseFloat(borderRightWidth||"0"),borderBottomWidth:parseFloat(borderBottomWidth||"0"),borderLeftWidth:parseFloat(borderLeftWidth||"0"),paddingTop:parseFloat(paddingTop||"0"),paddingRight:parseFloat(paddingRight||"0"),paddingBottom:parseFloat(paddingBottom||"0"),paddingLeft:parseFloat(paddingLeft||"0"),marginTop:parseFloat(marginTop||"0"),marginRight:parseFloat(marginRight||"0"),marginBottom:parseFloat(marginBottom||"0"),marginLeft:parseFloat(marginLeft||"0"),boxSizing}}function _getInnerHeight(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.height-size.paddingTop-size.paddingBottom:size.height}function _getInnerWidth(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.width-size.paddingLeft-size.paddingRight:size.width}function _getAbsoluteHeight(el){const{height,marginBottom,marginTop}=_getElementSize(el);return Math.floor(height+marginBottom+marginTop)}function _getAbsoluteWidth(el){const{width,marginLeft,marginRight}=_getElementSize(el);return Math.floor(width+marginLeft+marginRight)}function _getElementRectWithOffset(el){const offsetElementRect=el.getBoundingClientRect(),{borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth}=_getElementSize(el);return{top:offsetElementRect.top+(borderTopWidth||0),left:offsetElementRect.left+(borderLeftWidth||0),right:offsetElementRect.right+(borderRightWidth||0),bottom:offsetElementRect.bottom+(borderBottomWidth||0)}}function _isRtlNegativeScroll(){if("boolean"==typeof rtlNegativeScroll)return rtlNegativeScroll;const template=document.createElement("div");return template.style.direction="rtl",template.style.width="1px",template.style.height="1px",template.style.position="fixed",template.style.top="0px",template.style.overflow="hidden",template.dir="rtl",template.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(template),template.scrollLeft=1,rtlNegativeScroll=0===Math.floor(template.scrollLeft),document.body.removeChild(template),rtlNegativeScroll}function _getScrollLeft(element,rtl){let scrollLeft=element.scrollLeft;return rtl&&(scrollLeft=Math.abs(scrollLeft),_isBrowserChrome()&&!_isRtlNegativeScroll()&&(scrollLeft=element.scrollWidth-element.getBoundingClientRect().width-scrollLeft)),scrollLeft}function _setScrollLeft(element,value,rtl){rtl&&(_isRtlNegativeScroll()?value*=-1:(_isBrowserSafari()||_isBrowserChrome())&&(value=element.scrollWidth-element.getBoundingClientRect().width-value)),element.scrollLeft=value}function _clearElement(el){for(;el&&el.firstChild;)el.removeChild(el.firstChild)}function _removeFromParent(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function _isInDOM(element){return!!element.offsetParent}function _isVisible(element){const el=element;if(el.checkVisibility)return el.checkVisibility({checkVisibilityCSS:!0});return!(!_isInDOM(element)||"visible"!==window.getComputedStyle(element).visibility)}function _loadTemplate(template){const tempDiv=document.createElement("div");return tempDiv.innerHTML=(template||"").trim(),tempDiv.firstChild}function _ensureDomOrder(eContainer,eChild,eChildBefore){eChildBefore&&eChildBefore.nextSibling===eChild||(eContainer.firstChild?eChildBefore?eChildBefore.nextSibling?eContainer.insertBefore(eChild,eChildBefore.nextSibling):eContainer.appendChild(eChild):eContainer.firstChild&&eContainer.firstChild!==eChild&&eContainer.insertAdjacentElement("afterbegin",eChild):eContainer.appendChild(eChild))}function _setDomChildOrder(eContainer,orderedChildren){for(let i=0;i<orderedChildren.length;i++){const correctCellAtIndex=orderedChildren[i],actualCellAtIndex=eContainer.children[i];actualCellAtIndex!==correctCellAtIndex&&eContainer.insertBefore(correctCellAtIndex,actualCellAtIndex)}}function _addStylesToElement(eElement,styles){if(styles)for(const key of Object.keys(styles)){const value=styles[key];if(!key||!key.length||null==value)continue;const parsedKey=key.replace(/[A-Z]/g,(s=>`-${s.toLocaleLowerCase()}`)),valueAsString=value.toString(),parsedValue=valueAsString.replace(/\s*!important/g,""),priority=parsedValue.length!=valueAsString.length?"important":void 0;eElement.style.setProperty(parsedKey,parsedValue,priority)}}function _setElementWidth(element,width){"flex"===width?(element.style.removeProperty("width"),element.style.removeProperty("minWidth"),element.style.removeProperty("maxWidth"),element.style.flex="1 1 auto"):_setFixedWidth(element,width)}function _setFixedWidth(element,width){width=_formatSize(width),element.style.width=width.toString(),element.style.maxWidth=width.toString(),element.style.minWidth=width.toString()}function _setFixedHeight(element,height){height=_formatSize(height),element.style.height=height.toString(),element.style.maxHeight=height.toString(),element.style.minHeight=height.toString()}function _formatSize(size){return"number"==typeof size?`${size}px`:size}function _isNodeOrElement(o){return o instanceof Node||o instanceof HTMLElement}function _addOrRemoveAttribute(element,name,value){null==value||""===value?element.removeAttribute(name):element.setAttribute(name,value.toString())}function _nodeListForEach(nodeList,action){if(null!=nodeList)for(let i=0;i<nodeList.length;i++)action(nodeList[i])}function _observeResize(beans,element,callback){const ResizeObserverImpl=_getWindow(beans).ResizeObserver,resizeObserver=ResizeObserverImpl?new ResizeObserverImpl(callback):null;return resizeObserver?.observe(element),()=>resizeObserver?.disconnect()}function _makeNull(value){return null==value||""===value?null:value}function _exists(value){return null!=value&&""!==value}function _missing(value){return!_exists(value)}function _toStringOrNull(value){return null!=value&&"function"==typeof value.toString?value.toString():null}function _jsonEquals(val1,val2){return(val1?JSON.stringify(val1):null)===(val2?JSON.stringify(val2):null)}function _defaultComparator(valueA,valueB,accentedCompare=!1){const valueAMissing=null==valueA,valueBMissing=null==valueB;if(valueA&&valueA.toNumber&&(valueA=valueA.toNumber()),valueB&&valueB.toNumber&&(valueB=valueB.toNumber()),valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;function doQuickCompare(a,b){return a>b?1:a<b?-1:0}if("string"!=typeof valueA)return doQuickCompare(valueA,valueB);if(!accentedCompare)return doQuickCompare(valueA,valueB);try{return valueA.localeCompare(valueB)}catch(e){return doQuickCompare(valueA,valueB)}}var doOnceFlags={};function _doOnce(func,key){doOnceFlags[key]||(func(),doOnceFlags[key]=!0)}function _logIfDebug(gos,message,...args){gos.get("debug")&&console.log("AG Grid: "+message,...args)}function _warnOnce(msg,...args){_doOnce((()=>console.warn("AG Grid: "+msg,...args)),msg+args?.join(""))}function _errorOnce(msg,...args){_doOnce((()=>console.error("AG Grid: "+msg,...args)),msg+args?.join(""))}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function _executeNextVMTurn(func){executeNextVMTurnFuncs.push(func),executeNextVMTurnPending||(executeNextVMTurnPending=!0,window.setTimeout((()=>{const funcsCopy=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,funcsCopy.forEach((func2=>func2()))}),0))}function _debounce(bean,func,delay){let timeout;return function(...args){const context=this;window.clearTimeout(timeout),timeout=window.setTimeout((function(){bean.isAlive()&&func.apply(context,args)}),delay)}}function _throttle(func,wait){let previousCall=0;return function(...args){const currentCall=(new Date).getTime();currentCall-previousCall<wait||(previousCall=currentCall,func.apply(this,args))}}var VERSION="33.1.1",MAX_URL_LENGTH=2e3,MIN_PARAM_LENGTH=100,VERSION_PARAM_NAME="_version_",validation=null,suppressAllLogging=!1,baseDocLink="https://www.ag-grid.com/javascript-data-grid";function getErrorParts(id,args,defaultMessage){return validation?.getConsoleMessage(id,args)??[minifiedLog(id,args,defaultMessage)]}function getMsgOrDefault(logger,id,args,defaultMessage){suppressAllLogging||logger(`error #${id}`,...getErrorParts(id,args,defaultMessage))}function stringifyValue(value){let output=value;return value instanceof Error?output=value.toString():"object"==typeof value&&(output=function stringifyObject(inputObj){if(!inputObj)return String(inputObj);const object={};for(const prop of Object.keys(inputObj))"object"!=typeof inputObj[prop]&&"function"!=typeof inputObj[prop]&&(object[prop]=inputObj[prop]);return JSON.stringify(object)}(value)),output}function toStringWithNullUndefined(str){return void 0===str?"undefined":null===str?"null":str}function getParamsUrl(baseUrl,params){return`${baseUrl}?${params.toString()}`}function getErrorLink(errorNum,args){const params=new URLSearchParams;if(params.append(VERSION_PARAM_NAME,VERSION),args)for(const key of Object.keys(args))params.append(key,stringifyValue(args[key]));const baseUrl=`${baseDocLink}/errors/${errorNum}`,url=getParamsUrl(baseUrl,params);return url.length<=MAX_URL_LENGTH?url:function truncateUrl(baseUrl,params,maxLength){const sortedParams=Array.from(params.entries()).sort(((a,b)=>b[1].length-a[1].length));let url=getParamsUrl(baseUrl,params);for(const[key,value]of sortedParams){if(key===VERSION_PARAM_NAME)continue;const excessLength=url.length-maxLength;if(excessLength<=0)break;const ellipse="...",truncateAmount=excessLength+ellipse.length,truncatedValue=value.length-truncateAmount>MIN_PARAM_LENGTH?value.slice(0,value.length-truncateAmount)+ellipse:value.slice(0,MIN_PARAM_LENGTH)+ellipse;params.set(key,truncatedValue),url=getParamsUrl(baseUrl,params)}return url}(baseUrl,params,MAX_URL_LENGTH)}var minifiedLog=(errorNum,args,defaultMessage)=>`${defaultMessage?defaultMessage+" \n":""}Visit ${getErrorLink(errorNum,args)}${defaultMessage?"":" \n  Alternatively register the ValidationModule to see the full message in the console."}`;function _warn(...args){getMsgOrDefault(_warnOnce,args[0],args[1])}function _error(...args){getMsgOrDefault(_errorOnce,args[0],args[1])}function _logPreInitErr(id,args,defaultMessage){getMsgOrDefault(_errorOnce,id,args,defaultMessage)}function getErrMsg(defaultMessage,args){const id=args[0];return`error #${id} `+getErrorParts(id,args[1],defaultMessage).join(" ")}function _errMsg(...args){return getErrMsg(void 0,args)}function isRowModelType(gos,rowModelType){return gos.get("rowModelType")===rowModelType}function _isClientSideRowModel(gos,rowModel){return isRowModelType(gos,"clientSide")}function _isServerSideRowModel(gos,rowModel){return isRowModelType(gos,"serverSide")}function _isDomLayout(gos,domLayout){return gos.get("domLayout")===domLayout}function _isRowSelection(gos){return void 0!==_getRowSelectionMode(gos)}function _isGetRowHeightFunction(gos){return"function"==typeof gos.get("getRowHeight")}function _getRowHeightForNode(beans,rowNode,allowEstimate=!1,defaultRowHeight){const{gos,environment}=beans;if(null==defaultRowHeight&&(defaultRowHeight=environment.getDefaultRowHeight()),_isGetRowHeightFunction(gos)){if(allowEstimate)return{height:defaultRowHeight,estimated:!0};const params={node:rowNode,data:rowNode.data},height=gos.getCallback("getRowHeight")(params);if(isNumeric(height))return 0===height&&_warn(23),{height:Math.max(1,height),estimated:!1}}if(rowNode.detail&&gos.get("masterDetail"))return function getMasterDetailRowHeight(gos){if(gos.get("detailRowAutoHeight"))return{height:1,estimated:!1};const defaultRowHeight=gos.get("detailRowHeight");if(isNumeric(defaultRowHeight))return{height:defaultRowHeight,estimated:!1};return{height:300,estimated:!1}}(gos);const gridOptionsRowHeight=gos.get("rowHeight");return{height:gridOptionsRowHeight&&isNumeric(gridOptionsRowHeight)?gridOptionsRowHeight:defaultRowHeight,estimated:!1}}function _getRowHeightAsNumber(beans){const{environment,gos}=beans,gridOptionsRowHeight=gos.get("rowHeight");if(!gridOptionsRowHeight||_missing(gridOptionsRowHeight))return environment.getDefaultRowHeight();const rowHeight=environment.refreshRowHeightVariable();return-1!==rowHeight?rowHeight:(_warn(24),environment.getDefaultRowHeight())}function isNumeric(value){return!isNaN(value)&&"number"==typeof value&&isFinite(value)}function _getDomData(gos,element,key){const domData=element[gos.getDomDataKey()];return domData?domData[key]:void 0}function _setDomData(gos,element,key,value){const domDataKey=gos.getDomDataKey();let domData=element[domDataKey];_missing(domData)&&(domData={},element[domDataKey]=domData),domData[key]=value}function _getDocument(beans){const{gos,eGridDiv}=beans;let result=null;const gridOptionsGetDocument=gos.get("getDocument");return gridOptionsGetDocument&&_exists(gridOptionsGetDocument)?result=gridOptionsGetDocument():eGridDiv&&(result=eGridDiv.ownerDocument),result&&_exists(result)?result:document}function _getWindow(beans){return _getDocument(beans).defaultView||window}function _getRootNode(beans){return beans.eGridDiv.getRootNode()}function _getActiveDomElement(beans){return _getRootNode(beans).activeElement}function _getPageBody(beans){let rootNode=null,targetEl=null;try{rootNode=_getDocument(beans).fullscreenElement}catch(e){}finally{rootNode||(rootNode=_getRootNode(beans));const body=rootNode.querySelector("body");targetEl=body||(rootNode instanceof ShadowRoot?rootNode:rootNode instanceof Document?rootNode?.documentElement:rootNode)}return targetEl}function _anchorElementToMouseMoveEvent(element,mouseMoveEvent,beans){const height=element.getBoundingClientRect().height,browserWidth=function _getBodyWidth(beans){const body=_getPageBody(beans);return body?.clientWidth??(window.innerHeight||-1)}(beans)-2,browserHeight=function _getBodyHeight(beans){const body=_getPageBody(beans);return body?.clientHeight??(window.innerHeight||-1)}(beans)-2;if(!element.offsetParent)return;const offsetParentSize=_getElementRectWithOffset(element.offsetParent),{clientY,clientX}=mouseMoveEvent;let top=clientY-offsetParentSize.top-height/2,left=clientX-offsetParentSize.left-10;const eDocument=_getDocument(beans),win=eDocument.defaultView||window,windowScrollY=win.pageYOffset||eDocument.documentElement.scrollTop,windowScrollX=win.pageXOffset||eDocument.documentElement.scrollLeft;browserWidth>0&&left+element.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-element.clientWidth),left<0&&(left=0),browserHeight>0&&top+element.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-element.clientHeight),top<0&&(top=0),element.style.left=`${left}px`,element.style.top=`${top}px`}function _isNothingFocused(beans){const eDocument=_getDocument(beans),activeEl=_getActiveDomElement(beans);return null===activeEl||activeEl===eDocument.body}function _isAnimateRows(gos){return!gos.get("ensureDomOrder")&&gos.get("animateRows")}function _isGroupRowsSticky(gos){return!(gos.get("paginateChildRows")||gos.get("groupHideOpenParents")||_isDomLayout(gos,"print"))}function _isColumnsSortingCoupledToGroup(gos){const autoGroupColumnDef=gos.get("autoGroupColumnDef");return!autoGroupColumnDef?.comparator&&!gos.get("treeData")}function _getGroupAggFiltering(gos){const userValue=gos.get("groupAggFiltering");return"function"==typeof userValue?gos.getCallback("groupAggFiltering"):!0===userValue?()=>!0:void 0}function _isGroupUseEntireRow(gos,pivotMode){return!pivotMode&&"groupRows"===gos.get("groupDisplayType")}function _getRowIdCallback(gos){const getRowId=gos.getCallback("getRowId");return void 0===getRowId?getRowId:params=>{let id=getRowId(params);return"string"!=typeof id&&(_warn(25,{id}),id=String(id)),id}}function _getCheckboxes(selection){return selection?.checkboxes??!0}function _getHeaderCheckbox(selection){return"multiRow"===selection?.mode&&(selection.headerCheckbox??!0)}function _getCheckboxLocation(rowSelection){if("object"==typeof rowSelection)return rowSelection.checkboxLocation??"selectionColumn"}function _getHideDisabledCheckboxes(selection){return selection?.hideDisabledCheckboxes??!1}function _isCellSelectionEnabled(gos){const selection=gos.get("cellSelection");return void 0!==selection?!!selection:gos.get("enableRangeSelection")}function _getEnableClickSelection(gos){const selection=gos.get("rowSelection")??"single";if("string"==typeof selection){const suppressRowClickSelection=gos.get("suppressRowClickSelection"),suppressRowDeselection=gos.get("suppressRowDeselection");return(!suppressRowClickSelection||!suppressRowDeselection)&&(suppressRowClickSelection?"enableDeselection":!suppressRowDeselection||"enableSelection")}return("singleRow"===selection.mode||"multiRow"===selection.mode)&&(selection.enableClickSelection??!1)}function _getIsRowSelectable(gos){const selection=gos.get("rowSelection");return"string"==typeof selection?gos.get("isRowSelectable"):selection?.isRowSelectable}function _getRowSelectionMode(arg){const selection="beanName"in arg&&"gos"===arg.beanName?arg.get("rowSelection"):arg.rowSelection;if("string"==typeof selection)switch(selection){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(selection?.mode){case"multiRow":case"singleRow":return selection.mode;default:return}}function _isMultiRowSelection(arg){return"multiRow"===_getRowSelectionMode(arg)}function _getGroupSelection(gos){const selection=gos.get("rowSelection");if("string"==typeof selection){const groupSelectsChildren=gos.get("groupSelectsChildren"),groupSelectsFiltered=gos.get("groupSelectsFiltered");return groupSelectsChildren&&groupSelectsFiltered?"filteredDescendants":groupSelectsChildren?"descendants":"self"}return"multiRow"===selection?.mode?selection.groupSelects:void 0}function _getSelectAll(gos,defaultValue=!0){const rowSelection=gos.get("rowSelection");return"object"!=typeof rowSelection?defaultValue?"all":void 0:"multiRow"===rowSelection.mode?rowSelection.selectAll:"all"}function _getGroupSelectsDescendants(gos){const groupSelection=_getGroupSelection(gos);return"descendants"===groupSelection||"filteredDescendants"===groupSelection}function _getMasterSelects(gos){const rowSelection=gos.get("rowSelection");return"object"==typeof rowSelection&&rowSelection.masterSelects||"self"}function _isSetFilterByDefault(gos){return gos.isModuleRegistered("SetFilter")&&!gos.get("suppressSetFilterByDefault")}function _isLegacyMenuEnabled(gos){return"legacy"===gos.get("columnMenu")}function _getCallbackForEvent(eventName){return!eventName||eventName.length<2?eventName:"on"+eventName[0].toUpperCase()+eventName.substring(1)}function _combineAttributesAndGridOptions(gridOptions,component,gridOptionsKeys){"object"!=typeof gridOptions&&(gridOptions={});const mergedOptions={...gridOptions};return gridOptionsKeys.forEach((key=>{const value=component[key];void 0!==value&&(mergedOptions[key]=value)})),mergedOptions}function _processOnChange(changes,api){if(!changes)return;const gridChanges={};let hasChanges=!1;if(Object.keys(changes).forEach((key=>{gridChanges[key]=changes[key],hasChanges=!0})),!hasChanges)return;const internalUpdateEvent={type:"gridOptionsChanged",options:gridChanges};api.dispatchEvent(internalUpdateEvent);const event={type:"componentStateChanged",...gridChanges};api.dispatchEvent(event)}function _addGridCommonParams(gos,params){return gos.addGridCommonParams(params)}var PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],NON_PASSIVE_EVENTS=["wheel"],supports={};function _stopPropagationForAgGrid(event){event.__ag_Grid_Stop_Propagation=!0}function _isStopPropagationForAgGrid(event){return!0===event.__ag_Grid_Stop_Propagation}var _isEventSupported=(()=>{const tags={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return eventName=>{if("boolean"==typeof supports[eventName])return supports[eventName];const el=document.createElement(tags[eventName]||"div");return supports[eventName="on"+eventName]=eventName in el}})();function _getCtrlForEventTarget(gos,eventTarget,type){let sourceElement=eventTarget;for(;sourceElement;){const renderedComp=_getDomData(gos,sourceElement,type);if(renderedComp)return renderedComp;sourceElement=sourceElement.parentElement}return null}function _isElementInEventPath(element,event){return!(!event||!element)&&function _getEventPath(event){const eventNoType=event;if(eventNoType.path)return eventNoType.path;if(eventNoType.composedPath)return eventNoType.composedPath();return function _createEventPath(event){const res=[];let pointer=event.target;for(;pointer;)res.push(pointer),pointer=pointer.parentElement;return res}(eventNoType)}(event).indexOf(element)>=0}var getPassiveStateForEvent=event=>{const isPassive=PASSIVE_EVENTS.includes(event),isNonPassive=NON_PASSIVE_EVENTS.includes(event);return!!isPassive||!isNonPassive&&void 0},BeanStub=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(beans){this.beans=beans,this.stubContext=beans.context,this.eventSvc=beans.eventSvc,this.gos=beans.gos}destroy(){const{destroyFunctions}=this;for(let i=0;i<destroyFunctions.length;i++)destroyFunctions[i]();destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(eventType,listener,async){this.localEventService||(this.localEventService=new LocalEventService),this.localEventService.addEventListener(eventType,listener,async)}removeEventListener(eventType,listener,async){this.localEventService?.removeEventListener(eventType,listener,async)}dispatchLocalEvent(event){this.localEventService?.dispatchEvent(event)}addManagedElementListeners(object,handlers){return this._setupListeners(object,handlers)}addManagedEventListeners(handlers){return this._setupListeners(this.eventSvc,handlers)}addManagedListeners(object,handlers){return this._setupListeners(object,handlers)}_setupListeners(object,handlers){const destroyFuncs=[];for(const k of Object.keys(handlers)){const handler=handlers[k];handler&&destroyFuncs.push(this._setupListener(object,k,handler))}return destroyFuncs}_setupListener(object,event,listener){if(this.destroyed)return()=>null;let destroyFunc;return!function isAgEventEmitter(object){return void 0!==object.__addEventListener}(object)?(object instanceof HTMLElement?function _addSafePassiveEventListener(frameworkOverrides,eElement,event,listener){const passive=getPassiveStateForEvent(event);let options;null!=passive&&(options={passive}),frameworkOverrides&&frameworkOverrides.addEventListener&&frameworkOverrides.addEventListener(eElement,event,listener,options)}(this.beans.frameworkOverrides,object,event,listener):object.addEventListener(event,listener),destroyFunc=()=>(object.removeEventListener(event,listener),null)):(object.__addEventListener(event,listener),destroyFunc=()=>(object.__removeEventListener(event,listener),null)),this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}setupGridOptionListener(event,listener){const{gos}=this;gos.addPropertyEventListener(event,listener);const destroyFunc=()=>(gos.removePropertyEventListener(event,listener),null);return this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}addManagedPropertyListener(event,listener){return this.destroyed?()=>null:this.setupGridOptionListener(event,listener)}addManagedPropertyListeners(events,listener){if(this.destroyed)return;const eventsKey=events.join("-")+this.propertyListenerId++,wrappedListener=event=>{if(event.changeSet){if(event.changeSet&&event.changeSet.id===this.lastChangeSetIdLookup[eventsKey])return;this.lastChangeSetIdLookup[eventsKey]=event.changeSet.id}const propertiesChangeEvent={type:"gridPropertyChanged",changeSet:event.changeSet,source:event.source};listener(propertiesChangeEvent)};events.forEach((event=>this.setupGridOptionListener(event,wrappedListener)))}getLocaleTextFunc(){return _getLocaleTextFunc(this.beans.localeSvc)}addDestroyFunc(func){this.isAlive()?this.destroyFunctions.push(func):func()}createOptionalManagedBean(bean,context){return bean?this.createManagedBean(bean,context):void 0}createManagedBean(bean,context){const res=this.createBean(bean,context);return this.addDestroyFunc(this.destroyBean.bind(this,bean,context)),res}createBean(bean,context,afterPreCreateCallback){return(context||this.stubContext).createBean(bean,afterPreCreateCallback)}destroyBean(bean,context){return(context||this.stubContext).destroyBean(bean)}destroyBeans(beans,context){return(context||this.stubContext).destroyBeans(beans)}};var SKIP_JS_BUILTINS=new Set(["__proto__","constructor","prototype"]);function _mergeDeep(dest,source,copyUndefined=!0,makeCopyOfSimpleObjects=!1){_exists(source)&&function _iterateObject(object,callback){if(null!=object)if(Array.isArray(object))for(let i=0;i<object.length;i++)callback(i.toString(),object[i]);else for(const key of Object.keys(object))callback(key,object[key])}(source,((key,sourceValue)=>{if(SKIP_JS_BUILTINS.has(key))return;let destValue=dest[key];if(destValue!==sourceValue){if(makeCopyOfSimpleObjects){if(null==destValue&&null!=sourceValue){"object"==typeof sourceValue&&sourceValue.constructor===Object&&(destValue={},dest[key]=destValue)}}_isNonNullObject(sourceValue)&&_isNonNullObject(destValue)&&!Array.isArray(destValue)?_mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects):(copyUndefined||void 0!==sourceValue)&&(dest[key]=sourceValue)}}))}function _getValueUsingField(data,field,fieldContainsDots){if(!field||!data)return;if(!fieldContainsDots)return data[field];const fields=field.split(".");let currentObject=data;for(let i=0;i<fields.length;i++){if(null==currentObject)return;currentObject=currentObject[fields[i]]}return currentObject}function _isNonNullObject(value){return"object"==typeof value&&null!==value}var reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _escapeString(toEscape,skipEscapingHtmlChars){if(null==toEscape)return null;const stringResult=toEscape.toString().toString();return skipEscapingHtmlChars?stringResult:stringResult.replace(reUnescapedHtml,(chr=>HTML_ESCAPES[chr]))}var COL_DEF_DEFAULTS={resizable:!0,sortable:!0},instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}function isColumn(col){return col instanceof AgColumn}var AgColumn=class extends BeanStub{constructor(colDef,userProvidedColDef,colId,primary){super(),this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.colId=colId,this.primary=primary,this.isColumn=!0,this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new LocalEventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=_escapeString(colId)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef,beans:{sortSvc,pinnedCols,colFlex}}=this;sortSvc?.initCol(this);const hide=colDef.hide;this.visible=void 0!==hide?!hide:!colDef.initialHide,pinnedCols?.initCol(this),colFlex?.initCol(this)}setColDef(colDef,userProvidedColDef,source){const colSpanChanged=colDef.spanRows!==this.colDef.spanRows;this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),colSpanChanged&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",source)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos,colDef:{field,tooltipField}}=this,suppressDotNotation=gos.get("suppressFieldDotNotation");this.fieldContainsDots=_exists(field)&&field.indexOf(".")>=0&&!suppressDotNotation,this.tooltipFieldContainsDots=_exists(tooltipField)&&tooltipField.indexOf(".")>=0&&!suppressDotNotation}initMinAndMaxWidths(){const colDef=this.colDef;this.minWidth=colDef.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=colDef.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(source){const initialWidth=this.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,!0)}calculateColInitialWidth(colDef){let width;const colDefWidth=colDef.width,colDefInitialWidth=colDef.initialWidth;return width=null!=colDefWidth?colDefWidth:null!=colDefInitialWidth?colDefInitialWidth:200,Math.max(Math.min(width,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(colId){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,colId)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(eventType,listener){this.colEventSvc.addEventListener(eventType,listener)}__removeEventListener(eventType,listener){this.colEventSvc.removeEventListener(eventType,listener)}addEventListener(eventType,userListener){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const listener=this.frameworkEventListenerService?.wrap(userListener)??userListener;this.colEventSvc.addEventListener(eventType,listener)}removeEventListener(eventType,userListener){const listener=this.frameworkEventListenerService?.unwrap(userListener)??userListener;this.colEventSvc.removeEventListener(eventType,listener)}createColumnFunctionCallbackParams(rowNode){return _addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,column:this,colDef:this.colDef})}isSuppressNavigable(rowNode){return this.beans.cellNavigation?.isSuppressNavigable(this,rowNode)??!1}isCellEditable(rowNode){return this.beans.editSvc?.isCellEditable(this,rowNode)??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag)}isDndSource(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource)}isCellCheckboxSelection(rowNode){return this.beans.selectionSvc?.isCellCheckboxSelection(this,rowNode)??!1}isSuppressPaste(rowNode){return this.isColumnFunc(rowNode,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(key){return this.colDef[key]??COL_DEF_DEFAULTS[key]}isColumnFunc(rowNode,value){if("boolean"==typeof value)return value;if("function"==typeof value){return value(this.createColumnFunctionCallbackParams(rowNode))}return!1}createColumnEvent(type,source){return _addGridCommonParams(this.gos,{type,column:this,columns:[this],source})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return _missing(this.sort)}isSorting(){return _exists(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(left,source){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.dispatchColEvent("leftChanged",source))}isFilterActive(){return this.filterActive}isHovered(){return _warn(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(firstRightPinned,source){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.dispatchColEvent("firstRightPinnedChanged",source))}setLastLeftPinned(lastLeftPinned,source){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.dispatchColEvent("lastLeftPinnedChanged",source))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(visible,source){const newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.dispatchColEvent("visibleChanged",source)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let parent=this.getParent();if(!parent||!parent.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const numberOfParents=parent.getPaddingLevel()+1;let isSpanningTotal=!0;for(;parent;){if(!parent.isPadding()){isSpanningTotal=!1;break}parent=parent.getParent()}return{numberOfParents,isSpanningTotal}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}createBaseColDefParams(rowNode){return _addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,colDef:this.colDef,column:this})}getColSpan(rowNode){if(_missing(this.colDef.colSpan))return 1;const params=this.createBaseColDefParams(rowNode),colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1)}getRowSpan(rowNode){if(_missing(this.colDef.rowSpan))return 1;const params=this.createBaseColDefParams(rowNode),rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1)}setActualWidth(actualWidth,source,silent=!1){actualWidth=Math.max(actualWidth,this.minWidth),actualWidth=Math.min(actualWidth,this.maxWidth),this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,null!=this.flex&&"flex"!==source&&"gridInitializing"!==source&&(this.flex=null),silent||this.fireColumnWidthChangedEvent(source)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(source){this.dispatchColEvent("widthChanged",source)}isGreaterThanMax(width){return width>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchColEvent(type,source,additionalEventAttributes){const colEvent=this.createColumnEvent(type,source);additionalEventAttributes&&_mergeDeep(colEvent,additionalEventAttributes),this.colEventSvc.dispatchEvent(colEvent)}dispatchStateUpdatedEvent(key){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key})}};function isProvidedColumnGroup(col){return col instanceof AgProvidedColumnGroup}var AgProvidedColumnGroup=class extends BeanStub{constructor(colGroupDef,groupId,padding,level){super(),this.colGroupDef=colGroupDef,this.groupId=groupId,this.padding=padding,this.level=level,this.isColumn=!1,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.expanded=!!colGroupDef?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(colGroupDef,level){this.colGroupDef=colGroupDef,this.level=level,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((child=>child.isVisible()))}isPadding(){return this.padding}setExpanded(expanded){this.expanded=void 0!==expanded&&expanded,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(children){this.children=children}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}addLeafColumns(leafColumns){this.children&&this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isProvidedColumnGroup(child)&&child.addLeafColumns(leafColumns)}))}getColumnGroupShow(){const colGroupDef=this.colGroupDef;if(colGroupDef)return colGroupDef.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const listener=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((col=>col.__addEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((col=>col.__removeEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1;const children=this.findChildrenRemovingPadding();for(let i=0,j=children.length;i<j;i++){const abstractColumn=children[i];if(!abstractColumn.isVisible())continue;const headerGroupShow=abstractColumn.getColumnGroupShow();"open"===headerGroupShow?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):"closed"===headerGroupShow?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}const expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;this.expandable!==expandable&&(this.expandable=expandable,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const res=[],process=items=>{items.forEach((item=>{isProvidedColumnGroup(item)&&item.isPadding()?process(item.children):res.push(item)}))};return process(this.children),res}onColumnVisibilityChanged(){this.setExpandable()}},DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ColumnKeyCreator=class{constructor(){this.existingKeys={}}addExistingKeys(keys){for(let i=0;i<keys.length;i++)this.existingKeys[keys[i]]=!0}getUniqueKey(colId,colField){colId=_toStringOrNull(colId);let count=0;for(;;){let idToTry=colId??colField;if(idToTry?0!==count&&(idToTry+="_"+count):idToTry=count,!this.existingKeys[idToTry])return this.existingKeys[idToTry]=!0,String(idToTry);count++}}},_EmptyArray=Object.freeze([]);function _last(arr){if(arr?.length)return arr[arr.length-1]}function _areEqual(a,b,comparator){return null==a&&null==b||null!=a&&null!=b&&a.length===b.length&&a.every(((value,index)=>comparator?comparator(value,b[index]):b[index]===value))}function _removeFromArray(array,object){const index=array.indexOf(object);index>=0&&array.splice(index,1)}function _moveInArray(array,objectsToMove,toIndex){for(let i=0;i<objectsToMove.length;i++)_removeFromArray(array,objectsToMove[i]);for(let i=objectsToMove.length-1;i>=0;i--)array.splice(toIndex,0,objectsToMove[i])}var GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",SELECTION_COLUMN_ID="ag-Grid-SelectionColumn";function _getColumnsFromTree(rootColumns){const result=[],recursiveFindColumns=childColumns=>{for(let i=0;i<childColumns.length;i++){const child=childColumns[i];isColumn(child)?result.push(child):isProvidedColumnGroup(child)&&recursiveFindColumns(child.getChildren())}};return recursiveFindColumns(rootColumns),result}function getWidthOfColsInList(columnList){return columnList.reduce(((width,col)=>width+col.getActualWidth()),0)}function _destroyColumnTree(beans,oldTree,newTree){const oldObjectsById={};if(!oldTree)return;depthFirstOriginalTreeSearch(null,oldTree,(child=>{oldObjectsById[child.getInstanceId()]=child})),newTree&&depthFirstOriginalTreeSearch(null,newTree,(child=>{oldObjectsById[child.getInstanceId()]=null}));const colsToDestroy=Object.values(oldObjectsById).filter((item=>null!=item));beans.context.destroyBeans(colsToDestroy)}function isColumnGroupAutoCol(col){return col.getId().startsWith(GROUP_AUTO_COLUMN_ID)}function isColumnSelectionCol(col){const id="string"==typeof col?col:"getColId"in col?col.getColId():col.colId;return id?.startsWith(SELECTION_COLUMN_ID)??!1}function isRowNumberCol(col){const id="string"==typeof col?col:"getColId"in col?col.getColId():col.colId;return id?.startsWith("ag-Grid-RowNumbersColumn")??!1}function convertColumnTypes(type){let typeKeys=[];return type instanceof Array?typeKeys=type:"string"==typeof type&&(typeKeys=type.split(",")),typeKeys}function _convertColumnEventSourceType(source){return"gridOptionsUpdated"===source?"gridOptionsChanged":source}function _columnsMatch(column,key){const columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches}var getValueFactory=(stateItem,defaultState)=>(key1,key2)=>{const obj={value1:void 0,value2:void 0};let calculated=!1;return stateItem&&(void 0!==stateItem[key1]&&(obj.value1=stateItem[key1],calculated=!0),_exists(key2)&&void 0!==stateItem[key2]&&(obj.value2=stateItem[key2],calculated=!0)),!calculated&&defaultState&&(void 0!==defaultState[key1]&&(obj.value1=defaultState[key1]),_exists(key2)&&void 0!==defaultState[key2]&&(obj.value2=defaultState[key2])),obj};function _createColumnTree(beans,defs=null,primaryColumns,existingTree,source){const columnKeyCreator=new ColumnKeyCreator,{existingCols,existingGroups,existingColKeys}=function extractExistingTreeData(existingTree){const existingCols=[],existingGroups=[],existingColKeys=[];existingTree&&depthFirstOriginalTreeSearch(null,existingTree,(item=>{if(isProvidedColumnGroup(item)){const group=item;existingGroups.push(group)}else{const col=item;existingColKeys.push(col.getId()),existingCols.push(col)}}));return{existingCols,existingGroups,existingColKeys}}(existingTree);columnKeyCreator.addExistingKeys(existingColKeys);const unbalancedTree=_recursivelyCreateColumns(beans,defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups,source),{colGroupSvc}=beans,treeDept=colGroupSvc?.findMaxDepth(unbalancedTree,0)??0,columnTree=colGroupSvc?colGroupSvc.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator):unbalancedTree;return depthFirstOriginalTreeSearch(null,columnTree,((child,parent)=>{isProvidedColumnGroup(child)&&child.setupExpandable(),child.originalParent=parent})),{columnTree,treeDept}}function _recursivelyCreateColumns(beans,defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups,source){if(!defs)return[];const{colGroupSvc}=beans,result=new Array(defs.length);for(let i=0;i<result.length;i++){const def=defs[i];colGroupSvc&&void 0!==def.children?result[i]=colGroupSvc.createProvidedColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups,source):result[i]=createColumn(beans,primaryColumns,def,existingColsCopy,columnKeyCreator,source)}return result}function createColumn(beans,primaryColumns,colDef,existingColsCopy,columnKeyCreator,source){const existingColAndIndex=function findExistingColumn(newColDef,existingColsCopy){if(!existingColsCopy)return;for(let i=0;i<existingColsCopy.length;i++){const def=existingColsCopy[i].getUserProvidedColDef();if(!def)continue;if(null!=newColDef.colId){if(existingColsCopy[i].getId()===newColDef.colId)return{idx:i,column:existingColsCopy[i]};continue}if(null!=newColDef.field){if(def.field===newColDef.field)return{idx:i,column:existingColsCopy[i]}}else if(def===newColDef)return{idx:i,column:existingColsCopy[i]}}return}(colDef,existingColsCopy);existingColAndIndex&&existingColsCopy?.splice(existingColAndIndex.idx,1);let column=existingColAndIndex?.column;if(column){const colDefMerged=_addColumnDefaultAndTypes(beans,colDef,column.getColId());column.setColDef(colDefMerged,colDef,source),function _updateColumnState(beans,column,colDef,source){updateSomeColumnState(beans,column,colDef.hide,colDef.sort,colDef.sortIndex,colDef.pinned,colDef.flex,source);const colFlex=column.getFlex();if(null!=colFlex&&colFlex>0)return;if(null!=colDef.width)column.setActualWidth(colDef.width,source);else{const widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate,source)}}(beans,column,colDefMerged,source)}else{const colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field),colDefMerged=_addColumnDefaultAndTypes(beans,colDef,colId);column=new AgColumn(colDefMerged,colDef,colId,primaryColumns),beans.context.createBean(column)}return beans.dataTypeSvc?.addColumnListeners(column),column}function updateSomeColumnState(beans,column,hide,sort,sortIndex,pinned,flex,source){const{sortSvc,pinnedCols,colFlex}=beans;void 0!==hide&&column.setVisible(!hide,source),sortSvc&&(sortSvc.updateColSort(column,sort,source),void 0!==sortIndex&&sortSvc.setColSortIndex(column,sortIndex)),void 0!==pinned&&pinnedCols?.setColPinned(column,pinned),void 0!==flex&&colFlex?.setColFlex(column,flex)}function _addColumnDefaultAndTypes(beans,colDef,colId,isAutoCol){const{gos,dataTypeSvc,validation:validation2}=beans,res={};_mergeDeep(res,gos.get("defaultColDef"),!1,!0);const columnType=function updateColDefAndGetColumnType(beans,colDef,userColDef,colId){const dataTypeDefinitionColumnType=beans.dataTypeSvc?.updateColDefAndGetColumnType(colDef,userColDef,colId),columnTypes=userColDef.type??dataTypeDefinitionColumnType??colDef.type;return colDef.type=columnTypes,columnTypes?convertColumnTypes(columnTypes):void 0}(beans,res,colDef,colId);columnType&&function assignColumnTypes(beans,typeKeys,colDefMerged){if(!typeKeys.length)return;const allColumnTypes=Object.assign({},DefaultColumnTypes),userTypes=beans.gos.get("columnTypes")||{};for(const key of Object.keys(userTypes)){const value=userTypes[key];if(key in allColumnTypes)_warn(34,{key});else{value.type&&_warn(35),allColumnTypes[key]=value}}typeKeys.forEach((t=>{const typeColDef=allColumnTypes[t.trim()];typeColDef?_mergeDeep(colDefMerged,typeColDef,!1,!0):_warn(36,{t})}))}(beans,columnType,res),_mergeDeep(res,colDef,!1,!0);const autoGroupColDef=gos.get("autoGroupColumnDef"),isSortingCoupled=_isColumnsSortingCoupledToGroup(gos);return colDef.rowGroup&&autoGroupColDef&&isSortingCoupled&&_mergeDeep(res,{sort:autoGroupColDef.sort,initialSort:autoGroupColDef.initialSort},!1,!0),dataTypeSvc?.validateColDef(res),validation2?.validateColDef(res,colId,isAutoCol),res}function depthFirstOriginalTreeSearch(parent,tree,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];isProvidedColumnGroup(child)&&depthFirstOriginalTreeSearch(child,child.getChildren(),callback),callback(child,parent)}}function placeLockedColumns(cols,gos){const left=[],normal=[],right=[];cols.forEach((col=>{const position=col.getColDef().lockPosition;"right"===position?right.push(col):"left"===position||!0===position?left.push(col):normal.push(col)}));return gos.get("enableRtl")?[...right,...normal,...left]:[...left,...normal,...right]}function doesMovePassMarryChildren(allColumnsCopy,gridBalancedTree){let rulePassed=!0;return depthFirstOriginalTreeSearch(null,gridBalancedTree,(child=>{if(!isProvidedColumnGroup(child))return;const columnGroup=child,colGroupDef=columnGroup.getColGroupDef();if(!(colGroupDef&&colGroupDef.marryChildren))return;const newIndexes=[];columnGroup.getLeafColumns().forEach((col=>{const newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex)}));Math.max.apply(Math,newIndexes)-Math.min.apply(Math,newIndexes)>columnGroup.getLeafColumns().length-1&&(rulePassed=!1)})),rulePassed}function getCommonValue(cols,valueGetter){if(!cols||0==cols.length)return;const firstValue=valueGetter(cols[0]);for(let i=1;i<cols.length;i++)if(firstValue!==valueGetter(cols[i]))return;return firstValue}function dispatchColumnPinnedEvent(eventSvc,changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,pinned=getCommonValue(changedColumns,(col=>col.getPinned()));eventSvc.dispatchEvent({type:"columnPinned",pinned:null!=pinned?pinned:null,columns:changedColumns,column,source})}function dispatchColumnChangedEvent(eventSvc,type,columns,source){eventSvc.dispatchEvent({type,columns,column:columns&&1==columns.length?columns[0]:null,source})}function dispatchColumnResizedEvent(eventSvc,columns,finished,source,flexColumns=null){columns?.length&&eventSvc.dispatchEvent({type:"columnResized",columns,column:1===columns.length?columns[0]:null,flexColumns,finished,source})}function _applyColumnState(beans,params,source){const{colModel,rowGroupColsSvc,pivotColsSvc,autoColSvc,selectionColSvc,colAnimation,visibleCols,pivotResultCols,environment,valueColsSvc,eventSvc,gos}=beans,providedCols=colModel.getColDefCols()||[];if(!providedCols?.length)return!1;if(params?.state&&!params.state.forEach)return _warn(32),!1;const syncColumnWithStateItem=(column,stateItem,rowGroupIndexes,pivotIndexes,autoCol)=>{if(!column)return;const getValue=getValueFactory(stateItem,params.defaultState),flex=getValue("flex").value1;if(updateSomeColumnState(beans,column,getValue("hide").value1,getValue("sort").value1,getValue("sortIndex").value1,getValue("pinned").value1,flex,source),null==flex){const width=getValue("width").value1;if(null!=width){const minColWidth=column.getColDef().minWidth??environment.getDefaultColumnMinWidth();null!=minColWidth&&width>=minColWidth&&column.setActualWidth(width,source)}}!autoCol&&column.isPrimary()&&(valueColsSvc?.syncColumnWithState(column,source,getValue),rowGroupColsSvc?.syncColumnWithState(column,source,getValue,rowGroupIndexes),pivotColsSvc?.syncColumnWithState(column,source,getValue,pivotIndexes))},applyStates=(states,existingColumns,getById2)=>{const dispatchEventsFunc=_compareColumnStatesAndDispatchEvents(beans,source),columnsWithNoState=existingColumns.slice(),rowGroupIndexes={},pivotIndexes={},autoColStates=[],selectionColStates=[],unmatchedAndAutoStates2=[];let unmatchedCount2=0;const previousRowGroupCols=rowGroupColsSvc?.columns.slice()??[],previousPivotCols=pivotColsSvc?.columns.slice()??[];states.forEach((state=>{const colId=state.colId;if(colId.startsWith(GROUP_AUTO_COLUMN_ID))return autoColStates.push(state),void unmatchedAndAutoStates2.push(state);if(isColumnSelectionCol(colId))return selectionColStates.push(state),void unmatchedAndAutoStates2.push(state);const column=getById2(colId);column?(syncColumnWithStateItem(column,state,rowGroupIndexes,pivotIndexes,!1),_removeFromArray(columnsWithNoState,column)):(unmatchedAndAutoStates2.push(state),unmatchedCount2+=1)}));const applyDefaultsFunc=col=>syncColumnWithStateItem(col,null,rowGroupIndexes,pivotIndexes,!1);columnsWithNoState.forEach(applyDefaultsFunc),rowGroupColsSvc?.sortColumns(comparatorByIndex.bind(rowGroupColsSvc,rowGroupIndexes,previousRowGroupCols)),pivotColsSvc?.sortColumns(comparatorByIndex.bind(pivotColsSvc,pivotIndexes,previousPivotCols)),colModel.refreshCols(!1);const syncColStates=(getCol,colStates,columns=[])=>{colStates.forEach((stateItem=>{const col=getCol(stateItem.colId);_removeFromArray(columns,col),syncColumnWithStateItem(col,stateItem,null,null,!0)})),columns.forEach(applyDefaultsFunc)};return syncColStates((colId=>autoColSvc?.getColumn(colId)??null),autoColStates,autoColSvc?.getColumns()?.slice()),syncColStates((colId=>selectionColSvc?.getColumn(colId)??null),selectionColStates,selectionColSvc?.getColumns()?.slice()),function orderLiveColsLikeState(params,colModel,gos){if(!params.applyOrder||!params.state)return;const colIds=[];params.state.forEach((item=>{null!=item.colId&&colIds.push(item.colId)})),function sortColsLikeKeys(cols,colIds,colModel,gos){if(null==cols)return;let newOrder=[];const processedColIds={};colIds.forEach((colId=>{if(processedColIds[colId])return;const col=cols.map[colId];col&&(newOrder.push(col),processedColIds[colId]=!0)}));let autoGroupInsertIndex=0;if(cols.list.forEach((col=>{const colId=col.getColId();if(null!=processedColIds[colId])return;colId.startsWith(GROUP_AUTO_COLUMN_ID)?newOrder.splice(autoGroupInsertIndex++,0,col):newOrder.push(col)})),newOrder=placeLockedColumns(newOrder,gos),!doesMovePassMarryChildren(newOrder,colModel.getColTree()))return void _warn(39);cols.list=newOrder}(colModel.cols,colIds,colModel,gos)}(params,colModel,gos),visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnEverythingChanged",source}),dispatchEventsFunc(),{unmatchedAndAutoStates:unmatchedAndAutoStates2,unmatchedCount:unmatchedCount2}};colAnimation?.start();let{unmatchedAndAutoStates,unmatchedCount}=applyStates(params.state||[],providedCols,(id=>colModel.getColDefCol(id)));if(unmatchedAndAutoStates.length>0||_exists(params.defaultState)){unmatchedCount=applyStates(unmatchedAndAutoStates,pivotResultCols?.getPivotResultCols()?.list??[],(id=>pivotResultCols?.getPivotResultCol(id)??null)).unmatchedCount}return colAnimation?.finish(),0===unmatchedCount}function _compareColumnStatesAndDispatchEvents(beans,source){const{rowGroupColsSvc,pivotColsSvc,valueColsSvc,colModel,sortSvc,eventSvc}=beans,startState={rowGroupColumns:rowGroupColsSvc?.columns.slice()??[],pivotColumns:pivotColsSvc?.columns.slice()??[],valueColumns:valueColsSvc?.columns.slice()??[]},columnStateBefore=_getColumnState(beans),columnStateBeforeMap={};return columnStateBefore.forEach((col=>{columnStateBeforeMap[col.colId]=col})),()=>{const colsForState=colModel.getAllCols(),dispatchWhenListsDifferent=(eventType,colsBefore,colsAfter,idMapper)=>{if(_areEqual(colsBefore.map(idMapper),colsAfter.map(idMapper)))return;const changes=new Set(colsBefore);colsAfter.forEach((id=>{changes.delete(id)||changes.add(id)}));const changesArr=[...changes];eventSvc.dispatchEvent({type:eventType,columns:changesArr,column:1===changesArr.length?changesArr[0]:null,source})},getChangedColumns=changedPredicate=>{const changedColumns2=[];return colsForState.forEach((column=>{const colStateBefore=columnStateBeforeMap[column.getColId()];colStateBefore&&changedPredicate(colStateBefore,column)&&changedColumns2.push(column)})),changedColumns2},columnIdMapper=c=>c.getColId();dispatchWhenListsDifferent("columnRowGroupChanged",startState.rowGroupColumns,rowGroupColsSvc?.columns??[],columnIdMapper),dispatchWhenListsDifferent("columnPivotChanged",startState.pivotColumns,pivotColsSvc?.columns??[],columnIdMapper);const changedValues=getChangedColumns(((cs,c)=>{const oldActive=null!=cs.aggFunc,activeChanged=oldActive!=c.isValueActive(),aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged}));changedValues.length>0&&dispatchColumnChangedEvent(eventSvc,"columnValueChanged",changedValues,source);dispatchColumnResizedEvent(eventSvc,getChangedColumns(((cs,c)=>cs.width!=c.getActualWidth())),!0,source);dispatchColumnPinnedEvent(eventSvc,getChangedColumns(((cs,c)=>cs.pinned!=c.getPinned())),source);!function dispatchColumnVisibleEvent(eventSvc,changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,visible=getCommonValue(changedColumns,(col=>col.isVisible()));eventSvc.dispatchEvent({type:"columnVisible",visible,columns:changedColumns,column,source})}(eventSvc,getChangedColumns(((cs,c)=>cs.hide==c.isVisible())),source);const changedColumns=getChangedColumns(((cs,c)=>cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex()));changedColumns.length>0&&sortSvc?.dispatchSortChangedEvents(source,changedColumns);const colStateAfter=_getColumnState(beans);!function normaliseColumnMovedEventForColumnState(colStateBefore,colStateAfter,source,colModel,eventSvc){const colStateAfterMapped={};colStateAfter.forEach((s=>colStateAfterMapped[s.colId]=s));const colsIntersectIds={};colStateBefore.forEach((s=>{colStateAfterMapped[s.colId]&&(colsIntersectIds[s.colId]=!0)}));const beforeFiltered=colStateBefore.filter((c=>colsIntersectIds[c.colId])),afterFiltered=colStateAfter.filter((c=>colsIntersectIds[c.colId])),movedColumns=[];if(afterFiltered.forEach(((csAfter,index)=>{const csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){const gridCol=colModel.getCol(csBefore.colId);gridCol&&movedColumns.push(gridCol)}})),!movedColumns.length)return;eventSvc.dispatchEvent({type:"columnMoved",columns:movedColumns,column:1===movedColumns.length?movedColumns[0]:null,finished:!0,source})}(columnStateBefore,colStateAfter,source,colModel,eventSvc)}}function _getColumnState(beans){const{colModel,rowGroupColsSvc,pivotColsSvc}=beans;if(_missing(colModel.getColDefCols())||!colModel.isAlive())return[];const colsForState=colModel.getAllCols(),rowGroupColumns=rowGroupColsSvc?.columns,pivotColumns=pivotColsSvc?.columns,res=colsForState.map((col=>(column=>{const rowGroupIndex=column.isRowGroupActive()&&rowGroupColumns?rowGroupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()&&pivotColumns?pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,sort=null!=column.getSort()?column.getSort():null,sortIndex=null!=column.getSortIndex()?column.getSortIndex():null;return{colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort,sortIndex,aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex,pivot:column.isPivotActive(),pivotIndex,flex:column.getFlex()??null}})(col))),colIdToGridIndexMap=new Map(colModel.getCols().map(((col,index)=>[col.getColId(),index])));return res.sort(((itemA,itemB)=>(colIdToGridIndexMap.has(itemA.colId)?colIdToGridIndexMap.get(itemA.colId):-1)-(colIdToGridIndexMap.has(itemB.colId)?colIdToGridIndexMap.get(itemB.colId):-1))),res}function getColumnStateFromColDef(column){const getValueOrNull=(a,b)=>null!=a?a:null!=b?b:null,colDef=column.getColDef(),sort=getValueOrNull(colDef.sort,colDef.initialSort),sortIndex=getValueOrNull(colDef.sortIndex,colDef.initialSortIndex),hide=getValueOrNull(colDef.hide,colDef.initialHide),pinned=getValueOrNull(colDef.pinned,colDef.initialPinned),width=getValueOrNull(colDef.width,colDef.initialWidth),flex=getValueOrNull(colDef.flex,colDef.initialFlex);let rowGroupIndex=getValueOrNull(colDef.rowGroupIndex,colDef.initialRowGroupIndex),rowGroup=getValueOrNull(colDef.rowGroup,colDef.initialRowGroup);null!=rowGroupIndex||null!=rowGroup&&0!=rowGroup||(rowGroupIndex=null,rowGroup=null);let pivotIndex=getValueOrNull(colDef.pivotIndex,colDef.initialPivotIndex),pivot=getValueOrNull(colDef.pivot,colDef.initialPivot);null!=pivotIndex||null!=pivot&&0!=pivot||(pivotIndex=null,pivot=null);const aggFunc=getValueOrNull(colDef.aggFunc,colDef.initialAggFunc);return{colId:column.getColId(),sort,sortIndex,hide,pinned,width,flex,rowGroup,rowGroupIndex,pivot,pivotIndex,aggFunc}}var comparatorByIndex=(indexes,oldList,colA,colB)=>{const indexA=indexes[colA.getId()],indexB=indexes[colB.getId()],aHasIndex=null!=indexA,bHasIndex=null!=indexB;if(aHasIndex&&bHasIndex)return indexA-indexB;if(aHasIndex)return-1;if(bHasIndex)return 1;const oldIndexA=oldList.indexOf(colA),oldIndexB=oldList.indexOf(colB),aHasOldIndex=oldIndexA>=0;return aHasOldIndex&&oldIndexB>=0?oldIndexA-oldIndexB:aHasOldIndex?-1:1},GroupInstanceIdCreator=class{constructor(){this.existingIds={}}getInstanceIdForKey(key){const lastResult=this.existingIds[key];let result;return result="number"!=typeof lastResult?0:lastResult+1,this.existingIds[key]=result,result}};function setupCompBean(ctrl,ctx,compBean){return compBean&&ctrl.addDestroyFunc((()=>ctx.destroyBean(compBean))),compBean??ctrl}var CssClassManager=class{constructor(getGui){this.cssClassStates={},this.getGui=getGui}addCssClass(className){this.addOrRemoveCssClass(className,!0)}removeCssClass(className){this.addOrRemoveCssClass(className,!1)}containsCssClass(className){const eGui=this.getGui();return!!eGui&&eGui.classList.contains(className)}addOrRemoveCssClass(className,addOrRemove){if(!className)return;if(className.indexOf(" ")>=0){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.addOrRemoveCssClass(cls,addOrRemove)))}if(this.cssClassStates[className]!==addOrRemove&&className.length){const eGui=this.getGui();eGui&&eGui.classList.toggle(className,addOrRemove),this.cssClassStates[className]=addOrRemove}}},compIdSequence=0,Component=class extends BeanStub{constructor(template,componentSelectors){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=compIdSequence++,this.cssClassManager=new CssClassManager((()=>this.eGui)),this.componentSelectors=new Map((componentSelectors??[]).map((comp=>[comp.selector,comp]))),template&&this.setTemplate(template)}preConstruct(){this.wireTemplate(this.getGui());const debugId="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach((css=>this.beans.environment.addGlobalCSS(css,debugId)))}wireTemplate(element,paramsMap){element&&this.gos&&(this.applyElementsToComponent(element),this.createChildComponentsFromTags(element,paramsMap))}getCompId(){return this.compId}getDataRefAttribute(element){return element.getAttribute?element.getAttribute("data-ref"):null}applyElementsToComponent(element,elementRef,paramsMap,newComponent=null){if(void 0===elementRef&&(elementRef=this.getDataRefAttribute(element)),elementRef){const current=this[elementRef];if(null===current)this[elementRef]=newComponent??element;else{const usedAsParamRef=paramsMap&&paramsMap[elementRef];if(!this.suppressDataRefValidation&&!usedAsParamRef)throw new Error(`data-ref: ${elementRef} on ${this.constructor.name} with ${current}`)}}}createChildComponentsFromTags(parentNode,paramsMap){(function _copyNodeList(nodeList){if(null==nodeList)return[];const result=[];return _nodeListForEach(nodeList,(node=>result.push(node))),result})(parentNode.childNodes).forEach((childNode=>{if(!(childNode instanceof HTMLElement))return;const childComp=this.createComponentFromElement(childNode,(childComp2=>{childComp2.getGui()&&this.copyAttributesFromNode(childNode,childComp2.getGui())}),paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){this.createChildComponentsFromTags(childNode,paramsMap);const items=Array.prototype.slice.call(childNode.children);childComp.addItems(items)}this.swapComponentForNode(childComp,parentNode,childNode)}else childNode.childNodes&&this.createChildComponentsFromTags(childNode,paramsMap)}))}createComponentFromElement(element,afterPreCreateCallback,paramsMap){const key=element.nodeName,elementRef=this.getDataRefAttribute(element),isAgGridComponent=0===key.indexOf("AG-"),componentSelector=isAgGridComponent?this.componentSelectors.get(key):null;let newComponent=null;if(componentSelector){const componentParams=paramsMap&&elementRef?paramsMap[elementRef]:void 0;newComponent=new componentSelector.component(componentParams),newComponent.setParentComponent(this),this.createBean(newComponent,null,afterPreCreateCallback)}else if(isAgGridComponent)throw new Error(`selector: ${key}`);return this.applyElementsToComponent(element,elementRef,paramsMap,newComponent),newComponent}copyAttributesFromNode(source,dest){!function _iterateNamedNodeMap(map,callback){if(map)for(let i=0;i<map.length;i++){const attr=map[i];callback(attr.name,attr.value)}}(source.attributes,((name,value)=>dest.setAttribute(name,value)))}swapComponentForNode(newComponent,parentNode,childNode){const eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode),parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent),this.addDestroyFunc(this.destroyBean.bind(this,newComponent))}activateTabIndex(elements){const tabIndex=this.gos.get("tabIndex");elements||(elements=[]),elements.length||elements.push(this.getGui()),elements.forEach((el=>el.setAttribute("tabindex",tabIndex.toString())))}setTemplate(template,componentSelectors,paramsMap){const eGui=_loadTemplate(template);this.setTemplateFromElement(eGui,componentSelectors,paramsMap)}setTemplateFromElement(element,components,paramsMap,suppressDataRefValidation=!1){if(this.eGui=element,this.suppressDataRefValidation=suppressDataRefValidation,components)for(let i=0;i<components.length;i++){const component=components[i];this.componentSelectors.set(component.selector,component)}this.wireTemplate(element,paramsMap)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(component){this.parentComponent=component}getParentComponent(){return this.parentComponent}setGui(eGui){this.eGui=eGui}queryForHtmlElement(cssSelector){return this.eGui.querySelector(cssSelector)}getContainerAndElement(newChild,container){let parent=container;return null==newChild?null:(parent||(parent=this.eGui),_isNodeOrElement(newChild)?{element:newChild,parent}:{element:newChild.getGui(),parent})}prependChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.insertAdjacentElement("afterbegin",element)}appendChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.appendChild(element)}isDisplayed(){return this.displayed}setVisible(visible,options={}){if(visible!==this.visible){this.visible=visible;const{skipAriaHidden}=options;!function _setVisible(element,visible,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-invisible",!visible),skipAriaHidden||_setAriaHidden(element,!visible)}(this.eGui,visible,{skipAriaHidden})}}setDisplayed(displayed,options={}){if(displayed!==this.displayed){this.displayed=displayed;const{skipAriaHidden}=options;_setDisplayed(this.eGui,displayed,{skipAriaHidden});const event={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(event)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(event,listener,options){this.eGui.addEventListener(event,listener,options),this.addDestroyFunc((()=>this.eGui.removeEventListener(event,listener)))}addCssClass(className){this.cssClassManager.addCssClass(className)}removeCssClass(className){this.cssClassManager.removeCssClass(className)}containsCssClass(className){return this.cssClassManager.containsCssClass(className)}addOrRemoveCssClass(className,addOrRemove){this.cssClassManager.addOrRemoveCssClass(className,addOrRemove)}registerCSS(css){this.css||(this.css=[]),this.css.push(css)}};var AgPromise=class _AgPromise{constructor(callback){this.status=0,this.resolution=null,this.waiters=[],callback((value=>this.onDone(value)),(params=>this.onReject(params)))}static all(promises){return promises.length?new _AgPromise((resolve=>{let remainingToResolve=promises.length;const combinedValues=new Array(remainingToResolve);promises.forEach(((promise,index)=>{promise.then((value=>{combinedValues[index]=value,remainingToResolve--,0===remainingToResolve&&resolve(combinedValues)}))}))})):_AgPromise.resolve()}static resolve(value=null){return new _AgPromise((resolve=>resolve(value)))}then(func){return new _AgPromise((resolve=>{1===this.status?resolve(func(this.resolution)):this.waiters.push((value=>resolve(func(value))))}))}onDone(value){this.status=1,this.resolution=value,this.waiters.forEach((waiter=>waiter(value)))}onReject(_){}};function _getUserCompKeys(frameworkOverrides,defObject,type,params){const{name}=type;let compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector;if(defObject){const defObjectAny=defObject,selectorFunc=defObjectAny[name+"Selector"],selectorRes=selectorFunc?selectorFunc(params):null,assignComp=providedJsComp=>{if("string"==typeof providedJsComp)compName=providedJsComp;else if(null!=providedJsComp&&!0!==providedJsComp){frameworkOverrides.isFrameworkComponent(providedJsComp)?fwComp=providedJsComp:jsComp=providedJsComp}};selectorRes?(assignComp(selectorRes.component),paramsFromSelector=selectorRes.params,popupFromSelector=selectorRes.popup,popupPositionFromSelector=selectorRes.popupPosition):assignComp(defObjectAny[name])}return{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}}var DateComponent={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},DragAndDropImageComponent={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},HeaderComponent={name:"headerComponent",optionalMethods:["refresh"]},InnerHeaderComponent={name:"innerHeaderComponent"},InnerHeaderGroupComponent={name:"innerHeaderGroupComponent"},HeaderGroupComponent={name:"headerGroupComponent"},CellRendererComponent={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},LoadingCellRendererComponent={name:"loadingCellRenderer",cellRenderer:!0},CellEditorComponent={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},LoadingOverlayComponent={name:"loadingOverlayComponent",optionalMethods:["refresh"]},NoRowsOverlayComponent={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},TooltipComponent={name:"tooltipComponent"},FilterComponent={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},FloatingFilterComponent={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},FullWidth={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},FullWidthLoading={name:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},FullWidthDetail={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function _getCellEditorDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,CellEditorComponent,"agCellEditor",params,!0)}function _unwrapUserComp(comp){const compAsAny=comp;return null!=compAsAny&&null!=compAsAny.getFrameworkComponentInstance?compAsAny.getFrameworkComponentInstance():comp}var currentModuleVersion,allRegisteredModules=new Set,globalModulesMap={},gridModulesMap={},areGridScopedModules=!1,isUmd=!1;function runVersionChecks(module){currentModuleVersion||(currentModuleVersion=module.version);const errorMsg=details=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${details} Please update all modules to the same version.`;if(module.version?function isValidModuleVersion(module){const[moduleMajor,moduleMinor]=module.version.split(".")||[],[currentModuleMajor,currentModuleMinor]=currentModuleVersion.split(".")||[];return moduleMajor===currentModuleMajor&&moduleMinor===currentModuleMinor}(module)||_errorOnce(errorMsg(`'${module.moduleName}' is version ${module.version} but the other modules are version ${currentModuleVersion}.`)):_errorOnce(errorMsg(`'${module.moduleName}' is incompatible.`)),module.validate){const result=module.validate();if(!result.isValid){_errorOnce(`${result.message}`)}}}function _registerModule(module,gridId){runVersionChecks(module);const rowModels=module.rowModels??["all"];let moduleStore;allRegisteredModules.add(module),void 0!==gridId?(areGridScopedModules=!0,void 0===gridModulesMap[gridId]&&(gridModulesMap[gridId]={}),moduleStore=gridModulesMap[gridId]):moduleStore=globalModulesMap,rowModels.forEach((rowModel=>{void 0===moduleStore[rowModel]&&(moduleStore[rowModel]={}),moduleStore[rowModel][module.moduleName]=module})),module.dependsOn&&module.dependsOn.forEach((dependency=>_registerModule(dependency,gridId)))}function _isModuleRegistered(moduleName,gridId,rowModel){const isRegisteredForRowModel=model=>!!globalModulesMap[model]?.[moduleName]||!!gridModulesMap[gridId]?.[model]?.[moduleName];return isRegisteredForRowModel(rowModel)||isRegisteredForRowModel("all")}function _areModulesGridScoped(){return areGridScopedModules}var ModuleRegistry=class{static register(module){_registerModule(module,void 0)}static registerModules(modules){modules.forEach((module=>_registerModule(module,void 0)))}},GenericContext=class{constructor(params){this.beans={},this.createdBeans=[],this.destroyed=!1,params&&params.beanClasses&&(this.beanDestroyComparator=params.beanDestroyComparator,this.init(params))}init(params){for(const beanName of Object.keys(params.providedBeanInstances))this.beans[beanName]=params.providedBeanInstances[beanName];params.beanClasses.forEach((BeanClass=>{const instance=new BeanClass;instance.beanName?this.beans[instance.beanName]=instance:console.error(`Bean ${BeanClass.name} is missing beanName`),this.createdBeans.push(instance)})),params.derivedBeans?.forEach((beanFunc=>{const{beanName,bean}=beanFunc(this);this.beans[beanName]=bean,this.createdBeans.push(bean)})),params.beanInitComparator&&this.createdBeans.sort(params.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(bean,afterPreCreateCallback){if(!bean)throw Error("null bean");return this.initBeans([bean],afterPreCreateCallback),bean}initBeans(beanInstances,afterPreCreateCallback){beanInstances.forEach((instance=>{instance.preWireBeans?.(this.beans),instance.wireBeans?.(this.beans)})),beanInstances.forEach((instance=>instance.preConstruct?.())),afterPreCreateCallback&&beanInstances.forEach(afterPreCreateCallback),beanInstances.forEach((instance=>instance.postConstruct?.()))}getBeans(){return this.beans}getBean(name){return this.beans[name]}destroy(){if(this.destroyed)return;this.destroyed=!0;const beanInstances=this.getBeanInstances();this.beanDestroyComparator&&beanInstances.sort(this.beanDestroyComparator),this.destroyBeans(beanInstances),this.beans={},this.createdBeans=[]}destroyBean(bean){bean?.destroy?.()}destroyBeans(beans){if(beans)for(let i=0;i<beans.length;i++)this.destroyBean(beans[i]);return[]}isDestroyed(){return this.destroyed}},Context=class extends GenericContext{init(params){this.gridId=params.gridId,this.beans.context=this,this.destroyCallback=params.destroyCallback,super.init(params)}destroy(){super.destroy(),function _unRegisterGridModules(gridId){delete gridModulesMap[gridId]}(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}};function _getHeaderClassesFromColDef(abstractColDef,gos,column,columnGroup){return _missing(abstractColDef)?[]:getColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,gos,column,columnGroup)}function refreshFirstAndLastStyles(comp,column,presentedColsService){comp.addOrRemoveCssClass("ag-column-first",presentedColsService.isColAtEdge(column,"first")),comp.addOrRemoveCssClass("ag-column-last",presentedColsService.isColAtEdge(column,"last"))}function getColumnClassesFromCollDef(classesOrFunc,abstractColDef,gos,column,columnGroup){if(_missing(classesOrFunc))return[];let classToUse;if("function"==typeof classesOrFunc){const params=function getClassParams(abstractColDef,gos,column,columnGroup){return _addGridCommonParams(gos,{colDef:abstractColDef,column,columnGroup})}(abstractColDef,gos,column,columnGroup);classToUse=classesOrFunc(params)}else classToUse=classesOrFunc;return"string"==typeof classToUse?[classToUse]:Array.isArray(classToUse)?[...classToUse]:[]}function _requestAnimationFrame(beans,callback){const win=_getWindow(beans);win.requestAnimationFrame?win.requestAnimationFrame(callback):win.webkitRequestAnimationFrame?win.webkitRequestAnimationFrame(callback):win.setTimeout(callback,0)}var KeyCode_BACKSPACE="Backspace",KeyCode_TAB="Tab",KeyCode_ENTER="Enter",KeyCode_ESCAPE="Escape",KeyCode_SPACE=" ",KeyCode_LEFT="ArrowLeft",KeyCode_UP="ArrowUp",KeyCode_RIGHT="ArrowRight",KeyCode_DOWN="ArrowDown",KeyCode_DELETE="Delete",KeyCode_F2="F2",KeyCode_PAGE_UP="PageUp",KeyCode_PAGE_DOWN="PageDown",KeyCode_PAGE_HOME="Home",KeyCode_PAGE_END="End",KeyCode_A="KeyA",KeyCode_C="KeyC",KeyCode_D="KeyD",KeyCode_V="KeyV",KeyCode_X="KeyX",KeyCode_Y="KeyY",KeyCode_Z="KeyZ",keyboardModeActive=!1,instanceCount=0;function toggleKeyboardMode(event){const isKeyboardActive=keyboardModeActive,isKeyboardEvent="keydown"===event.type;isKeyboardEvent&&(event.ctrlKey||event.metaKey||event.altKey)||isKeyboardActive!==isKeyboardEvent&&(keyboardModeActive=isKeyboardEvent)}function _registerKeyboardFocusEvents(beans){const eDocument=_getDocument(beans);return function addKeyboardModeEvents(doc){instanceCount>0||(doc.addEventListener("keydown",toggleKeyboardMode),doc.addEventListener("mousedown",toggleKeyboardMode))}(eDocument),instanceCount++,()=>{instanceCount--,function removeKeyboardModeEvents(doc){instanceCount>0||(doc.removeEventListener("keydown",toggleKeyboardMode),doc.removeEventListener("mousedown",toggleKeyboardMode))}(eDocument)}}function _findFocusableElements(rootNode,exclude,onlyUnmanaged=!1){const focusableString=FOCUSABLE_SELECTOR;let excludeString=FOCUSABLE_EXCLUDE;exclude&&(excludeString+=", "+exclude),onlyUnmanaged&&(excludeString+=', [tabindex="-1"]');const nodes=Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString)).filter((node=>_isVisible(node))),excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));if(!excludeNodes.length)return nodes;return b=excludeNodes,nodes.filter((element=>-1===b.indexOf(element)));var b}function _focusInto(rootNode,up=!1,onlyUnmanaged=!1,excludeTabGuards=!1){const focusableElements=_findFocusableElements(rootNode,excludeTabGuards?".ag-tab-guard":null,onlyUnmanaged),toFocus=up?_last(focusableElements):focusableElements[0];return!!toFocus&&(toFocus.focus({preventScroll:!0}),!0)}function _findNextFocusableElement(beans,rootNode,onlyManaged,backwards){const focusable=_findFocusableElements(rootNode,onlyManaged?':not([tabindex="-1"])':null),activeEl=_getActiveDomElement(beans);let currentIndex;currentIndex=onlyManaged?focusable.findIndex((el=>el.contains(activeEl))):focusable.indexOf(activeEl);const nextIndex=currentIndex+(backwards?-1:1);return nextIndex<0||nextIndex>=focusable.length?null:focusable[nextIndex]}function _findTabbableParent(node,limit=5){let counter=0;for(;node&&null===_getTabIndex(node)&&++counter<=limit;)node=node.parentElement;return null===_getTabIndex(node)?null:node}function _isHeaderFocusSuppressed(beans){return beans.gos.get("suppressHeaderFocus")||!!beans.overlays?.isExclusive()}function _isCellFocusSuppressed(beans){return beans.gos.get("suppressCellFocus")||!!beans.overlays?.isExclusive()}function _focusNextGridCoreContainer(beans,backwards,forceOut=!1){const gridCtrl=beans.ctrlsSvc.get("gridCtrl");return!(forceOut||!gridCtrl.focusNextInnerContainer(backwards))||((forceOut||!backwards&&!gridCtrl.isDetailGrid())&&gridCtrl.forceFocusOutOfContainer(backwards),!1)}var CellKeyboardListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,rowNode,rowCtrl){super(),this.cellCtrl=cellCtrl,this.rowNode=rowNode,this.rowCtrl=rowCtrl,this.beans=beans}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(event){const key=event.key;switch(key){case KeyCode_ENTER:this.onEnterKeyDown(event);break;case KeyCode_F2:this.onF2KeyDown(event);break;case KeyCode_ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode_TAB:this.onTabKeyDown(event);break;case KeyCode_BACKSPACE:case KeyCode_DELETE:this.onBackspaceOrDeleteKeyDown(key,event);break;case KeyCode_DOWN:case KeyCode_UP:case KeyCode_RIGHT:case KeyCode_LEFT:this.onNavigationKeyDown(event,key)}}onNavigationKeyDown(event,key){if(!this.cellCtrl.editing){if(event.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(event);else{const currentCellPosition=this.cellCtrl.getFocusedCellPosition();this.beans.navigation?.navigateToNextCell(event,key,currentCellPosition,!0)}event.preventDefault()}}onShiftRangeSelect(event){const{rangeSvc,navigation}=this.beans;if(!rangeSvc)return;const endCell=rangeSvc.extendLatestRangeInDirection(event);endCell&&navigation?.ensureCellVisible(endCell)}onTabKeyDown(event){this.beans.navigation?.onTabKeyDown(this.cellCtrl,event)}onBackspaceOrDeleteKeyDown(key,event){const{cellCtrl,beans,rowNode}=this,{gos,rangeSvc,eventSvc}=beans;if(!cellCtrl.editing){if(eventSvc.dispatchEvent({type:"keyShortcutChangedCellStart"}),function _isDeleteKey(key,alwaysReturnFalseOnBackspace=!1){return key===KeyCode_DELETE||!alwaysReturnFalseOnBackspace&&key===KeyCode_BACKSPACE&&_isMacOsUserAgent()}(key,gos.get("enableCellEditingOnBackspace"))){if(rangeSvc&&_isCellSelectionEnabled(gos))rangeSvc.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(cellCtrl.isCellEditable()){const{column}=cellCtrl,emptyValue=this.beans.valueSvc.getDeleteValue(column,rowNode);rowNode.setDataValue(column,emptyValue,"cellClear")}}else beans.editSvc?.startRowOrCellEdit(cellCtrl,key,event);eventSvc.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){const{cellCtrl,beans}=this;if(cellCtrl.editing||this.rowCtrl.editing)cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(beans.gos.get("enterNavigatesVertically")){const key=e.shiftKey?KeyCode_UP:KeyCode_DOWN;beans.navigation?.navigateToNextCell(null,key,cellCtrl.cellPosition,!1)}else beans.editSvc?.startRowOrCellEdit(cellCtrl,KeyCode_ENTER,e),cellCtrl.editing&&e.preventDefault()}onF2KeyDown(event){const{cellCtrl,beans}=this;cellCtrl.editing||beans.editSvc?.startRowOrCellEdit(cellCtrl,KeyCode_F2,event)}onEscapeKeyDown(event){const{cellCtrl,beans}=this;cellCtrl.editing&&(beans.editSvc?.stopRowOrCellEdit(cellCtrl,!0),cellCtrl.focusCell(!0))}processCharacter(event){if(event.target!==this.eGui||this.cellCtrl.editing)return;const key=event.key;key===KeyCode_SPACE?this.onSpaceKeyDown(event):this.beans.editSvc?.startRowOrCellEdit(this.cellCtrl,key,event)&&event.preventDefault()}onSpaceKeyDown(event){const{gos}=this.beans;!this.cellCtrl.editing&&_isRowSelection(gos)&&this.beans.selectionSvc?.handleSelectionEvent(event,this.rowNode,"spaceKey"),event.preventDefault()}destroy(){super.destroy()}},CellMouseListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,column){super(),this.cellCtrl=cellCtrl,this.column=column,this.beans=beans}onMouseEvent(eventName,mouseEvent){if(!_isStopPropagationForAgGrid(mouseEvent))switch(eventName){case"click":this.onCellClicked(mouseEvent);break;case"mousedown":case"touchstart":this.onMouseDown(mouseEvent);break;case"dblclick":this.onCellDoubleClicked(mouseEvent);break;case"mouseout":this.onMouseOut(mouseEvent);break;case"mouseover":this.onMouseOver(mouseEvent)}}onCellClicked(mouseEvent){if(this.beans.touchSvc?.handleCellDoubleClick(this,mouseEvent))return;const{eventSvc,rangeSvc,gos,editSvc}=this.beans,isMultiKey=mouseEvent.ctrlKey||mouseEvent.metaKey;rangeSvc&&isMultiKey&&rangeSvc.getCellRangeCount(this.cellCtrl.cellPosition)>1&&rangeSvc.intersectLastRange(!0);const cellClickedEvent=this.cellCtrl.createEvent(mouseEvent,"cellClicked");eventSvc.dispatchEvent(cellClickedEvent);const colDef=this.column.getColDef();colDef.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{colDef.onCellClicked(cellClickedEvent)}))}),0);!((gos.get("singleClickEdit")||colDef.singleClickEdit)&&!gos.get("suppressClickEdit"))||mouseEvent.shiftKey&&0!=rangeSvc?.getCellRanges().length||editSvc?.startRowOrCellEdit(this.cellCtrl,void 0,mouseEvent)}onCellDoubleClicked(mouseEvent){const{column,beans,cellCtrl}=this,{eventSvc,frameworkOverrides,gos,editSvc}=beans,colDef=column.getColDef(),cellDoubleClickedEvent=cellCtrl.createEvent(mouseEvent,"cellDoubleClicked");eventSvc.dispatchEvent(cellDoubleClickedEvent),"function"==typeof colDef.onCellDoubleClicked&&window.setTimeout((()=>{frameworkOverrides.wrapOutgoing((()=>{colDef.onCellDoubleClicked(cellDoubleClickedEvent)}))}),0);!gos.get("singleClickEdit")&&!gos.get("suppressClickEdit")&&editSvc?.startRowOrCellEdit(cellCtrl,null,mouseEvent)}onMouseDown(mouseEvent){const{ctrlKey,metaKey,shiftKey}=mouseEvent,target=mouseEvent.target,{cellCtrl,beans}=this,{eventSvc,rangeSvc,rowNumbersSvc,focusSvc,gos}=beans;if(this.isRightClickInExistingRange(mouseEvent))return;const hasRanges=rangeSvc&&!rangeSvc.isEmpty(),containsWidget=this.containsWidget(target),{cellPosition}=cellCtrl,isRowNumberColumn=isRowNumberCol(cellPosition.column);if(rowNumbersSvc&&isRowNumberColumn&&!rowNumbersSvc.handleMouseDownOnCell(cellPosition,mouseEvent))return rangeSvc&&mouseEvent.preventDefault(),void mouseEvent.stopImmediatePropagation();if(!shiftKey||!hasRanges){const shouldFocus=gos.get("enableCellTextSelection")&&mouseEvent.defaultPrevented,forceBrowserFocus=(_isBrowserSafari()||shouldFocus)&&!cellCtrl.editing&&!_isFocusableFormField(target)&&!containsWidget;cellCtrl.focusCell(forceBrowserFocus)}if(shiftKey&&hasRanges&&!focusSvc.isCellFocused(cellPosition)){mouseEvent.preventDefault();const focusedCellPosition=focusSvc.getFocusedCell();if(focusedCellPosition){const{column,rowIndex,rowPinned}=focusedCellPosition,focusedRowCtrl=beans.rowRenderer.getRowByPosition({rowIndex,rowPinned}),focusedCellCtrl=focusedRowCtrl?.getCellCtrl(column);focusedCellCtrl?.editing&&focusedCellCtrl.stopEditing(),focusSvc.setFocusedCell({column,rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!containsWidget){if(rangeSvc)if(isRowNumberColumn&&mouseEvent.preventDefault(),shiftKey)rangeSvc.extendLatestRangeToCell(cellPosition);else{const isMultiKey=ctrlKey||metaKey;rangeSvc.setRangeToCell(cellPosition,isMultiKey)}eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseDown"))}}isRightClickInExistingRange(mouseEvent){const{rangeSvc}=this.beans;if(rangeSvc){const cellInRange=rangeSvc.isCellInAnyRange(this.cellCtrl.cellPosition),isRightClick=2===mouseEvent.button||mouseEvent.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(cellInRange&&isRightClick)return!0}return!1}containsWidget(target){return _isElementChildOfClass(target,"ag-selection-checkbox",3)||_isElementChildOfClass(target,"ag-drag-handle",3)}onMouseOut(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseOut")),colHover?.clearMouseOver()}onMouseOver(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseOver")),colHover?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const eCell=this.cellCtrl.eGui,cellContainsTarget=eCell.contains(e.target),cellContainsRelatedTarget=eCell.contains(e.relatedTarget);return cellContainsTarget&&cellContainsRelatedTarget}destroy(){super.destroy()}},CellPositionFeature=class extends BeanStub{constructor(cellCtrl,beans){super(),this.cellCtrl=cellCtrl,this.beans=beans,this.column=cellCtrl.column,this.rowNode=cellCtrl.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const cellSpan=this.cellCtrl.getCellSpan();cellSpan||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),cellSpan||this._legacyApplyRowSpan(),cellSpan&&(this.refreshSpanHeight(cellSpan),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,cellSpan),recalculateRowBounds:this.refreshSpanHeight.bind(this,cellSpan)}))}refreshSpanHeight(cellSpan){const spanHeight=cellSpan.getCellHeight();null!=spanHeight&&(this.eContent.style.height=`${spanHeight}px`)}onNewColumnsLoaded(){const rowSpan=this.column.getRowSpan(this.rowNode);this.rowSpan!==rowSpan&&(this.rowSpan=rowSpan,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const colsSpanning=this.getColSpanningList();_areEqual(this.colsSpanning,colsSpanning)||(this.colsSpanning=colsSpanning,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const width=this.getCellWidth();this.eContent.style.width=`${width}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((width,col)=>width+col.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const{column,rowNode}=this,colSpan=column.getColSpan(rowNode),colsSpanning=[];if(1===colSpan)colsSpanning.push(column);else{let pointer=column;const pinned=column.getPinned();for(let i=0;pointer&&i<colSpan&&(colsSpanning.push(pointer),pointer=this.beans.visibleCols.getColAfter(pointer),pointer&&!_missing(pointer))&&pinned===pointer.getPinned();i++);}return colsSpanning}onLeftChanged(){if(!this.eSetLeft)return;const left=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=left+"px"}getCellLeft(){let mostLeftCol;return mostLeftCol=this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.column,mostLeftCol.getLeft()}modifyLeftForPrintLayout(leftPosition){if(!this.cellCtrl.printLayout||"left"===this.column.getPinned())return leftPosition;const{visibleCols}=this.beans,leftWidth=visibleCols.getColsLeftWidth();if("right"===this.column.getPinned()){return leftWidth+visibleCols.bodyWidth+(leftPosition||0)}return leftWidth+(leftPosition||0)}_legacyApplyRowSpan(force){if(1===this.rowSpan&&!force)return;const totalRowHeight=_getRowHeightAsNumber(this.beans)*this.rowSpan;this.eContent.style.height=`${totalRowHeight}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},DOM_DATA_KEY_CELL_CTRL="cellCtrl";function _getCellCtrlForEventTarget(gos,eventTarget){return _getCtrlForEventTarget(gos,eventTarget,DOM_DATA_KEY_CELL_CTRL)}var instanceIdSequence2=0,CellCtrl=class extends BeanStub{constructor(column,rowNode,beans,rowCtrl){super(),this.column=column,this.rowNode=rowNode,this.rowCtrl=rowCtrl,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=beans;const{colId,colIdSanitised}=column;this.instanceId=colId+"-"+instanceIdSequence2++,this.colIdSanitised=colIdSanitised,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){const{beans}=this;this.positionFeature=new CellPositionFeature(this,beans),this.customStyleFeature=beans.cellStyles?.createCellCustomStyleFeature(this,beans),this.mouseListener=new CellMouseListenerFeature(this,beans,this.column),this.keyboardListener=new CellKeyboardListenerFeature(this,beans,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc}=beans;rangeSvc&&_isCellSelectionEnabled(beans.gos)&&(this.rangeFeature=rangeSvc.createCellRangeFeature(beans,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const context=this.beans.context;this.positionFeature=context.destroyBean(this.positionFeature),this.customStyleFeature=context.destroyBean(this.customStyleFeature),this.mouseListener=context.destroyBean(this.mouseListener),this.keyboardListener=context.destroyBean(this.keyboardListener),this.rangeFeature=context.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,value,shouldDisplayTooltip)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(comp,eCell,_eWrapper,eCellWrapper,printLayout,startEditing,compBean){this.comp=comp,this.eGui=eCell,this.printLayout=printLayout,compBean??(compBean=this),this.addDomData(compBean),this.addFeatures(),compBean.addDestroyFunc((()=>this.removeFeatures())),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(eCellWrapper,compBean),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(comp),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(comp),startEditing&&this.isCellEditable()?this.beans.editSvc?.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach((func=>func())),this.onCompAttachedFuncs=[])}setupAutoHeight(eCellWrapper,compBean){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,eCellWrapper,compBean)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const colDef=this.column.getColDef();return null!=colDef.cellRenderer||null!=colDef.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(forceNewCellRendererInstance,skipRangeHandleRefresh){const{beans,column,rowNode,rangeFeature}=this,{userCompFactory}=beans,valueToDisplay=this.getValueToDisplay();let compDetails;if(rowNode.stub&&null==rowNode.groupData?.[column.getId()]){const params=this.createCellRendererParams();compDetails=function _getLoadingCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,LoadingCellRendererComponent,"agSkeletonCellRenderer",params,!0)}(userCompFactory,column.getColDef(),params)}else if(this.isCellRenderer()){const params=this.createCellRendererParams();compDetails=function _getCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,CellRendererComponent,void 0,params)}(userCompFactory,column.getColDef(),params)}this.comp.setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance),!skipRangeHandleRefresh&&rangeFeature&&_requestAnimationFrame(beans,(()=>rangeFeature?.refreshHandle()))}setupControlComps(){const colDef=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(colDef)),this.includeRowDrag=this.isIncludeControl(colDef.rowDrag),this.includeDndSource=this.isIncludeControl(colDef.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(value){return!(null!=this.rowNode.rowPinned)&&("function"==typeof value||!0===value)}isCheckboxSelection(colDef){const{rowSelection}=this.beans.gridOptions;return colDef.checkboxSelection||isColumnSelectionCol(this.column)&&rowSelection&&"string"!=typeof rowSelection&&_getCheckboxes(rowSelection)}refreshShouldDestroy(){const colDef=this.column.getColDef(),selectionChanged=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(colDef)),rowDragChanged=this.includeRowDrag!=this.isIncludeControl(colDef.rowDrag),dndSourceChanged=this.includeDndSource!=this.isIncludeControl(colDef.dndSource),autoHeightChanged=this.isAutoHeight!=this.column.isAutoHeight();return selectionChanged||rowDragChanged||dndSourceChanged||autoHeightChanged}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(cancel=!1){return this.beans.editSvc?.stopEditing(this,cancel)??!1}createCellRendererParams(){const{value,valueFormatted,column,rowNode,comp,eGui,beans:{valueSvc,gos}}=this;return _addGridCommonParams(gos,{value,valueFormatted,getValue:()=>valueSvc.getValueForDisplay(column,rowNode),setValue:value2=>valueSvc.setValue(rowNode,column,value2),formatValue:this.formatValue.bind(this),data:rowNode.data,node:rowNode,pinned:column.getPinned(),colDef:column.getColDef(),column,refreshCell:this.refreshCell.bind(this),eGridCell:eGui,eParentOfValue:comp.getParentOfValue(),registerRowDragger:(rowDraggerElement,dragStartPixels,value2,suppressVisibilityChange)=>this.registerRowDragger(rowDraggerElement,dragStartPixels,suppressVisibilityChange),setTooltip:(value2,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(value2,shouldDisplayTooltip),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(event){event.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(params){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(params)}refreshCell(params){if(this.suppressRefreshCell||this.editing)return;const colDef=this.column.getColDef(),newData=null!=params&&!!params.newData,suppressFlash=null!=params&&!!params.suppressFlash,noValueProvided=null==colDef.field&&null==colDef.valueGetter&&null==colDef.showRowGroup,forceRefresh=params&&params.forceRefresh||noValueProvided||newData,isCellCompReady=!!this.comp,valuesDifferent=this.updateAndFormatValue(isCellCompReady);if(isCellCompReady){if(forceRefresh||valuesDifferent){this.showValue(newData,!1);const processingFilterChange=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!suppressFlash&&!processingFilterChange&&colDef.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(suppressNavigateAfterEdit=!1,shiftKey=!1){this.beans.editSvc?.stopEditingAndFocus(this,suppressNavigateAfterEdit,shiftKey)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(value){return this.callValueFormatter(value)??value}callValueFormatter(value){return this.beans.valueSvc.formatValue(this.column,this.rowNode,value)}updateAndFormatValue(compareValues){const oldValue=this.value,oldValueFormatted=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),!compareValues||(!this.valuesAreEqual(oldValue,this.value)||this.valueFormatted!=oldValueFormatted)}valuesAreEqual(val1,val2){const colDef=this.column.getColDef();return colDef.equals?colDef.equals(val1,val2):val1===val2}addDomData(compBean){const element=this.eGui;_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,this),compBean.addDestroyFunc((()=>_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(domEvent,eventType){const{rowNode,column,value,beans}=this;return _addGridCommonParams(beans.gos,{type:eventType,node:rowNode,data:rowNode.data,value,column,colDef:column.getColDef(),rowPinned:rowNode.rowPinned,event:domEvent,rowIndex:rowNode.rowIndex})}processCharacter(event){this.keyboardListener?.processCharacter(event)}onKeyDown(event){this.keyboardListener?.onKeyDown(event)}onMouseEvent(eventName,mouseEvent){this.mouseListener?.onMouseEvent(eventName,mouseEvent)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp,column,beans}=this;refreshFirstAndLastStyles(comp,column,beans.visibleCols)}refreshAriaColIndex(){const colIdx=this.beans.visibleCols.getAriaColIndex(this.column);_setAriaColIndex(this.eGui,colIdx)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex,rowPinned}=this.cellPosition;return{rowIndex,rowPinned}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.rangeFeature}focusCell(forceBrowserFocus=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.rangeFeature?.onCellSelectionChanged()}onSuppressCellFocusChanged(suppressCellFocus){const element=this.eGui;element&&(isRowNumberCol(this.column)&&(suppressCellFocus=!0),_addOrRemoveAttribute(element,"tabindex",suppressCellFocus?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const firstRightPinned=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass("ag-cell-first-right-pinned",firstRightPinned)}onLastLeftPinnedChanged(){if(!this.comp)return;const lastLeftPinned=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass("ag-cell-last-left-pinned",lastLeftPinned)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(event){const{beans}=this;if(_isCellFocusSuppressed(beans))return;const cellFocused=this.isCellFocused();if(!this.comp)return void(cellFocused&&event?.forceBrowserFocus&&(this.focusEventToRestore=event));if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass("ag-cell-focus",cellFocused),cellFocused&&event&&event.forceBrowserFocus){let focusEl=this.comp.getFocusableElement();if(this.editing){const focusableEls=_findFocusableElements(focusEl,null,!0);focusableEls.length&&(focusEl=focusableEls[0])}focusEl.focus({preventScroll:!!event.preventScrollOnBrowserFocus})}const fullRowEdit="fullRow"===beans.gos.get("editType");cellFocused||fullRowEdit||!this.editing||beans.editSvc?.stopRowOrCellEdit(this),cellFocused&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex,rowPinned}=this.rowNode;this.cellPosition={rowIndex,rowPinned:_makeNull(rowPinned),column:this.column}}setInlineEditingCss(){this.beans.editSvc?.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp}=this;comp.addOrRemoveCssClass("ag-cell",!0),comp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const autoHeight=1==this.column.isAutoHeight();comp.addOrRemoveCssClass("ag-cell-auto-height",autoHeight),comp.addOrRemoveCssClass("ag-cell-normal-height",!autoHeight)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const value=1==this.column.getColDef().wrapText;this.comp.addOrRemoveCssClass("ag-cell-wrap-text",value)}dispatchCellContextMenuEvent(event){const colDef=this.column.getColDef(),cellContextMenuEvent=this.createEvent(event,"cellContextMenu"),{beans}=this;beans.eventSvc.dispatchEvent(cellContextMenuEvent),colDef.onCellContextMenu&&window.setTimeout((()=>{beans.frameworkOverrides.wrapOutgoing((()=>{colDef.onCellContextMenu(cellContextMenuEvent)}))}),0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const cbSelectionComponent=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(cbSelectionComponent)return this.beans.context.createBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode,column:this.column}),cbSelectionComponent}createDndSource(){const dndSourceComp=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return dndSourceComp&&this.beans.context.createBean(dndSourceComp),dndSourceComp}registerRowDragger(customElement,dragStartPixels,suppressVisibilityChange){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(customElement,dragStartPixels);const newComp=this.createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange);newComp&&(this.customRowDragComp=newComp,this.addDestroyFunc((()=>{this.beans.context.destroyBean(newComp),this.customRowDragComp=null})))}createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange){const rowDragComp=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,(()=>this.value),customElement,dragStartPixels,suppressVisibilityChange);if(rowDragComp)return this.beans.context.createBean(rowDragComp),rowDragComp}cellEditorAttached(){this.onEditorAttachedFuncs.forEach((func=>func())),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(_cellPosition){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},GRID_DOM_KEY="__ag_grid_instance";function _stampTopLevelGridCompWithGridInstance(gos,eGridDiv){eGridDiv[GRID_DOM_KEY]=gos.gridInstanceId}function _isEventFromThisGrid(gos,event){return _isElementInThisGrid(gos,event.target)}function _isElementInThisGrid(gos,element){let pointer=element;for(;pointer;){const instanceId=pointer[GRID_DOM_KEY];if(_exists(instanceId)){return instanceId===gos.gridInstanceId}pointer=pointer.parentElement}return!1}function _getNormalisedMousePosition(beans,event){const gridPanelHasScrolls=_isDomLayout(beans.gos,"normal"),e=event;let x,y;if(null!=e.clientX||null!=e.clientY?(x=e.clientX,y=e.clientY):(x=e.x,y=e.y),gridPanelHasScrolls){const scrollFeature=beans.ctrlsSvc.getScrollFeature(),vRange=scrollFeature.getVScrollPosition();x+=scrollFeature.getHScrollPosition().left,y+=vRange.top}return{x,y}}var AutoScrollService=class{constructor(params){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=params.scrollContainer,this.scrollHorizontally=-1!==params.scrollAxis.indexOf("x"),this.scrollVertically=-1!==params.scrollAxis.indexOf("y"),this.scrollByTick=null!=params.scrollByTick?params.scrollByTick:20,params.onScrollCallback&&(this.onScrollCallback=params.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=params.getVerticalPosition,this.setVerticalPosition=params.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=params.getHorizontalPosition,this.setHorizontalPosition=params.setHorizontalPosition),this.shouldSkipVerticalScroll=params.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=params.shouldSkipHorizontalScroll||(()=>!1)}check(mouseEvent,forceSkipVerticalScroll=!1){const skipVerticalScroll=forceSkipVerticalScroll||this.shouldSkipVerticalScroll();if(skipVerticalScroll&&this.shouldSkipHorizontalScroll())return;const rect=this.scrollContainer.getBoundingClientRect(),scrollTick=this.scrollByTick;this.tickLeft=mouseEvent.clientX<rect.left+scrollTick,this.tickRight=mouseEvent.clientX>rect.right-scrollTick,this.tickUp=mouseEvent.clientY<rect.top+scrollTick&&!skipVerticalScroll,this.tickDown=mouseEvent.clientY>rect.bottom-scrollTick&&!skipVerticalScroll,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const tickAmount=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const vScrollPosition=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(vScrollPosition-tickAmount),this.tickDown&&this.setVerticalPosition(vScrollPosition+tickAmount)}if(this.scrollHorizontally){const hScrollPosition=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(hScrollPosition-tickAmount),this.tickRight&&this.setHorizontalPosition(hScrollPosition+tickAmount)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function _areCellsEqual(cellA,cellB){const colsMatch=cellA.column===cellB.column,floatingMatch=cellA.rowPinned===cellB.rowPinned,indexMatch=cellA.rowIndex===cellB.rowIndex;return colsMatch&&floatingMatch&&indexMatch}function _getRowNode(beans,gridRow){switch(gridRow.rowPinned){case"top":return beans.pinnedRowModel?.getPinnedTopRow(gridRow.rowIndex);case"bottom":return beans.pinnedRowModel?.getPinnedBottomRow(gridRow.rowIndex);default:return beans.rowModel.getRow(gridRow.rowIndex)}}function _getCellByPosition(beans,cellPosition){const spannedCellCtrl=beans.spannedRowRenderer?.getCellByPosition(cellPosition);if(spannedCellCtrl)return spannedCellCtrl;const rowCtrl=beans.rowRenderer.getRowByPosition(cellPosition);return rowCtrl?rowCtrl.getCellCtrl(cellPosition.column):null}var RowDragFeature=class extends BeanStub{constructor(eContainer){super(),this.eContainer=eContainer}postConstruct(){const{rowModel,gos,ctrlsSvc}=this.beans;_isClientSideRowModel(gos)&&(this.clientSideRowModel=rowModel),ctrlsSvc.whenReady(this,(p=>{const gridBodyCon=p.gridBodyCtrl;this.autoScrollService=new AutoScrollService({scrollContainer:gridBodyCon.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>gridBodyCon.scrollFeature.getVScrollPosition().top,setVerticalPosition:position=>gridBodyCon.scrollFeature.setVerticalScrollPosition(position),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(type){return 2===type}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc,filterManager,sortSvc}=this.beans;if((rowGroupColsSvc?.columns??[]).length)return!0;const isFilterPresent=filterManager?.isAnyFilterPresent();if(isFilterPresent)return!0;const isSortActive=sortSvc?.isSortActive();return!!isSortActive}getRowNodes(draggingEvent){if(!this.isFromThisGrid(draggingEvent))return draggingEvent.dragItem.rowNodes||[];const currentNode=draggingEvent.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const selectedNodes=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort(((a,b)=>null==a.rowIndex||null==b.rowIndex?0:this.getRowIndexNumber(a)-this.getRowIndexNumber(b)));if(-1!==selectedNodes.indexOf(currentNode))return selectedNodes}return[currentNode]}onDragEnter(draggingEvent){draggingEvent.dragItem.rowNodes=this.getRowNodes(draggingEvent),this.dispatchGridEvent("rowDragEnter",draggingEvent),this.getRowNodes(draggingEvent).forEach((rowNode=>{this.setRowNodeDragging(rowNode,!0)})),this.onEnterOrDragging(draggingEvent)}onDragging(draggingEvent){this.onEnterOrDragging(draggingEvent)}isFromThisGrid(draggingEvent){const{dragSourceDomDataKey}=draggingEvent.dragSource;return dragSourceDomDataKey===this.gos.getDomDataKey()}onEnterOrDragging(draggingEvent){this.dispatchGridEvent("rowDragMove",draggingEvent),this.lastDraggingEvent=draggingEvent;const pixel=_getNormalisedMousePosition(this.beans,draggingEvent).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(draggingEvent,pixel),this.autoScrollService.check(draggingEvent.event)}doManagedDrag(draggingEvent,pixel){const{dragAndDrop,gos}=this.beans,isFromThisGrid=this.isFromThisGrid(draggingEvent),managedDrag=gos.get("rowDragManaged"),rowNodes=draggingEvent.dragItem.rowNodes;managedDrag&&this.shouldPreventRowMove()||(gos.get("suppressMoveWhenRowDragging")||!isFromThisGrid?dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)&&this.clientSideRowModel.highlightRowAtPixel(rowNodes[0],pixel):this.moveRows(rowNodes,pixel))}getRowIndexNumber(rowNode){const rowIndexStr=rowNode.getRowIndexString();return parseInt(_last(rowIndexStr.split("-")),10)}moveRowAndClearHighlight(draggingEvent){const clientSideRowModel=this.clientSideRowModel,lastHighlightedRowNode=clientSideRowModel.getLastHighlightedRowNode(),isBelow=lastHighlightedRowNode&&"Below"===lastHighlightedRowNode.highlighted,pixel=_getNormalisedMousePosition(this.beans,draggingEvent).y,rowNodes=draggingEvent.dragItem.rowNodes;let increment=isBelow?1:0;if(this.isFromThisGrid(draggingEvent))rowNodes.forEach((rowNode=>{rowNode.rowTop<pixel&&(increment-=1)})),this.moveRows(rowNodes,pixel,increment);else{const getRowIdFunc=_getRowIdCallback(this.gos);let addIndex=clientSideRowModel.getRowIndexAtPixel(pixel)+1;"Above"===clientSideRowModel.getHighlightPosition(pixel)&&addIndex--,clientSideRowModel.updateRowData({add:rowNodes.filter((node=>!clientSideRowModel.getRowNode(getRowIdFunc?.({data:node.data,level:0,rowPinned:node.rowPinned})??node.data.id))).map((node=>node.data)),addIndex})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(rowNodes,pixel,increment=0){const focusSvc=this.beans.focusSvc,cellPosition=focusSvc.getFocusedCell(),cellCtrl=cellPosition&&_getCellByPosition(this.beans,cellPosition);this.clientSideRowModel.ensureRowsAtPixel(rowNodes,pixel,increment)&&(cellCtrl?cellCtrl.focusCell():focusSvc.clearFocusedCell())}addRowDropZone(params){if(!params.getContainer())return void _warn(55);const dragAndDrop=this.beans.dragAndDrop;if(dragAndDrop.findExternalZone(params))return void _warn(56);let processedParams={getContainer:params.getContainer};params.fromGrid?processedParams=params:(params.onDragEnter&&(processedParams.onDragEnter=e=>{params.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}),params.onDragLeave&&(processedParams.onDragLeave=e=>{params.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}),params.onDragging&&(processedParams.onDragging=e=>{params.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}),params.onDragStop&&(processedParams.onDragStop=e=>{params.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))}),params.onDragCancel&&(processedParams.onDragCancel=e=>{params.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",e))}));const dropTarget={isInterestedIn:type=>2===type,getIconName:()=>"move",external:!0,...processedParams};dragAndDrop.addDropTarget(dropTarget),this.addDestroyFunc((()=>dragAndDrop.removeDropTarget(dropTarget)))}getRowDropZone(events){const getContainer=this.getContainer.bind(this),onDragEnter=this.onDragEnter.bind(this),onDragLeave=this.onDragLeave.bind(this),onDragging=this.onDragging.bind(this),onDragStop=this.onDragStop.bind(this),onDragCancel=this.onDragCancel.bind(this);let params;return params=events?{getContainer,onDragEnter:events.onDragEnter?e=>{onDragEnter(e),events.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}:onDragEnter,onDragLeave:events.onDragLeave?e=>{onDragLeave(e),events.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}:onDragLeave,onDragging:events.onDragging?e=>{onDragging(e),events.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}:onDragging,onDragStop:events.onDragStop?e=>{onDragStop(e),events.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))}:onDragStop,onDragCancel:events.onDragCancel?e=>{onDragCancel(e),events.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",e))}:onDragCancel,fromGrid:!0}:{getContainer,onDragEnter,onDragLeave,onDragging,onDragStop,onDragCancel,fromGrid:!0},params}draggingToRowDragEvent(type,draggingEvent){const beans=this.beans,{pageBounds,rowModel,gos}=beans,yNormalised=_getNormalisedMousePosition(beans,draggingEvent).y;let overNode,overIndex=-1;yNormalised>pageBounds.getCurrentPageHeight()||(overIndex=rowModel.getRowIndexAtPixel(yNormalised),overNode=rowModel.getRow(overIndex));return _addGridCommonParams(gos,{type,event:draggingEvent.event,node:draggingEvent.dragItem.rowNode,nodes:draggingEvent.dragItem.rowNodes,overIndex,overNode,y:yNormalised,vDirection:draggingEvent.vDirection})}dispatchGridEvent(type,draggingEvent){const event=this.draggingToRowDragEvent(type,draggingEvent);this.eventSvc.dispatchEvent(event)}onDragLeave(draggingEvent){this.dispatchGridEvent("rowDragLeave",draggingEvent),this.stopDragging(draggingEvent),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(draggingEvent){this.dispatchGridEvent("rowDragEnd",draggingEvent),this.stopDragging(draggingEvent);const{dragAndDrop,gos}=this.beans;gos.get("rowDragManaged")&&(gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(draggingEvent))&&dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)&&this.moveRowAndClearHighlight(draggingEvent)}onDragCancel(draggingEvent){this.dispatchGridEvent("rowDragCancel",draggingEvent),this.stopDragging(draggingEvent);const{dragAndDrop,gos}=this.beans;gos.get("rowDragManaged")&&(gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(draggingEvent))&&dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)&&this.clearRowHighlight()}stopDragging(draggingEvent){this.autoScrollService.ensureCleared(),this.getRowNodes(draggingEvent).forEach((rowNode=>{this.setRowNodeDragging(rowNode,!1)}))}setRowNodeDragging(rowNode,dragging){rowNode.dragging!==dragging&&(rowNode.dragging=dragging,rowNode.dispatchRowEvent("draggingChanged"))}};function _areEventsNear(e1,e2,pixelCount){if(0===pixelCount)return!1;const diffX=Math.abs(e1.clientX-e2.clientX),diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount}function createUniqueColumnGroupId(groupId,instanceId){return groupId+"_"+instanceId}function isColumnGroup2(col){return col instanceof AgColumnGroup}var AgColumnGroup=class extends BeanStub{constructor(providedColumnGroup,groupId,partId,pinned){super(),this.providedColumnGroup=providedColumnGroup,this.groupId=groupId,this.partId=partId,this.pinned=pinned,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const allLeafColumns=this.getProvidedColumnGroup().getLeafColumns();return!(!allLeafColumns||0===allLeafColumns.length)&&allLeafColumns.every((col=>col.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((child=>{isColumnGroup2(child)&&child.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const lastChildLeft=_last(this.displayedChildren).getLeft();this.setLeft(lastChildLeft)}else{const firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(left){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let groupActualWidth=0;return this.displayedChildren?.forEach((child=>{groupActualWidth+=child.getActualWidth()})),groupActualWidth}isResizable(){if(!this.displayedChildren)return!1;let result=!1;return this.displayedChildren.forEach((child=>{child.isResizable()&&(result=!0)})),result}getMinWidth(){let result=0;return this.displayedChildren.forEach((groupChild=>{result+=groupChild.getMinWidth()})),result}addChild(child){this.children||(this.children=[]),this.children.push(child)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}getDisplayedLeafColumns(){const result=[];return this.addDisplayedLeafColumns(result),result}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(expanded){this.providedColumnGroup.setExpanded(expanded)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}addDisplayedLeafColumns(leafColumns){this.displayedChildren.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup2(child)&&child.addDisplayedLeafColumns(leafColumns)}))}addLeafColumns(leafColumns){this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup2(child)&&child.addLeafColumns(leafColumns)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const parent=this.getParent();return this.isPadding()&&parent&&parent.isPadding()?1+parent.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let parentWithExpansion=this;for(;null!=parentWithExpansion&&parentWithExpansion.isPadding();)parentWithExpansion=parentWithExpansion.getParent();if(!(!!parentWithExpansion&&parentWithExpansion.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((child=>{if(isColumnGroup2(child)&&(!child.displayedChildren||!child.displayedChildren.length))return;switch(child.getColumnGroupShow()){case"open":parentWithExpansion.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(child);break;case"closed":parentWithExpansion.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(child);break;default:this.displayedChildren.push(child)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},OBJECT_ID_SEQUENCE=0,RowNode=class{constructor(beans){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=beans}setData(data){this.setDataCommon(data,!1)}updateData(data){this.setDataCommon(data,!0)}setDataCommon(data,update){const{valueCache,selectionSvc,rowSpanSvc}=this.beans,oldData=this.data;this.data=data,valueCache?.onDataChanged(),this.updateDataOnDetailNode(),selectionSvc?.updateRowSelectable(this),this.resetQuickFilterAggregateText();const event=this.createDataChangedEvent(data,oldData,update);this.__localEventService?.dispatchEvent(event),rowSpanSvc?.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(newData,oldData,update){return{type:"dataChanged",node:this,oldData,newData,update}}getRowIndexString(){return null==this.rowIndex?(_error(13),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}setDataAndId(data,id){const{selectionSvc}=this.beans,oldNode=selectionSvc?.createDaemonNode?.(this),oldData=this.data;this.data=data,this.updateDataOnDetailNode(),this.setId(id),selectionSvc&&(selectionSvc.updateRowSelectable(this),selectionSvc.syncInRowNode(this,oldNode));const event=this.createDataChangedEvent(data,oldData,!1);this.__localEventService?.dispatchEvent(event)}setId(id){const getRowIdFunc=_getRowIdCallback(this.beans.gos);if(getRowIdFunc)if(this.data){const parentKeys=this.parent?.getRoute()??[];this.id=getRowIdFunc({data:this.data,parentKeys:parentKeys.length>0?parentKeys:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith("row-group-")&&_error(14,{groupPrefix:"row-group-"})}else this.id=void 0;else this.id=id}setRowTop(rowTop){this.oldRowTop=this.rowTop,this.rowTop!==rowTop&&(this.rowTop=rowTop,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==rowTop))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(hovered){this.hovered=hovered}isHovered(){return this.hovered}setRowHeight(rowHeight,estimated=!1){this.rowHeight=rowHeight,this.rowHeightEstimated=estimated,this.dispatchRowEvent("heightChanged")}setExpanded(expanded,e,forceSync){this.beans.expansionSvc?.setExpanded(this,expanded,e,forceSync)}setDataValue(colKey,newValue,eventSource){const{colModel,valueSvc,gos,selectionSvc,rowSpanSvc}=this.beans,column="string"!=typeof colKey?colKey:colModel.getCol(colKey)??colModel.getColDefCol(colKey);if(!column)return!1;const oldValue=valueSvc.getValueForDisplay(column,this);if(gos.get("readOnlyEdit")){const{beans:{eventSvc},data,rowIndex,rowPinned}=this;return eventSvc.dispatchEvent({type:"cellEditRequest",event:null,rowIndex,rowPinned,column,colDef:column.colDef,data,node:this,oldValue,newValue,value:newValue,source:eventSource}),!1}const valueChanged=valueSvc.setValue(this,column,newValue,eventSource);return this.dispatchCellChangedEvent(column,newValue,oldValue),selectionSvc?.updateRowSelectable(this),rowSpanSvc?.onRowDataUpdated(this),valueChanged}updateHasChildren(){let newValue=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc}=this.beans;rowChildrenSvc&&(newValue=rowChildrenSvc.getHasChildrenValue(this)),newValue!==this.__hasChildren&&(this.__hasChildren=!!newValue,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(column,newValue,oldValue){const cellChangedEvent={type:"cellChanged",node:this,column,newValue,oldValue};this.__localEventService?.dispatchEvent(cellChangedEvent)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(callback){this.childrenAfterGroup?.forEach((child=>child.depthFirstSearch(callback))),callback(this)}dispatchRowEvent(type){this.__localEventService?.dispatchEvent({type,node:this})}setSelected(newValue,clearSelection=!1,source="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue,clearSelection,source})}isRowPinned(){return!!this.rowPinned}__addEventListener(eventType,listener){this.__localEventService||(this.__localEventService=new LocalEventService),this.__localEventService.addEventListener(eventType,listener)}__removeEventListener(eventType,listener){this.removeLocalListener(eventType,listener)}addEventListener(eventType,userListener){this.beans.validation?.checkRowEvents(eventType),this.__localEventService||(this.__localEventService=new LocalEventService),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const listener=this.frameworkEventListenerService?.wrap(userListener)??userListener;this.__localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,userListener){const listener=this.frameworkEventListenerService?.unwrap(userListener)??userListener;this.removeLocalListener(eventType,listener)}removeLocalListener(eventType,listener){this.__localEventService?.removeEventListener(eventType,listener),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(_warn(61),this.detail)return!0;const isFullWidthCellFunc=this.beans.gos.getCallback("isFullWidthRow");return!!isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const res=[];let pointer=this;for(;pointer&&null!=pointer.key;)res.push(pointer.key),pointer=pointer.parent;return res.reverse()}setFirstChild(firstChild){this.firstChild!==firstChild&&(this.firstChild=firstChild,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(displayed){this.displayed!==displayed&&(this.displayed=displayed,this.dispatchRowEvent("displayedChanged"))}setRowIndex(rowIndex){this.rowIndex!==rowIndex&&(this.rowIndex=rowIndex,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(allChildrenCount){this.allChildrenCount!==allChildrenCount&&(this.allChildrenCount=allChildrenCount,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(uiLevel){this.uiLevel!==uiLevel&&(this.uiLevel=uiLevel,this.dispatchRowEvent("uiLevelChanged"))}};function _createGlobalRowEvent(rowNode,gos,type){return _addGridCommonParams(gos,{type,node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned})}var FilterWrapperComp=class extends Component{constructor(column,source){super('<div class="ag-filter"></div>'),this.column=column,this.source=source,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??AgPromise.resolve()}afterGuiAttached(params){this.filterWrapper?.filterPromise?.then((filter=>{filter?.afterGuiAttached?.(params)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((filter=>{filter?.afterGuiDetached?.()}))}createFilter(init){const{column,source}=this;this.filterWrapper=this.beans.filterManager?.getOrCreateFilterWrapper(column)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then((filter=>{const guiFromFilter=filter.getGui();_exists(guiFromFilter)||_warn(69,{guiFromFilter}),this.appendChild(guiFromFilter),init&&this.eventSvc.dispatchEvent({type:"filterOpened",column,source,eGui:this.getGui()})}))}onFilterDestroyed(event){"api"!==event.source&&"paramsUpdated"!==event.source||event.column.getId()!==this.column.getId()||!this.beans.colModel.getColDefCol(this.column)||(_clearElement(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},makeDiv=(dataRefPrefix,classSuffix)=>`<div data-ref="${dataRefPrefix}Resizer" class="ag-resizer ag-resizer-${classSuffix}"></div>`,RESIZE_TEMPLATE=`<div class="ag-resizer-wrapper">\n        ${makeDiv("eTopLeft","topLeft")}\n        ${makeDiv("eTop","top")}\n        ${makeDiv("eTopRight","topRight")}\n        ${makeDiv("eRight","right")}\n        ${makeDiv("eBottomRight","bottomRight")}\n        ${makeDiv("eBottom","bottom")}\n        ${makeDiv("eBottomLeft","bottomLeft")}\n        ${makeDiv("eLeft","left")}\n    </div>`,PositionableFeature=class extends BeanStub{constructor(element,config){super(),this.element=element,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},config)}wireBeans(beans){this.popupSvc=beans.popupSvc,this.dragSvc=beans.dragSvc}center(){const{clientHeight,clientWidth}=this.offsetParent,x=clientWidth/2-this.getWidth()/2,y=clientHeight/2-this.getHeight()/2;this.offsetElement(x,y)}initialisePosition(){if(this.positioned)return;const{centered,forcePopupParentAsOffsetParent,minWidth,width,minHeight,height,x,y}=this.config;this.offsetParent||this.setOffsetParent();let computedMinHeight=0,computedMinWidth=0;const isElementVisible=_isVisible(this.element);if(isElementVisible){const boundaryEl=this.findBoundaryElement(),offsetParentComputedStyles=window.getComputedStyle(boundaryEl);if(null!=offsetParentComputedStyles.minWidth){const paddingWidth=boundaryEl.offsetWidth-this.element.offsetWidth;computedMinWidth=parseInt(offsetParentComputedStyles.minWidth,10)-paddingWidth}if(null!=offsetParentComputedStyles.minHeight){const paddingHeight=boundaryEl.offsetHeight-this.element.offsetHeight;computedMinHeight=parseInt(offsetParentComputedStyles.minHeight,10)-paddingHeight}}if(this.minHeight=minHeight||computedMinHeight,this.minWidth=minWidth||computedMinWidth,width&&this.setWidth(width),height&&this.setHeight(height),width&&height||this.refreshSize(),centered)this.center();else if(x||y)this.offsetElement(x,y);else if(isElementVisible&&forcePopupParentAsOffsetParent){let boundaryEl=this.boundaryEl,initialisedDuringPositioning=!0;if(boundaryEl||(boundaryEl=this.findBoundaryElement(),initialisedDuringPositioning=!1),boundaryEl){const top=parseFloat(boundaryEl.style.top),left=parseFloat(boundaryEl.style.left);initialisedDuringPositioning?this.offsetElement(isNaN(left)?0:left,isNaN(top)?0:top):this.setPosition(left,top)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(movable,moveElement){if(!this.config.popup||movable===this.movable)return;this.movable=movable;const params=this.moveElementDragListener||{eElement:moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};movable?(this.dragSvc?.addDragSource(params),this.moveElementDragListener=params):(this.dragSvc?.removeDragSource(params),this.moveElementDragListener=void 0)}setResizable(resizable){if(this.clearResizeListeners(),resizable?this.addResizers():this.removeResizers(),"boolean"==typeof resizable){if(!1===resizable)return;resizable={topLeft:resizable,top:resizable,topRight:resizable,right:resizable,bottomRight:resizable,bottom:resizable,bottomLeft:resizable,left:resizable}}Object.keys(resizable).forEach((side=>{const isSideResizable=!!resizable[side],resizerEl=this.getResizerElement(side),params={dragStartPixels:0,eElement:resizerEl,onDragStart:e=>this.onResizeStart(e,side),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,side)};(isSideResizable||!this.isAlive()&&!isSideResizable)&&(isSideResizable?(this.dragSvc?.addDragSource(params),this.resizeListeners.push(params),resizerEl.style.pointerEvents="all"):resizerEl.style.pointerEvents="none",this.resizable[side]=isSideResizable)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height,width}=this.lastSize;-1!==width&&(this.element.style.width=`${width}px`),-1!==height&&(this.element.style.height=`${height}px`)}getHeight(){return this.element.offsetHeight}setHeight(height){const{popup}=this.config,eGui=this.element;let isPercent=!1;if("string"==typeof height&&-1!==height.indexOf("%"))_setFixedHeight(eGui,height),height=_getAbsoluteHeight(eGui),isPercent=!0;else if(height=Math.max(this.minHeight,height),this.positioned){const availableHeight=this.getAvailableHeight();availableHeight&&height>availableHeight&&(height=availableHeight)}this.getHeight()!==height&&(isPercent?(eGui.style.maxHeight="unset",eGui.style.minHeight="unset"):popup?_setFixedHeight(eGui,height):(eGui.style.height=`${height}px`,eGui.style.flex="0 0 auto",this.lastSize.height="number"==typeof height?height:parseFloat(height)))}getAvailableHeight(){const{popup,forcePopupParentAsOffsetParent}=this.config;this.positioned||this.initialisePosition();const{clientHeight}=this.offsetParent;if(!clientHeight)return null;const elRect=this.element.getBoundingClientRect(),offsetParentRect=this.offsetParent.getBoundingClientRect(),yPosition=popup?this.position.y:elRect.top,parentTop=popup?0:offsetParentRect.top;let additionalHeight=0;if(forcePopupParentAsOffsetParent){const parentEl=this.element.parentElement;if(parentEl){const{bottom}=parentEl.getBoundingClientRect();additionalHeight=bottom-elRect.bottom}}return clientHeight+parentTop-yPosition-additionalHeight}getWidth(){return this.element.offsetWidth}setWidth(width){const eGui=this.element,{popup}=this.config;let isPercent=!1;if("string"==typeof width&&-1!==width.indexOf("%"))_setFixedWidth(eGui,width),width=_getAbsoluteWidth(eGui),isPercent=!0;else if(this.positioned){width=Math.max(this.minWidth,width);const{clientWidth}=this.offsetParent,xPosition=popup?this.position.x:this.element.getBoundingClientRect().left;clientWidth&&width+xPosition>clientWidth&&(width=clientWidth-xPosition)}this.getWidth()!==width&&(isPercent?(eGui.style.maxWidth="unset",eGui.style.minWidth="unset"):this.config.popup?_setFixedWidth(eGui,width):(eGui.style.width=`${width}px`,eGui.style.flex=" unset",this.lastSize.width="number"==typeof width?width:parseFloat(width)))}offsetElement(x=0,y=0){const{forcePopupParentAsOffsetParent}=this.config,ePopup=forcePopupParentAsOffsetParent?this.boundaryEl:this.element;ePopup&&(this.popupSvc?.positionPopup({ePopup,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x,y})}),this.setPosition(parseFloat(ePopup.style.left),parseFloat(ePopup.style.top)))}constrainSizeToAvailableHeight(constrain){if(!this.config.forcePopupParentAsOffsetParent)return;const applyMaxHeightToElement=()=>{const availableHeight=this.getAvailableHeight();this.element.style.setProperty("max-height",`${availableHeight}px`)};constrain&&this.popupSvc?this.resizeObserverSubscriber=_observeResize(this.beans,this.popupSvc?.getPopupParent(),applyMaxHeightToElement):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(x,y){this.position.x=x,this.position.y=y}updateDragStartPosition(x,y){this.dragStartPosition={x,y}}calculateMouseMovement(params){const{e,isLeft,isTop,anywhereWithin,topBuffer}=params,xDiff=e.clientX-this.dragStartPosition.x,yDiff=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!isLeft,!!anywhereWithin,xDiff)?0:xDiff,movementY:this.shouldSkipY(e,!!isTop,topBuffer,yDiff)?0:yDiff}}shouldSkipX(e,isLeft,anywhereWithin,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),xPosition=this.config.popup?this.position.x:elRect.left;let skipX=xPosition<=0&&parentRect.left>=e.clientX||parentRect.right<=e.clientX&&parentRect.right<=boundaryElRect.right;return!!skipX||(skipX=isLeft?diff<0&&e.clientX>xPosition+parentRect.left||diff>0&&e.clientX<xPosition+parentRect.left:anywhereWithin?diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<xPosition+parentRect.left:diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<boundaryElRect.right,skipX)}shouldSkipY(e,isTop,topBuffer=0,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),yPosition=this.config.popup?this.position.y:elRect.top;let skipY=yPosition<=0&&parentRect.top>=e.clientY||parentRect.bottom<=e.clientY&&parentRect.bottom<=boundaryElRect.bottom;return!!skipY||(skipY=isTop?diff<0&&e.clientY>yPosition+parentRect.top+topBuffer||diff>0&&e.clientY<yPosition+parentRect.top:diff<0&&e.clientY>boundaryElRect.bottom||diff>0&&e.clientY<boundaryElRect.bottom,skipY)}createResizeMap(){const eGui=this.element;this.resizerMap={topLeft:{element:eGui.querySelector("[data-ref=eTopLeftResizer]")},top:{element:eGui.querySelector("[data-ref=eTopResizer]")},topRight:{element:eGui.querySelector("[data-ref=eTopRightResizer]")},right:{element:eGui.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:eGui.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:eGui.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:eGui.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:eGui.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const eGui=this.element;if(!eGui)return;const resizers=(new DOMParser).parseFromString(RESIZE_TEMPLATE,"text/html").body;eGui.appendChild(resizers.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const resizerEl=this.element.querySelector(".ag-resizer-wrapper");resizerEl&&this.element.removeChild(resizerEl),this.resizersAdded=!1}getResizerElement(side){return this.resizerMap[side].element}onResizeStart(e,side){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!side.match(/top/i),isRight:!!side.match(/right/i),isBottom:!!side.match(/bottom/i),isLeft:!!side.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[side].element.classList.add("ag-active");const{popup,forcePopupParentAsOffsetParent}=this.config;popup||forcePopupParentAsOffsetParent||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const parent=this.element.parentElement;return parent?Array.prototype.slice.call(parent.children).filter((el=>!el.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const siblings=this.getSiblings()||[];let height=0,width=0;for(let i=0;i<siblings.length;i++){const currentEl=siblings[i],isFlex=!!currentEl.style.flex&&"0 0 auto"!==currentEl.style.flex;if(currentEl===this.element)continue;let nextHeight=this.minHeight||0,nextWidth=this.minWidth||0;if(isFlex){const computedStyle=window.getComputedStyle(currentEl);computedStyle.minHeight&&(nextHeight=parseInt(computedStyle.minHeight,10)),computedStyle.minWidth&&(nextWidth=parseInt(computedStyle.minWidth,10))}else nextHeight=currentEl.offsetHeight,nextWidth=currentEl.offsetWidth;height+=nextHeight,width+=nextWidth}return{height,width}}applySizeToSiblings(vertical){let containerToFlex=null;const siblings=this.getSiblings();if(siblings){for(let i=0;i<siblings.length;i++){const el=siblings[i];el!==containerToFlex&&(vertical?el.style.height=`${el.offsetHeight}px`:el.style.width=`${el.offsetWidth}px`,el.style.flex="0 0 auto",el===this.element&&(containerToFlex=siblings[i+1]))}containerToFlex&&(containerToFlex.style.removeProperty("height"),containerToFlex.style.removeProperty("min-height"),containerToFlex.style.removeProperty("max-height"),containerToFlex.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((value=>value))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup,forcePopupParentAsOffsetParent}=this.config,{isTop,isRight,isBottom,isLeft}=this.currentResizer,isHorizontal=isRight||isLeft,isVertical=isBottom||isTop,{movementX,movementY}=this.calculateMouseMovement({e,isLeft,isTop}),xPosition=this.position.x,yPosition=this.position.y;let offsetLeft=0,offsetTop=0;if(isHorizontal&&movementX){const direction=isLeft?-1:1,oldWidth=this.getWidth(),newWidth=oldWidth+movementX*direction;let skipWidth=!1;isLeft&&(offsetLeft=oldWidth-newWidth,(xPosition+offsetLeft<=0||newWidth<=this.minWidth)&&(skipWidth=!0,offsetLeft=0)),skipWidth||this.setWidth(newWidth)}if(isVertical&&movementY){const direction=isTop?-1:1,oldHeight=this.getHeight(),newHeight=oldHeight+movementY*direction;let skipHeight=!1;isTop?(offsetTop=oldHeight-newHeight,(yPosition+offsetTop<=0||newHeight<=this.minHeight)&&(skipHeight=!0,offsetTop=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&oldHeight<newHeight&&this.getMinSizeOfSiblings().height+newHeight>this.element.parentElement.offsetHeight&&(skipHeight=!0),skipHeight||this.setHeight(newHeight)}this.updateDragStartPosition(e.clientX,e.clientY),((popup||forcePopupParentAsOffsetParent)&&offsetLeft||offsetTop)&&this.offsetElement(xPosition+offsetLeft,yPosition+offsetTop)}onResizeEnd(e,side){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[side].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const eGui=this.element;this.config.popup&&(this.config.width||this.setWidth(eGui.offsetWidth),this.config.height||this.setHeight(eGui.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x,y}=this.position;let topBuffer;this.config.calculateTopBuffer&&(topBuffer=this.config.calculateTopBuffer());const{movementX,movementY}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer});this.offsetElement(x+movementX,y+movementY),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let el=this.element;for(;el;){if("static"!==window.getComputedStyle(el).position)return el;el=el.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const params=this.resizeListeners.pop();this.dragSvc?.removeDragSource(params)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},ManagedFocusFeature=class extends BeanStub{constructor(eFocusable,callbacks={}){super(),this.eFocusable=eFocusable,this.callbacks=callbacks,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const nextRoot=_findNextFocusableElement(this.beans,this.eFocusable,!1,e.shiftKey);nextRoot&&(nextRoot.focus(),e.preventDefault())},...callbacks}}postConstruct(){const{eFocusable,callbacks:{onFocusIn,onFocusOut}}=this;eFocusable.classList.add("ag-focus-managed"),this.addKeyDownListeners(eFocusable),onFocusIn&&this.addManagedElementListeners(eFocusable,{focusin:onFocusIn}),onFocusOut&&this.addManagedElementListeners(eFocusable,{focusout:onFocusOut})}addKeyDownListeners(eGui){this.addManagedElementListeners(eGui,{keydown:e=>{if(e.defaultPrevented||_isStopPropagationForAgGrid(e))return;const{callbacks}=this;callbacks.shouldStopEventPropagation(e)?_stopPropagationForAgGrid(e):e.key===KeyCode_TAB?callbacks.onTabKeyDown(e):callbacks.handleKeyDown&&callbacks.handleKeyDown(e)}})}},FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function getDebounceMs(params,debounceDefault){const{debounceMs}=params;return isUseApplyButton(params)?(null!=debounceMs&&_warn(71),0):debounceMs??debounceDefault}function isUseApplyButton(params){return(params.buttons?.indexOf("apply")??-1)>=0}var ProvidedFilter=class extends Component{constructor(filterNameKey){super(),this.filterNameKey=filterNameKey,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=null,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(paramsMap){let eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit);const templateString=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(templateString,this.getAgComponents(),paramsMap),eGui=this.getGui(),eGui?.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(params){this.setParams(params),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(params){this.params=params,this.applyActive=isUseApplyButton(params),this.resetButtonsPanel(params)}updateParams(params){this.params=params,this.applyActive=isUseApplyButton(params),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(newParams,oldParams){const{buttons:oldButtons,readOnly:oldReadOnly}=oldParams??{},{buttons,readOnly}=newParams;if(oldReadOnly===readOnly&&_jsonEquals(oldButtons,buttons))return;const hasButtons=buttons&&buttons.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(_clearElement(this.eButtonsPanel),this.buttonListeners.forEach((destroyFunc=>destroyFunc())),this.buttonListeners=[]):hasButtons&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!hasButtons)return void(this.eButtonsPanel&&_removeFromParent(this.eButtonsPanel));const fragment=document.createDocumentFragment(),addButton=type=>{let clickListener;const text=type?this.translate(`${type}Filter`):void 0;switch(type){case"apply":clickListener=e=>this.onBtApply(!1,!1,e);break;case"clear":clickListener=()=>this.onBtClear();break;case"reset":clickListener=()=>this.onBtReset();break;case"cancel":clickListener=e=>{this.onBtCancel(e)};break;default:return void _warn(75)}const button=_loadTemplate(`<button\n                    type="${"apply"===type?"submit":"button"}"\n                    data-ref="${type}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${text}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(button,{click:clickListener})),fragment.append(button)};buttons.forEach((type=>addButton(type))),this.eButtonsPanel.append(fragment),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const debounceMs=getDebounceMs(this.params,this.defaultDebounceMs),debounceFunc=_debounce(this,this.checkApplyDebounce.bind(this),debounceMs);this.onBtApplyDebounce=()=>{this.debouncePending=!0,debounceFunc()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(model){return(null!=model?this.setModelIntoUi(model):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(currentModel,afterUiUpdatedFunc){const afterAppliedFunc=()=>{this.onUiChanged(!1,"prevent"),afterUiUpdatedFunc?.()};null!=currentModel?this.setModelIntoUi(currentModel).then(afterAppliedFunc):this.resetUiToDefaults().then(afterAppliedFunc)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(source="api"){const newModel=this.getModelFromUi();if(!this.isModelValid(newModel))return!1;const previousModel=this.appliedModel;return this.appliedModel=newModel,!this.areModelsEqual(previousModel,newModel)}isModelValid(model){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(afterFloatingFilter=!1,afterDataChange=!1,e){if(e&&e.preventDefault(),this.applyModel(afterDataChange?"rowDataUpdated":"ui")){const source="columnFilter";this.params.filterChangedCallback({afterFloatingFilter,afterDataChange,source})}const{closeOnApply}=this.params;closeOnApply&&this.applyActive&&!afterFloatingFilter&&!afterDataChange&&this.close(e)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const keyboardEvent=e,key=keyboardEvent&&keyboardEvent.key;let params;"Enter"!==key&&"Space"!==key||(params={keyboardEvent}),this.hidePopup(params),this.hidePopup=null}onUiChanged(fromFloatingFilter=!1,apply){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const isValid=this.isModelValid(this.getModelFromUi()),applyFilterButton=this.queryForHtmlElement('[data-ref="applyFilterButton"]');applyFilterButton&&_setDisabled(applyFilterButton,!isValid)}fromFloatingFilter&&!apply||"immediately"===apply?this.onBtApply(fromFloatingFilter):(this.applyActive||apply)&&"debounce"!==apply||this.onBtApplyDebounce()}afterGuiAttached(params){params&&(this.hidePopup=params.hidePopup),this.refreshFilterResizer(params?.container)}refreshFilterResizer(containerType){const{positionableFeature,gos}=this;if(!positionableFeature||"toolPanel"===containerType)return;"floatingFilter"===containerType||"columnFilter"===containerType?(positionableFeature.restoreLastSize(),positionableFeature.setResizable(gos.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(positionableFeature.removeSizeFromEl(),positionableFeature.setResizable(!1)),positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}refresh(newParams){const oldParams=this.params;return this.params=newParams,this.resetButtonsPanel(newParams,oldParams),!0}destroy(){const eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(key){return this.getLocaleTextFunc()(key,FILTER_LOCALE_TEXT[key])}getCellValue(rowNode){return this.params.getValue(rowNode)}getPositionableElement(){return this.eFilterBody}};function _getDefaultFloatingFilterType(frameworkOverrides,def,getFromDefault){if(null==def)return null;let defaultFloatingFilterType=null;const{compName,jsComp,fwComp}=function _getFilterCompKeys(frameworkOverrides,def){return _getUserCompKeys(frameworkOverrides,def,FilterComponent)}(frameworkOverrides,def);if(compName){defaultFloatingFilterType={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[compName]}else{null==jsComp&&null==fwComp&&!0===def.filter&&(defaultFloatingFilterType=getFromDefault())}return defaultFloatingFilterType}var LayoutCssClasses={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},LayoutFeature=class extends BeanStub{constructor(view){super(),this.view=view}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const domLayout=this.gos.get("domLayout"),params={autoHeight:"autoHeight"===domLayout,normal:"normal"===domLayout,print:"print"===domLayout},cssClass=params.autoHeight?LayoutCssClasses.AUTO_HEIGHT:params.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(cssClass,params)}},HORIZONTAL_SOURCES=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],GridBodyScrollFeature=class extends BeanStub{constructor(eBodyViewport){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=eBodyViewport,this.resetLastHScrollDebounced=_debounce(this,(()=>this.lastScrollSource[1]=null),150),this.resetLastVScrollDebounced=_debounce(this,(()=>this.lastScrollSource[0]=null),150)}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.animationFrameSvc=beans.animationFrameSvc,this.visibleCols=beans.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const requireUpdatedScrollPosition=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:requireUpdatedScrollPosition}),this.addManagedElementListeners(this.eBodyViewport,{scroll:requireUpdatedScrollPosition}),this.ctrlsSvc.whenReady(this,(p=>{this.centerRowsCtrl=p.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,"Viewport")});for(const source of HORIZONTAL_SOURCES){const scrollPartner=this.ctrlsSvc.get(source);this.registerScrollPartner(scrollPartner,this.onHScroll.bind(this,source))}}addVerticalScrollListeners(){const fakeVScrollComp=this.ctrlsSvc.get("fakeVScrollComp"),isDebounce=this.gos.get("debounceVerticalScrollbar"),onVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),onFakeVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:onVScroll}),this.registerScrollPartner(fakeVScrollComp,onFakeVScroll)}registerScrollPartner(comp,callback){comp.onScrollCallback(callback)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft){null==this.centerRowsCtrl||(void 0===scrollLeft&&(scrollLeft=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(scrollLeft)))}setScrollLeftForAllContainersExceptCurrent(scrollLeft){for(const container of[...HORIZONTAL_SOURCES,"Viewport"]){if(this.lastScrollSource[1]===container)continue;_setScrollLeft(this.getViewportForSource(container),scrollLeft,this.enableRtl)}}getViewportForSource(source){return"Viewport"===source?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(source).eViewport}isControllingScroll(source,direction){return null==this.lastScrollSource[direction]?(0===direction?this.lastScrollSource[0]=source:this.lastScrollSource[1]=source,!0):this.lastScrollSource[direction]===source}onHScroll(source){if(!this.isControllingScroll(source,1))return;const centerContainerViewport=this.centerRowsCtrl.eViewport,{scrollLeft}=centerContainerViewport;if(this.shouldBlockScrollUpdate(1,scrollLeft,!0))return;const newScrollLeft=_getScrollLeft(this.getViewportForSource(source),this.enableRtl);this.doHorizontalScroll(newScrollLeft),this.resetLastHScrollDebounced()}onVScroll(source){if(!this.isControllingScroll(source,0))return;let scrollTop;if(scrollTop="Viewport"===source?this.eBodyViewport.scrollTop:this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,scrollTop,!0))return;const{animationFrameSvc}=this;animationFrameSvc?.setScrollTop(scrollTop),this.nextScrollTop=scrollTop,"Viewport"===source?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(scrollTop):this.eBodyViewport.scrollTop=scrollTop,!animationFrameSvc||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):animationFrameSvc.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(scrollLeft){const fakeScrollLeft=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===scrollLeft&&scrollLeft===fakeScrollLeft||(this.scrollLeft=scrollLeft,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(direction){const bodyScrollEvent={type:"bodyScroll",direction:1===direction?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(bodyScrollEvent),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout((()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...bodyScrollEvent,type:"bodyScrollEnd"})}),150)}shouldBlockScrollUpdate(direction,scrollTo,touchOnly=!1){return!(touchOnly&&!_isIOSUserAgent())&&(0===direction?this.shouldBlockVerticalScroll(scrollTo):this.shouldBlockHorizontalScroll(scrollTo))}shouldBlockVerticalScroll(scrollTo){const clientHeight=_getInnerHeight(this.eBodyViewport),{scrollHeight}=this.eBodyViewport;return scrollTo<0||scrollTo+clientHeight>scrollHeight}shouldBlockHorizontalScroll(scrollTo){const clientWidth=this.centerRowsCtrl.getCenterWidth(),{scrollWidth}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&_isRtlNegativeScroll()){if(scrollTo>0)return!0}else if(scrollTo<0)return!0;return Math.abs(scrollTo)+clientWidth>scrollWidth}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(suppressedAnimationFrame=!1){const frameNeeded=this.scrollTop!=this.nextScrollTop;return frameNeeded&&(this.scrollTop=this.nextScrollTop,suppressedAnimationFrame&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),frameNeeded}setHorizontalScrollPosition(hScrollPosition,fromAlignedGridsService=!1){const maxScrollLeft=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!fromAlignedGridsService&&this.shouldBlockScrollUpdate(1,hScrollPosition)&&(hScrollPosition=this.enableRtl&&_isRtlNegativeScroll()?hScrollPosition>0?0:maxScrollLeft:Math.min(Math.max(hScrollPosition,0),maxScrollLeft)),_setScrollLeft(this.centerRowsCtrl.eViewport,Math.abs(hScrollPosition),this.enableRtl),this.doHorizontalScroll(hScrollPosition)}setVerticalScrollPosition(vScrollPosition){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=vScrollPosition}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight,lastScrollTop}=this;return{top:lastScrollTop,bottom:lastScrollTop+lastOffsetHeight}}this.needsRefreshedScrollPosition=!1;const{scrollTop,offsetHeight}=this.eBodyViewport;return this.lastScrollTop=scrollTop,this.lastOffsetHeight=offsetHeight,{top:scrollTop,bottom:scrollTop+offsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(pixels){const oldScrollPosition=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(oldScrollPosition+pixels),this.centerRowsCtrl.eViewport.scrollLeft-oldScrollPosition}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(comparator,position=null){const{rowModel}=this.beans,rowCount=rowModel.getRowCount();let indexToSelect=-1;for(let i=0;i<rowCount;i++){const node=rowModel.getRow(i);if("function"==typeof comparator){if(node&&comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.ensureIndexVisible(indexToSelect,position)}ensureIndexVisible(index,position){if(_isDomLayout(this.gos,"print"))return;const{rowModel}=this.beans,rowCount=rowModel.getRowCount();if("number"!=typeof index||index<0||index>=rowCount)return void _warn(88,{index});const paginationPanelEnabled=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides,pagination,pageBounds,rowContainerHeight:heightScaler,rowRenderer}=this.beans;frameworkOverrides.wrapIncoming((()=>{paginationPanelEnabled||pagination?.goToPageWithIndex(index);const gridBodyCtrl=this.ctrlsSvc.getGridBodyCtrl(),stickyTopHeight=gridBodyCtrl.stickyTopHeight,stickyBottomHeight=gridBodyCtrl.stickyBottomHeight,rowNode=rowModel.getRow(index);let rowGotShiftedDuringOperation;do{const startingRowTop=rowNode.rowTop,startingRowHeight=rowNode.rowHeight,paginationOffset=pageBounds.getPixelOffset(),rowTopPixel=rowNode.rowTop-paginationOffset,rowBottomPixel=rowTopPixel+rowNode.rowHeight,scrollPosition=this.getVScrollPosition(),heightOffset=heightScaler.divStretchOffset,vScrollTop=scrollPosition.top+heightOffset,vScrollBottom=scrollPosition.bottom+heightOffset,viewportHeight=vScrollBottom-vScrollTop,pxTop=heightScaler.getScrollPositionForPixel(rowTopPixel),pxBottom=heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight),pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel);let newScrollPosition=null;"top"===position?newScrollPosition=pxTop:"bottom"===position?newScrollPosition=pxBottom:"middle"===position?newScrollPosition=pxMiddle:vScrollTop+stickyTopHeight>rowTopPixel?newScrollPosition=pxTop-stickyTopHeight:vScrollBottom-stickyBottomHeight<rowBottomPixel&&(newScrollPosition=pxBottom+stickyBottomHeight),null!==newScrollPosition&&(this.setVerticalScrollPosition(newScrollPosition),rowRenderer.redraw({afterScroll:!0})),rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight}while(rowGotShiftedDuringOperation);this.animationFrameSvc?.flushAllFrames()}))}ensureColumnVisible(key,position="auto"){const{colModel,frameworkOverrides}=this.beans,column=colModel.getCol(key);if(!column)return;if(column.isPinned())return;if(!this.visibleCols.isColDisplayed(column))return;const newHorizontalScroll=this.getPositionedHorizontalScroll(column,position);frameworkOverrides.wrapIncoming((()=>{null!==newHorizontalScroll&&this.centerRowsCtrl.setCenterViewportScrollLeft(newHorizontalScroll),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()}))}getPositionedHorizontalScroll(column,position){const{columnBeforeStart,columnAfterEnd}=this.isColumnOutsideViewport(column),viewportTooSmallForColumn=this.centerRowsCtrl.getCenterWidth()<column.getActualWidth(),viewportWidth=this.centerRowsCtrl.getCenterWidth(),isRtl=this.enableRtl;let alignColToStart=(isRtl?columnBeforeStart:columnAfterEnd)||viewportTooSmallForColumn,alignColToEnd=isRtl?columnAfterEnd:columnBeforeStart;"auto"!==position&&(alignColToStart="start"===position,alignColToEnd="end"===position);const isMiddle="middle"===position;if(alignColToStart||alignColToEnd||isMiddle){const{colLeft,colMiddle,colRight}=this.getColumnBounds(column);return isMiddle?colMiddle-viewportWidth/2:alignColToStart?isRtl?colRight:colLeft:isRtl?colLeft-viewportWidth:colRight-viewportWidth}return null}isColumnOutsideViewport(column){const{start:viewportStart,end:viewportEnd}=this.getViewportBounds(),{colLeft,colRight}=this.getColumnBounds(column),isRtl=this.enableRtl;return{columnBeforeStart:isRtl?viewportStart>colRight:viewportEnd<colRight,columnAfterEnd:isRtl?viewportEnd<colLeft:viewportStart>colLeft}}getColumnBounds(column){const isRtl=this.enableRtl,bodyWidth=this.visibleCols.bodyWidth,colWidth=column.getActualWidth(),colLeft=column.getLeft(),multiplier=isRtl?-1:1,colLeftPixel=isRtl?bodyWidth-colLeft:colLeft;return{colLeft:colLeftPixel,colMiddle:colLeftPixel+colWidth/2*multiplier,colRight:colLeftPixel+colWidth*multiplier}}getViewportBounds(){const viewportWidth=this.centerRowsCtrl.getCenterWidth(),scrollPosition=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:scrollPosition,end:viewportWidth+scrollPosition,width:viewportWidth}}},CenterWidthFeature=class extends BeanStub{constructor(callback,addSpacer=!1){super(),this.callback=callback,this.addSpacer=addSpacer}postConstruct(){const listener=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",listener),this.addManagedEventListeners({columnContainerWidthChanged:listener,displayedColumnsChanged:listener,leftPinnedWidthChanged:listener}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener}),this.setWidth()}setWidth(){const printLayout=_isDomLayout(this.gos,"print"),{visibleCols,scrollVisibleSvc}=this.beans,centerWidth=visibleCols.bodyWidth,leftWidth=visibleCols.getColsLeftWidth(),rightWidth=visibleCols.getDisplayedColumnsRightWidth();let totalWidth;if(printLayout)totalWidth=centerWidth+leftWidth+rightWidth;else if(totalWidth=centerWidth,this.addSpacer){0===(this.gos.get("enableRtl")?leftWidth:rightWidth)&&scrollVisibleSvc.verticalScrollShowing&&(totalWidth+=scrollVisibleSvc.getScrollbarWidth())}this.callback(totalWidth)}},ViewportSizeFeature=class extends BeanStub{constructor(centerContainerCtrl){super(),this.centerContainerCtrl=centerContainerCtrl}wireBeans(beans){this.scrollVisibleSvc=beans.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const{beans,centerContainerCtrl,gridBodyCtrl}=this,listener=()=>{_requestAnimationFrame(beans,(()=>{this.onCenterViewportResized()}))};centerContainerCtrl.registerViewportResizeListener(listener),gridBodyCtrl.registerBodyViewportResizeListener(listener)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols,colFlex}=this.beans;pinnedCols?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const newWidth=this.centerContainerCtrl.getCenterWidth();newWidth!==this.centerWidth&&(this.centerWidth=newWidth,colFlex?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const bodyHeight=_getInnerHeight(this.gridBodyCtrl.eBodyViewport);this.bodyHeight!==bodyHeight&&(this.bodyHeight=bodyHeight,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const params={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(params)}onHorizontalViewportChanged(){const scrollWidth=this.centerContainerCtrl.getCenterWidth(),scrollPosition=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition)}};function processClassRules(expressionSvc,previousClassRules,classRules,params,onApplicableClass,onNotApplicableClass){if(null==classRules&&null==previousClassRules)return;const classesToApply={},classesToRemove={},forEachSingleClass=(className,callback)=>{className.split(" ").forEach((singleClass=>{""!=singleClass.trim()&&callback(singleClass)}))};if(classRules){const classNames=Object.keys(classRules);for(let i=0;i<classNames.length;i++){const className=classNames[i],rule=classRules[className];let resultOfRule;"string"==typeof rule?resultOfRule=!expressionSvc||expressionSvc.evaluate(rule,params):"function"==typeof rule&&(resultOfRule=rule(params)),forEachSingleClass(className,(singleClass=>{resultOfRule?classesToApply[singleClass]=!0:classesToRemove[singleClass]=!0}))}}previousClassRules&&onNotApplicableClass&&Object.keys(previousClassRules).forEach((className=>forEachSingleClass(className,(singleClass=>{classesToApply[singleClass]||(classesToRemove[singleClass]=!0)})))),onNotApplicableClass&&Object.keys(classesToRemove).forEach(onNotApplicableClass),Object.keys(classesToApply).forEach(onApplicableClass)}function calculateRowLevel(rowNode){if(rowNode.group)return rowNode.level;const parent=rowNode.parent;return parent?parent.level+1:0}var instanceIdSequence3=0,RowCtrl=class extends BeanStub{constructor(rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){super(),this.rowNode=rowNode,this.useAnimationFrameForCreate=useAnimationFrameForCreate,this.printLayout=printLayout,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=beans,this.gos=beans.gos,this.paginationPage=beans.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=rowNode.id+"-"+instanceIdSequence3++,this.rowId=_escapeString(rowNode.id),this.initRowBusinessKey(),this.rowFocused=beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(animateIn),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const businessKey=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=_escapeString(businessKey)}updateGui(containerType,gui){"left"===containerType?this.leftGui=gui:"right"===containerType?this.rightGui=gui:"fullWidth"===containerType?this.fullWidthGui=gui:this.centerGui=gui}setComp(rowComp,element,containerType,compBean){const gui={rowComp,element,containerType,compBean:compBean=setupCompBean(this,this.beans.context,compBean)};this.allRowGuis.push(gui),this.updateGui(containerType,gui),this.initialiseRowComp(gui);"FullWidthLoading"===this.rowType||this.rowNode.stub||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(containerType){this.allRowGuis=this.allRowGuis.filter((rowGui=>rowGui.containerType!==containerType)),this.updateGui(containerType,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(cached){const displayValue=cached?"none":"";this.allRowGuis.forEach((rg=>rg.element.style.display=displayValue))}initialiseRowComp(gui){const gos=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(gui),this.onRowHeightChanged(gui),this.updateRowIndexes(gui),this.setFocusedClasses(gui),this.setStylesFromGridOptions(!1,gui),_isRowSelection(gos)&&this.rowNode.selectable&&this.onRowSelected(gui),this.updateColumnLists(!this.useAnimationFrameForCreate);const comp=gui.rowComp;this.getInitialRowClasses(gui.containerType).forEach((name=>comp.addOrRemoveCssClass(name,!0))),this.executeSlideAndFadeAnimations(gui),this.rowNode.group&&_setAriaExpanded(gui.element,1==this.rowNode.expanded),this.setRowCompRowId(comp),this.setRowCompRowBusinessKey(comp),_setDomData(gos,gui.element,"renderedRow",this),gui.compBean.addDestroyFunc((()=>_setDomData(gos,gui.element,"renderedRow",null))),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,gui),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(gui),this.isFullWidth()&&this.setupFullWidth(gui),gos.get("rowDragEntireRow")&&this.addRowDraggerToRow(gui),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask((()=>{this.isAlive()&&gui.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(comp){null!=this.businessKey&&comp.setRowBusinessKey(this.businessKey)}setRowCompRowId(comp){const rowId=_escapeString(this.rowNode.id);this.rowId=rowId,null!=rowId&&comp.setRowId(rowId)}executeSlideAndFadeAnimations(gui){const{containerType}=gui;this.slideInAnimation[containerType]&&(_executeNextVMTurn((()=>{this.onTopChanged()})),this.slideInAnimation[containerType]=!1);this.fadeInAnimation[containerType]&&(_executeNextVMTurn((()=>{gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[containerType]=!1)}addRowDraggerToRow(gui){const rowDragComp=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,gui.element);if(!rowDragComp)return;const rowDragBean=this.createBean(rowDragComp,this.beans.context);this.rowDragComps.push(rowDragBean),gui.compBean.addDestroyFunc((()=>{this.rowDragComps=this.rowDragComps.filter((r=>r!==rowDragBean)),this.destroyBean(rowDragBean,this.beans.context)}))}setupFullWidth(gui){const pinned=this.getPinnedForContainer(gui.containerType),compDetails=this.createFullWidthCompDetails(gui.element,pinned);gui.rowComp.showFullWidth(compDetails)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((gui=>gui?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const func=this.gos.getCallback("processRowPostCreate");if(!func||!this.areAllContainersReady())return;func({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const{leftGui,centerGui,rightGui,beans:{visibleCols}}=this,isLeftReady=!!leftGui||!visibleCols.isPinningLeft(),isCenterReady=!!centerGui,isRightReady=!!rightGui||!visibleCols.isPinningRight();return isLeftReady&&isCenterReady&&isRightReady}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const isFullWidthCellFunc=this.beans.gos.getCallback("isFullWidthRow");return!!isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:this.rowNode})}setRowType(){const isStub=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),isFullWidthCell=this.isNodeFullWidthCell(),isDetailCell=this.gos.get("masterDetail")&&this.rowNode.detail,pivotMode=this.beans.colModel.isPivotMode(),isFullWidthGroup=!!this.rowNode.group&&!this.rowNode.footer&&_isGroupUseEntireRow(this.gos,pivotMode);this.rowType=isStub?"FullWidthLoading":isDetailCell?"FullWidthDetail":isFullWidthCell?"FullWidth":isFullWidthGroup?"FullWidthGroup":"Normal"}updateColumnLists(suppressAnimationFrame=!1,useFlushSync=!1){if(this.isFullWidth())return;const{animationFrameSvc}=this.beans;!animationFrameSvc||suppressAnimationFrame||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(useFlushSync):this.updateColumnListsPending||(animationFrameSvc.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(col){const isCellSpan=this.beans.rowSpanSvc?.isCellSpanning(col,this.rowNode);if(!isCellSpan)return new CellCtrl(col,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(cell){return!!this.beans.rowSpanSvc?.isCellSpanning(cell.column,this.rowNode)}createCellCtrls(prev,cols,pinned=null){const res={list:[],map:{}},addCell=(colInstanceId,cellCtrl,index)=>{null!=index?res.list.splice(index,0,cellCtrl):res.list.push(cellCtrl),res.map[colInstanceId]=cellCtrl},colsFromPrev=[];for(const col of cols){const colInstanceId=col.getInstanceId();let cellCtrl=prev.map[colInstanceId];cellCtrl&&this.shouldRecreateCellCtrl(cellCtrl)&&(cellCtrl.destroy(),cellCtrl=void 0),cellCtrl||(cellCtrl=this.getNewCellCtrl(col)),cellCtrl&&addCell(colInstanceId,cellCtrl)}for(const prevCellCtrl of prev.list){const colInstanceId=prevCellCtrl.column.getInstanceId();if(null!=res.map[colInstanceId])continue;!this.isCellEligibleToBeRemoved(prevCellCtrl,pinned)?colsFromPrev.push([colInstanceId,prevCellCtrl]):prevCellCtrl.destroy()}if(colsFromPrev.length)for(const[colInstanceId,cellCtrl]of colsFromPrev){const index=res.list.findIndex((ctrl=>ctrl.column.getLeft()>cellCtrl.column.getLeft())),normalisedIndex=-1===index?void 0:Math.max(index-1,0);addCell(colInstanceId,cellCtrl,normalisedIndex)}return res}updateColumnListsImpl(useFlushSync){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(useFlushSync)}setCellCtrls(useFlushSync){this.allRowGuis.forEach((item=>{const cellControls=this.getCellCtrlsForContainer(item.containerType);item.rowComp.setCellCtrls(cellControls,useFlushSync)}))}getCellCtrlsForContainer(containerType){switch(containerType){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const colViewport=this.beans.colViewport,presentedColsService=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,presentedColsService.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const centerCols=colViewport.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,centerCols);const leftCols=presentedColsService.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,leftCols,"left");const rightCols=presentedColsService.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,rightCols,"right")}}isCellEligibleToBeRemoved(cellCtrl,nextContainerPinned){const{column}=cellCtrl;if(column.getPinned()!=nextContainerPinned)return true;const{editing,cellPosition}=cellCtrl,{focusSvc,visibleCols}=this.beans,focused=focusSvc.isCellFocused(cellPosition);if(editing||focused){return!(visibleCols.allCols.indexOf(column)>=0)}return true}getDomOrder(){return this.gos.get("ensureDomOrder")||_isDomLayout(this.gos,"print")}listenOnDomOrder(gui){gui.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],(()=>{gui.rowComp.setDomOrder(this.getDomOrder())}))}setAnimateFlags(animateIn){if(this.rowNode.sticky||!animateIn)return;const oldRowTopExists=_exists(this.rowNode.oldRowTop),{visibleCols}=this.beans,pinningLeft=visibleCols.isPinningLeft(),pinningRight=visibleCols.isPinningRight();if(oldRowTopExists){const{slideInAnimation}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(slideInAnimation.fullWidth=!0);slideInAnimation.center=!0,slideInAnimation.left=pinningLeft,slideInAnimation.right=pinningRight}else{const{fadeInAnimation}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(fadeInAnimation.fullWidth=!0);fadeInAnimation.center=!0,fadeInAnimation.left=pinningLeft,fadeInAnimation.right=pinningRight}}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const tryRefresh=(gui,pinned)=>!gui||gui.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(gui.element,pinned).params)),fullWidthSuccess=tryRefresh(this.fullWidthGui,null),centerSuccess=tryRefresh(this.centerGui,null),leftSuccess=tryRefresh(this.leftGui,"left"),rightSuccess=tryRefresh(this.rightGui,"right");return fullWidthSuccess&&centerSuccess&&leftSuccess&&rightSuccess}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...this.beans.expansionSvc?.getRowExpandedListeners(this)??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned})=>{pinned&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc((()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)})),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((gui=>{this.addRowDraggerToRow(gui)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRowIndexChanged()))},cellChanged:event=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellChanged(event)))}})}onRowNodeDataChanged(event){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.refreshCell({suppressFlash:!event.update,newData:!event.update}))),this.allRowGuis.forEach((gui=>{this.setRowCompRowId(gui.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(gui.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const highlighted=this.rowNode.highlighted;this.allRowGuis.forEach((gui=>{const aboveOn="Above"===highlighted,belowOn="Below"===highlighted;gui.rowComp.addOrRemoveCssClass("ag-row-highlight-above",aboveOn),gui.rowComp.addOrRemoveCssClass("ag-row-highlight-below",belowOn)}))}postProcessRowDragging(){const dragging=this.rowNode.dragging;this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-dragging",dragging)))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(keyboardEvent){const groupInfo=this.findFullWidthInfoForEvent(keyboardEvent);if(!groupInfo)return;const{rowGui,column}=groupInfo;if(!(rowGui.element===keyboardEvent.target))return;const node=this.rowNode,{focusSvc,navigation}=this.beans,lastFocusedCell=focusSvc.getFocusedCell(),cellPosition={rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:lastFocusedCell?.column??column};navigation?.navigateToNextCell(keyboardEvent,keyboardEvent.key,cellPosition,!0),keyboardEvent.preventDefault()}onTabKeyDown(keyboardEvent){if(keyboardEvent.defaultPrevented||_isStopPropagationForAgGrid(keyboardEvent))return;const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target))),currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.element:null,isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target,activeEl=_getActiveDomElement(this.beans);let isDetailGridCellFocused=!1;currentFullWidthContainer&&activeEl&&(isDetailGridCellFocused=currentFullWidthContainer.contains(activeEl)&&activeEl.classList.contains("ag-cell"));let nextEl=null;isFullWidthContainerFocused||isDetailGridCellFocused||(nextEl=_findNextFocusableElement(this.beans,currentFullWidthContainer,!1,keyboardEvent.shiftKey)),(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl)&&this.beans.navigation?.onTabKeyDown(this,keyboardEvent)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const displayedEl=this.allRowGuis.find((el=>_isVisible(el.element)))?.element;return displayedEl?displayedEl.getBoundingClientRect().top:0}onSuppressCellFocusChanged(suppressCellFocus){const tabIndex=this.isFullWidth()&&suppressCellFocus?void 0:-1;this.allRowGuis.forEach((gui=>{_addOrRemoveAttribute(gui.element,"tabindex",tabIndex)}))}onFullWidthRowFocused(event){const node=this.rowNode,isFocused=!!event&&(this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned),element=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;element&&(element.classList.toggle("ag-full-width-focus",isFocused),isFocused&&event?.forceBrowserFocus&&element.focus({preventScroll:!0}))}recreateCell(cellCtrl){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,cellCtrl),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,cellCtrl),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,cellCtrl),cellCtrl.destroy(),this.updateColumnLists()}removeCellCtrl(prev,cellCtrlToRemove){const res={list:[],map:{}};return prev.list.forEach((cellCtrl=>{cellCtrl!==cellCtrlToRemove&&(res.list.push(cellCtrl),res.map[cellCtrl.column.getInstanceId()]=cellCtrl)})),res}onMouseEvent(eventName,mouseEvent){switch(eventName){case"dblclick":this.onRowDblClick(mouseEvent);break;case"click":this.onRowClick(mouseEvent);break;case"touchstart":case"mousedown":this.onRowMouseDown(mouseEvent)}}createRowEvent(type,domEvent){const{rowNode}=this;return _addGridCommonParams(this.gos,{type,node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,event:domEvent})}createRowEventWithSource(type,domEvent){const event=this.createRowEvent(type,domEvent);return event.source=this,event}onRowDblClick(mouseEvent){_isStopPropagationForAgGrid(mouseEvent)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",mouseEvent))}findFullWidthInfoForEvent(event){if(!event)return;const rowGui=this.findFullWidthRowGui(event.target),column=this.getColumnForFullWidth(rowGui);return rowGui&&column?{rowGui,column}:void 0}findFullWidthRowGui(target){return this.allRowGuis.find((c=>c.element.contains(target)))}getColumnForFullWidth(fullWidthRowGui){const{visibleCols}=this.beans;switch(fullWidthRowGui?.containerType){case"center":return visibleCols.centerCols[0];case"left":return visibleCols.leftCols[0];case"right":return visibleCols.rightCols[0];default:return visibleCols.allCols[0]}}onRowMouseDown(mouseEvent){if(this.lastMouseDownOnDragger=_isElementChildOfClass(mouseEvent.target,"ag-row-drag",3),!this.isFullWidth())return;const node=this.rowNode,{rangeSvc,focusSvc}=this.beans;rangeSvc?.removeAllCellRanges();const groupInfo=this.findFullWidthInfoForEvent(mouseEvent);if(!groupInfo)return;const{rowGui,column}=groupInfo,element=rowGui.element,target=mouseEvent.target;let forceBrowserFocus=mouseEvent.defaultPrevented||_isBrowserSafari();element&&element.contains(target)&&_isFocusableFormField(target)&&(forceBrowserFocus=!1),focusSvc.setFocusedCell({rowIndex:node.rowIndex,column,rowPinned:node.rowPinned,forceBrowserFocus})}onRowClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent)||this.lastMouseDownOnDragger)return;const{eventSvc,selectionSvc}=this.beans;eventSvc.dispatchEvent(this.createRowEventWithSource("rowClicked",mouseEvent)),selectionSvc?.handleSelectionEvent(mouseEvent,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(eDetailGui){"FullWidthDetail"===this.rowType&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,eDetailGui)}createFullWidthCompDetails(eRow,pinned){const{gos,rowNode}=this,params=_addGridCommonParams(gos,{fullWidth:!0,data:rowNode.data,node:rowNode,value:rowNode.key,valueFormatted:rowNode.key,eGridCell:eRow,eParentOfValue:eRow,pinned,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange),setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(value,shouldDisplayTooltip)}}),compFactory=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return function _getFullWidthDetailCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthDetail,"agDetailCellRenderer",params,!0)}(compFactory,params);case"FullWidthGroup":return function _getFullWidthGroupCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthGroup,"agGroupRowRenderer",params,!0)}(compFactory,params);case"FullWidthLoading":return function _getFullWidthLoadingCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthLoading,"agLoadingCellRenderer",params,!0)}(compFactory,params);default:return function _getFullWidthCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidth,void 0,params,!0)}(compFactory,params)}}refreshRowTooltip(value,shouldDisplayTooltip){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.refreshRowTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip))}addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value="",suppressVisibilityChange){const{rowDragSvc,context}=this.beans;if(!rowDragSvc||!this.isFullWidth())return;const rowDragComp=rowDragSvc.createRowDragComp((()=>value),this.rowNode,void 0,rowDraggerElement,dragStartPixels,suppressVisibilityChange);this.createBean(rowDragComp,context),this.addDestroyFunc((()=>{this.destroyBean(rowDragComp,context)}))}onUiLevelChanged(){const newLevel=calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){const classToAdd="ag-row-level-"+newLevel,classToRemove="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass(classToAdd,!0),gui.rowComp.addOrRemoveCssClass(classToRemove,!1)}))}this.rowLevel=newLevel}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const newFirst=this.isFirstRowOnPage(),newLast=this.isLastRowOnPage();this.firstRowOnPage!==newFirst&&(this.firstRowOnPage=newFirst,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-first",newFirst)))),this.lastRowOnPage!==newLast&&(this.lastRowOnPage=newLast,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-last",newLast))))}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const cssClasses=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(cssClasses,this.rowNode),cssClasses.length&&cssClasses.forEach((classStr=>{this.allRowGuis.forEach((c=>c.rowComp.addOrRemoveCssClass(classStr,!0)))}))}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!0)))}),(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!1)))}))}setStylesFromGridOptions(updateStyles,gui){updateStyles&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(gui,(gui2=>gui2.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(rowContainerType){return"left"===rowContainerType||"right"===rowContainerType?rowContainerType:null}getInitialRowClasses(rowContainerType){const pinned=this.getPinnedForContainer(rowContainerType),fullWidthRow=this.isFullWidth(),{rowNode,beans}=this,classes=[];classes.push("ag-row"),classes.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[rowContainerType]&&classes.push("ag-opacity-zero"),classes.push(rowNode.rowIndex%2==0?"ag-row-even":"ag-row-odd"),rowNode.isRowPinned()&&classes.push("ag-row-pinned"),rowNode.isSelected()&&classes.push("ag-row-selected"),rowNode.footer&&classes.push("ag-row-footer"),classes.push("ag-row-level-"+this.rowLevel),rowNode.stub&&classes.push("ag-row-loading"),fullWidthRow&&classes.push("ag-full-width-row"),beans.expansionSvc?.addExpandedCss(classes,rowNode),rowNode.dragging&&classes.push("ag-row-dragging");const{rowStyleSvc}=beans;return rowStyleSvc&&(rowStyleSvc.processClassesFromGridOptions(classes,rowNode),rowStyleSvc.preProcessRowClassRules(classes,rowNode)),classes.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&classes.push("ag-row-first"),this.isLastRowOnPage()&&classes.push("ag-row-last"),fullWidthRow&&("left"===pinned&&classes.push("ag-cell-last-left-pinned"),"right"===pinned&&classes.push("ag-cell-first-right-pinned")),classes}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(gui){this.beans.selectionSvc?.onRowCtrlSelected(this,(gui2=>{gui2!==this.centerGui&&gui2!==this.fullWidthGui||this.announceDescription()}),gui)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(eGui){if(!this.active)return;const{element,compBean}=eGui,{rowNode,beans,gos}=this;compBean.addManagedListeners(element,{mouseenter:()=>rowNode.dispatchRowEvent("mouseEnter"),mouseleave:()=>rowNode.dispatchRowEvent("mouseLeave")}),compBean.addManagedListeners(rowNode,{mouseEnter:()=>{beans.dragSvc?.dragging||gos.get("suppressRowHoverHighlight")||(element.classList.add("ag-row-hover"),rowNode.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(element)}})}resetHoveredStatus(el){const elements=el?[el]:this.allRowGuis.map((gui=>gui.element));for(const element of elements)element.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(rowTop){const range=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),minPixel=this.applyPaginationOffset(range.top,!0)-100,maxPixel=this.applyPaginationOffset(range.bottom,!0)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel)}forEachGui(gui,callback){gui?callback(gui):this.allRowGuis.forEach(callback)}onRowHeightChanged(gui){if(null==this.rowNode.rowHeight)return;const rowHeight=this.rowNode.rowHeight,defaultRowHeight=this.beans.environment.getDefaultRowHeight(),heightFromFunc=_isGetRowHeightFunction(this.gos)?_getRowHeightForNode(this.beans,this.rowNode).height:void 0,lineHeight=heightFromFunc?Math.min(defaultRowHeight,heightFromFunc)-2+"px":void 0;this.forEachGui(gui,(gui2=>{gui2.element.style.height=`${rowHeight}px`,lineHeight&&gui2.element.style.setProperty("--ag-line-height",lineHeight)}))}destroyFirstPass(suppressAnimation=!1){this.active=!1;const{rowNode}=this;if(!suppressAnimation&&_isAnimateRows(this.gos)&&!rowNode.sticky){if(null!=rowNode.rowTop){const rowTop=this.roundRowTopToBounds(rowNode.rowTop);this.setRowTop(rowTop)}else this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}rowNode.setHovered(!1);const event=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(event),this.beans.eventSvc.dispatchEvent(event),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.beans.editSvc?.stopRowEditing(this);const destroyCellCtrls=ctrls=>(ctrls.list.forEach((c=>c.destroy())),{list:[],map:{}});this.centerCellCtrls=destroyCellCtrls(this.centerCellCtrls),this.leftCellCtrls=destroyCellCtrls(this.leftCellCtrls),this.rightCellCtrls=destroyCellCtrls(this.rightCellCtrls)}setFocusedClasses(gui){this.forEachGui(gui,(gui2=>{gui2.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),gui2.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const{focusSvc,editSvc}=this.beans,rowFocused=focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);rowFocused!==this.rowFocused&&(this.rowFocused=rowFocused,this.setFocusedClasses()),!rowFocused&&this.editing&&editSvc?.stopRowEditing(this,!1)}onPaginationChanged(){const currentPage=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==currentPage&&(this.paginationPage=currentPage,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(topPx,reverse=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return topPx;return topPx+this.beans.pageBounds.getPixelOffset()*(reverse?1:-1)}setRowTop(pixels){if(!this.printLayout&&_exists(pixels)){const afterPaginationPixels=this.applyPaginationOffset(pixels),topPx=`${this.rowNode.isRowPinned()||this.rowNode.sticky?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels)}px`;this.setRowTopStyle(topPx)}}getInitialRowTop(rowContainerType){return this.suppressRowTransform?this.getInitialRowTopShared(rowContainerType):void 0}getInitialTransform(rowContainerType){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(rowContainerType)})`}getInitialRowTopShared(rowContainerType){if(this.printLayout)return"";const rowNode=this.rowNode;let rowTop;if(rowNode.sticky)rowTop=rowNode.stickyRowTop;else{const pixels=this.slideInAnimation[rowContainerType]?this.roundRowTopToBounds(rowNode.oldRowTop):rowNode.rowTop,afterPaginationPixels=this.applyPaginationOffset(pixels);rowTop=rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels)}return rowTop+"px"}setRowTopStyle(topPx){this.allRowGuis.forEach((gui=>this.suppressRowTransform?gui.rowComp.setTop(topPx):gui.rowComp.setTransform(`translateY(${topPx})`)))}getCellCtrl(column,skipColSpanSearch=!1){let res=null;return this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.column==column&&(res=cellCtrl)})),null!=res||skipColSpanSearch||this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColSpanningList().indexOf(column)>=0&&(res=cellCtrl)})),res}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(gui){const rowIndexStr=this.rowNode.getRowIndexString();if(null===rowIndexStr)return;const headerRowCount=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),rowIsEven=this.rowNode.rowIndex%2==0,ariaRowIndex=headerRowCount+this.rowNode.rowIndex+1;this.forEachGui(gui,(c=>{c.rowComp.setRowIndex(rowIndexStr),c.rowComp.addOrRemoveCssClass("ag-row-even",rowIsEven),c.rowComp.addOrRemoveCssClass("ag-row-odd",!rowIsEven),_setAriaRowIndex(c.element,ariaRowIndex)}))}};function _isEventFromPrintableCharacter(event){if(event.altKey||event.ctrlKey||event.metaKey)return!1;return 1===event.key?.length}function _isUserSuppressingKeyboardEvent(gos,keyboardEvent,rowNode,column,editing){const colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!colDefFunc)return!1;const params=_addGridCommonParams(gos,{event:keyboardEvent,editing,column,node:rowNode,data:rowNode.data,colDef:column.getColDef()});if(colDefFunc){if(colDefFunc(params))return!0}return!1}var RowContainerEventsFeature=class extends BeanStub{constructor(element){super(),this.element=element}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this)}addKeyboardListeners(){const eventName="keydown",listener=this.processKeyboardEvent.bind(this,"keydown");this.addManagedElementListeners(this.element,{[eventName]:listener})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_isEventSupported("touchstart")?"touchstart":"mousedown"].forEach((eventName=>{const listener=this.processMouseEvent.bind(this,eventName);this.addManagedElementListeners(this.element,{[eventName]:listener})}))}processMouseEvent(eventName,mouseEvent){if(!_isEventFromThisGrid(this.gos,mouseEvent)||_isStopPropagationForAgGrid(mouseEvent))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(mouseEvent.target);"contextmenu"===eventName?(cellCtrl?.column&&cellCtrl.dispatchCellContextMenuEvent(mouseEvent),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(mouseEvent,void 0,rowCtrl,cellCtrl)):(cellCtrl&&cellCtrl.onMouseEvent(eventName,mouseEvent),rowCtrl&&rowCtrl.onMouseEvent(eventName,mouseEvent))}getControlsForEventTarget(target){const{gos}=this;return{cellCtrl:_getCellCtrlForEventTarget(gos,target),rowCtrl:_getCtrlForEventTarget(gos,target,"renderedRow")}}processKeyboardEvent(eventName,keyboardEvent){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(keyboardEvent.target);keyboardEvent.defaultPrevented||(cellCtrl?this.processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent):rowCtrl&&rowCtrl.isFullWidth()&&this.processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent))}processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent){const{rowNode,column,editing}=cellCtrl;if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,editing)&&"keydown"===eventName){!editing&&this.beans.navigation?.handlePageScrollingKey(keyboardEvent)||cellCtrl.onKeyDown(keyboardEvent),this.doGridOperations(keyboardEvent,cellCtrl.editing),_isEventFromPrintableCharacter(keyboardEvent)&&cellCtrl.processCharacter(keyboardEvent)}"keydown"===eventName&&this.eventSvc.dispatchEvent(cellCtrl.createEvent(keyboardEvent,"cellKeyDown"))}processFullWidthRowKeyboardEvent(rowComp,eventName,keyboardEvent){const{rowNode}=rowComp,{focusSvc,navigation}=this.beans,focusedCell=focusSvc.getFocusedCell(),column=focusedCell&&focusedCell.column;if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,!1)){const key=keyboardEvent.key;if("keydown"===eventName)switch(key){case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:case KeyCode_PAGE_UP:case KeyCode_PAGE_DOWN:navigation?.handlePageScrollingKey(keyboardEvent,!0);break;case KeyCode_UP:case KeyCode_DOWN:rowComp.onKeyboardNavigate(keyboardEvent);break;case KeyCode_TAB:rowComp.onTabKeyDown(keyboardEvent)}}"keydown"===eventName&&this.eventSvc.dispatchEvent(rowComp.createRowEvent("cellKeyDown",keyboardEvent))}doGridOperations(keyboardEvent,editing){if(!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey)return;if(editing)return;if(!_isEventFromThisGrid(this.gos,keyboardEvent))return;const keyCode=function _normaliseQwertyAzerty(keyboardEvent){const{keyCode}=keyboardEvent;let code;switch(keyCode){case 65:code=KeyCode_A;break;case 67:code=KeyCode_C;break;case 86:code=KeyCode_V;break;case 68:code=KeyCode_D;break;case 90:code=KeyCode_Z;break;case 89:code=KeyCode_Y;break;default:code=keyboardEvent.code}return code}(keyboardEvent),{clipboardSvc,undoRedo}=this.beans;return keyCode===KeyCode_A?this.onCtrlAndA(keyboardEvent):keyCode===KeyCode_C?this.onCtrlAndC(clipboardSvc,keyboardEvent):keyCode===KeyCode_D?this.onCtrlAndD(clipboardSvc,keyboardEvent):keyCode===KeyCode_V?this.onCtrlAndV(clipboardSvc,keyboardEvent):keyCode===KeyCode_X?this.onCtrlAndX(clipboardSvc,keyboardEvent):keyCode===KeyCode_Y?this.onCtrlAndY(undoRedo):keyCode===KeyCode_Z?this.onCtrlAndZ(undoRedo,keyboardEvent):void 0}onCtrlAndA(event){const{beans:{rowModel,rangeSvc,selectionSvc},gos}=this;rangeSvc&&_isCellSelectionEnabled(gos)&&rowModel.isRowsToRender()?function _selectAllCells(beans){const{pinnedRowModel,rowModel}=beans,[isEmptyPinnedTop,isEmptyPinnedBottom]=[pinnedRowModel?.isEmpty("top")??!0,pinnedRowModel?.isEmpty("bottom")??!0],floatingStart=isEmptyPinnedTop?null:"top";let floatingEnd,rowEnd;isEmptyPinnedBottom?(floatingEnd=null,rowEnd=rowModel.getRowCount()-1):(floatingEnd="bottom",rowEnd=pinnedRowModel?.getPinnedBottomRowCount()??-1);const{visibleCols,rangeSvc}=beans,allDisplayedColumns=visibleCols.allCols;rangeSvc&&allDisplayedColumns?.length&&rangeSvc.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd})}(this.beans):selectionSvc&&selectionSvc?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:_getSelectAll(gos)}),event.preventDefault()}onCtrlAndC(clipboardSvc,event){if(!clipboardSvc||this.gos.get("enableCellTextSelection"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.editing||rowCtrl?.editing||(event.preventDefault(),clipboardSvc.copyToClipboard())}onCtrlAndX(clipboardSvc,event){if(!clipboardSvc||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.editing||rowCtrl?.editing||(event.preventDefault(),clipboardSvc.cutToClipboard(void 0,"ui"))}onCtrlAndV(clipboardSvc,event){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.editing||rowCtrl?.editing||clipboardSvc&&!this.gos.get("suppressClipboardPaste")&&clipboardSvc.pasteFromClipboard()}onCtrlAndD(clipboardSvc,event){clipboardSvc&&!this.gos.get("suppressClipboardPaste")&&clipboardSvc.copyRangeDown(),event.preventDefault()}onCtrlAndZ(undoRedo,event){this.gos.get("undoRedoCellEditing")&&undoRedo&&(event.preventDefault(),event.shiftKey?undoRedo.redo("ui"):undoRedo.undo("ui"))}onCtrlAndY(undoRedo){undoRedo?.redo("ui")}},SetHeightFeature=class extends BeanStub{constructor(eContainer,eViewport){super(),this.eContainer=eContainer,this.eViewport=eViewport}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(maxDivHeightScaler){const height=maxDivHeightScaler.uiContainerHeight,heightString=null!=height?`${height}px`:"";this.eContainer.style.height=heightString,this.eViewport&&(this.eViewport.style.height=heightString)}},getTopRowCtrls=r=>r.topRowCtrls,getStickyTopRowCtrls=r=>r.getStickyTopRowCtrls(),getStickyBottomRowCtrls=r=>r.getStickyBottomRowCtrls(),getBottomRowCtrls=r=>r.bottomRowCtrls,getCentreRowCtrls=r=>r.allRowCtrls,getSpannedTopRowCtrls=r=>r.getCtrls("top"),getSpannedCenterRowCtrls=r=>r.getCtrls("center"),getSpannedBottomRowCtrls=r=>r.getCtrls("bottom"),ContainerCssClasses={center:{type:"center",name:"center-cols",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:getCentreRowCtrls},topCenter:{type:"center",name:"floating-top",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:getBottomRowCtrls}};function _getRowViewportClass(name){return`ag-${_getRowContainerOptions(name).name}-viewport`}function _getRowContainerClass(name){const options=_getRowContainerOptions(name);return options.container??`ag-${options.name}-container`}function _getRowContainerOptions(name){return ContainerCssClasses[name]}var allMiddle=["center","left","right","fullWidth"],allCenter=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],allLeft=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],allRight=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],allStickyTopNoFW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],allStickyBottomNoFW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],allStickyContainers=[...allStickyTopNoFW,"stickyTopFullWidth",...allStickyBottomNoFW,"stickyBottomFullWidth"],allNoFW=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...allStickyTopNoFW,...allStickyBottomNoFW],RowContainerCtrl=class extends BeanStub{constructor(name){super(),this.name=name,this.visible=!0,this.EMPTY_CTRLS=[],this.options=_getRowContainerOptions(name)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(event){this.comp.setOffsetTop(`${event.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(names,callback){names.indexOf(this.name)>=0&&callback()}setComp(view,eContainer,eSpannedContainer,eViewport){this.comp=view,this.eContainer=eContainer,this.eSpannedContainer=eSpannedContainer,this.eViewport=eViewport,this.createManagedBean(new RowContainerEventsFeature(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols,rangeSvc}=this.beans,pinnedWidthChanged=()=>this.onPinnedWidthChanged();this.forContainers(allLeft,(()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:pinnedWidthChanged})})),this.forContainers(allRight,(()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:pinnedWidthChanged})})),this.forContainers(allMiddle,(()=>this.createManagedBean(new SetHeightFeature(this.eContainer,"center"===this.name?eViewport:void 0)))),rangeSvc&&this.forContainers(allNoFW,(()=>this.createManagedBean(rangeSvc.createDragListenerFeature(this.eContainer)))),this.forContainers(allCenter,(()=>this.createManagedBean(new CenterWidthFeature((width=>this.comp.setContainerWidth(`${width}px`)))))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}addListeners(){const{spannedRowRenderer,gos}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:params=>this.onDisplayedRowsChanged(params.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),spannedRowRenderer&&this.options.getSpannedRowCtrls&&gos.get("enableCellSpan")&&this.addManagedListeners(spannedRowRenderer,{spannedRowsUpdated:()=>{const spannedCtrls=this.options.getSpannedRowCtrls(spannedRowRenderer);spannedCtrls&&this.comp.setSpannedRowCtrls(spannedCtrls,!1)}})}listenOnDomOrder(){if(allStickyContainers.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const listener=()=>{const isEnsureDomOrder=this.gos.get("ensureDomOrder"),isPrintLayout=_isDomLayout(this.gos,"print");this.comp.setDomOrder(isEnsureDomOrder||isPrintLayout)};this.addManagedPropertyListener("domLayout",listener),listener()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const{dragSvc}=this.beans;if(!dragSvc)return;const preventScroll=e=>{dragSvc.dragging&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",preventScroll,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",preventScroll)))}onHorizontalViewportChanged(afterScroll=!1){const scrollWidth=this.getCenterWidth(),scrollPosition=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition,afterScroll)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(listener){const unsubscribeFromResize=_observeResize(this.beans,this.eViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))}isViewportInTheDOMTree(){return _isInDOM(this.eViewport)}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||function _isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth}(this.eViewport)}setHorizontalScroll(offset){this.comp.setHorizontalScroll(offset)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(value){_setScrollLeft(this.eViewport,value,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const visible=this.isContainerVisible();this.visible!=visible&&(this.visible=visible,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(afterScroll=!1){const rows=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||0===rows.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const printLayout=_isDomLayout(this.gos,"print"),embedFW=this.gos.get("embedFullWidthRows")||printLayout,rowsThisContainer=rows.filter((rowCtrl=>{const fullWidthRow=rowCtrl.isFullWidth();return this.options.fullWidth?!embedFW&&fullWidthRow:embedFW||!fullWidthRow}));this.comp.setRowCtrls({rowCtrls:rowsThisContainer,useFlushSync:afterScroll})}},GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.colModel=beans.colModel,this.scrollVisibleSvc=beans.scrollVisibleSvc,this.pinnedRowModel=beans.pinnedRowModel,this.filterManager=beans.filterManager,this.rowGroupColsSvc=beans.rowGroupColsSvc}setComp(comp,eGridBody,eBodyViewport,eTop,eBottom,eStickyTop,eStickyBottom){this.comp=comp,this.eGridBody=eGridBody,this.eBodyViewport=eBodyViewport,this.eTop=eTop,this.eBottom=eBottom,this.eStickyTop=eStickyTop,this.eStickyBottom=eStickyBottom,this.eCenterColsViewport=eBodyViewport.querySelector(`.${_getRowViewportClass("center")}`),this.eFullWidthContainer=eBodyViewport.querySelector(`.${_getRowContainerClass("fullWidth")}`),this.eStickyTopFullWidthContainer=eStickyTop.querySelector(`.${_getRowContainerClass("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=eStickyBottom.querySelector(`.${_getRowContainerClass("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(props=>this.setCellTextSelection(props.currentValue))),this.createManagedBean(new LayoutFeature(this.comp)),this.scrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([eTop,eBodyViewport,eBottom,eStickyTop,eStickyBottom]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(eTop),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const setFloatingHeights=this.setFloatingHeights.bind(this),setGridRootRole=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:setFloatingHeights,pinnedHeightChanged:setFloatingHeights,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:setGridRootRole,columnPivotChanged:setGridRootRole}),this.addManagedPropertyListener("treeData",setGridRootRole)}onGridColumnsChanged(){const columns=this.beans.colModel.getCols();this.comp.setColumnCount(columns.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc}=this,visible=scrollVisibleSvc.verticalScrollShowing;this.setVerticalScrollPaddingVisible(visible),this.setStickyWidth(visible),this.setStickyBottomOffsetBottom();const width=`calc(100% + ${(visible&&scrollVisibleSvc.getScrollbarWidth()||0)+(_isInvisibleScrollbar()?16:0)}px)`;_requestAnimationFrame(this.beans,(()=>this.comp.setBodyViewportWidth(width))),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc,colModel}=this;let isTreeGrid=this.gos.get("treeData");if(!isTreeGrid){const isPivotActive=colModel.isPivotMode();isTreeGrid=(rowGroupColsSvc?rowGroupColsSvc.columns.length:0)>=(isPivotActive?2:1)}this.comp.setGridRootRole(isTreeGrid?"treegrid":"grid")}addFocusListeners(elements){elements.forEach((element=>{this.addManagedElementListeners(element,{focusin:e=>{const{target}=e,isFocusedElementNested=_isElementChildOfClass(target,"ag-root",element);element.classList.toggle("ag-has-focus",!isFocusedElementNested)},focusout:e=>{const{target,relatedTarget}=e,gridContainRelatedTarget=element.contains(relatedTarget),isNestedRelatedTarget=_isElementChildOfClass(relatedTarget,"ag-root",element);_isElementChildOfClass(target,"ag-root",element)||gridContainRelatedTarget&&!isNestedRelatedTarget||element.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(moving){this.comp.setColumnMovingCss("ag-column-moving",moving)}setCellTextSelection(selectable=!1){this.comp.setCellSelectableCss("ag-selectable",selectable)}updateScrollingClasses(){const{eGridBody:{classList},scrollVisibleSvc}=this;classList.toggle("ag-body-vertical-content-no-gap",!scrollVisibleSvc.verticalScrollGap),classList.toggle("ag-body-horizontal-content-no-gap",!scrollVisibleSvc.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:event=>{if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const headerCount=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel}=this.beans,rowCount=rowModel.isLastRowIndexKnown()?rowModel.getRowCount():-1,total=-1===rowCount?-1:headerCount+rowCount;this.comp.setRowCount(total)}registerBodyViewportResizeListener(listener){this.comp.registerBodyViewportResizeListener(listener)}setVerticalScrollPaddingVisible(visible){const overflowY=visible?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(overflowY)}isVerticalScrollShowing(){const show=this.gos.get("alwaysShowVerticalScroll"),cssClass=show?"ag-force-vertical-scroll":null,allowVerticalScroll=_isDomLayout(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(cssClass,show),show||allowVerticalScroll&&function _isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight}(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight,environment}=this.beans;let initialSizeMeasurementComplete=environment.sizesMeasured;const updateAnimationClass=()=>{const animateRows=initialSizeMeasurementComplete&&_isAnimateRows(this.gos)&&!rowContainerHeight.stretching,animateRowsCssClass=animateRows?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass,animateRows)};updateAnimationClass(),this.addManagedEventListeners({heightScaleChanged:updateAnimationClass}),this.addManagedPropertyListener("animateRows",updateAnimationClass),this.addManagedEventListeners({gridStylesChanged:()=>{!initialSizeMeasurementComplete&&environment.sizesMeasured&&(initialSizeMeasurementComplete=!0,updateAnimationClass())}})}addBodyViewportListener(){const{popupSvc,touchSvc}=this.beans,listener=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:listener}),touchSvc?.mockBodyContextMenu(this,listener),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,popupSvc)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX,deltaY,shiftKey}=e;(shiftKey||Math.abs(deltaX)>Math.abs(deltaY))&&_isEventFromThisGrid(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX,deltaY,shiftKey}=e,isHorizontalScroll=shiftKey||Math.abs(deltaX)>Math.abs(deltaY),target=e.target;isHorizontalScroll?(this.eStickyTopFullWidthContainer.contains(target)||this.eStickyBottomFullWidthContainer.contains(target))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(deltaY))}scrollGridBodyToMatchEvent(e){const{deltaX,deltaY}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:deltaX||deltaY})}onBodyViewportContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent)return;if(this.gos.get("preventDefaultOnContextMenu")){(mouseEvent||touchEvent).preventDefault()}const{target}=mouseEvent||touch;target!==this.eBodyViewport&&target!==this.ctrlsSvc.get("center").eViewport||this.beans.contextMenuSvc?.showContextMenu({mouseEvent,touchEvent,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(popupSvc,e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&popupSvc?.hasAnchoredPopup()&&e.preventDefault()}scrollVertically(pixels){const oldScrollPosition=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels),this.eBodyViewport.scrollTop-oldScrollPosition}setFloatingHeights(){const{pinnedRowModel}=this,floatingTopHeight=pinnedRowModel?.getPinnedTopTotalHeight()??0,floatingBottomHeight=pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.comp.setTopHeight(floatingTopHeight),this.comp.setBottomHeight(floatingBottomHeight),this.comp.setTopDisplay(floatingTopHeight?"inherit":"none"),this.comp.setBottomDisplay(floatingBottomHeight?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(height=0){this.comp.setStickyTopHeight(`${height}px`),this.stickyTopHeight=height}setStickyBottomHeight(height=0){this.comp.setStickyBottomHeight(`${height}px`),this.stickyBottomHeight=height}setStickyWidth(vScrollVisible){if(vScrollVisible){const scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${scrollbarWidth}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${scrollbarWidth}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}setStickyTopOffsetTop(){const headerHeight=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),pinnedTopHeight=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let height=0;headerHeight>0&&(height+=headerHeight),pinnedTopHeight>0&&(height+=pinnedTopHeight),height>0&&(height+=1),this.comp.setStickyTopTop(`${height}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel,scrollVisibleSvc,comp}=this,height=(pinnedRowModel?.getPinnedBottomTotalHeight()??0)+(scrollVisibleSvc.horizontalScrollShowing&&scrollVisibleSvc.getScrollbarWidth()||0);comp.setStickyBottomBottom(`${height}px`)}},AbstractFakeScrollComp=class extends Component{constructor(template,direction){super(),this.direction=direction,this.eViewport=null,this.eContainer=null,this.hideTimeout=0,this.setTemplate(template)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",_isMacOsUserAgent()||_isIOSUserAgent())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=_isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const eGui=this.getGui(),onActivate=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),onDeactivate=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(eGui,{mouseenter:onActivate,mousedown:onActivate,touchstart:onActivate,mouseleave:onDeactivate,touchend:onDeactivate})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),_requestAnimationFrame(this.beans,(()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:params=>{params.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0}),400)}})}attemptSettingScrollPosition(value){const viewport=this.eViewport;!function _waitUntil(condition,callback,timeout=100,timeoutMessage){const timeStamp=(new Date).getTime();let interval=null,executed=!1;const internalCallback=()=>{const reachedTimeout=(new Date).getTime()-timeStamp>timeout;(condition()||reachedTimeout)&&(callback(),executed=!0,null!=interval&&(window.clearInterval(interval),interval=null),reachedTimeout&&timeoutMessage&&_warnOnce(timeoutMessage))};internalCallback(),executed||(interval=window.setInterval(internalCallback,10))}((()=>_isVisible(viewport)),(()=>this.setScrollPosition(value)),100)}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}},FakeHScrollSelector={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:class extends AbstractFakeScrollComp{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=null,this.eRightSpacer=null,this.setScrollVisibleDebounce=0}wireBeans(beans){this.visibleCols=beans.visibleCols,this.scrollVisibleSvc=beans.scrollVisibleSvc}postConstruct(){super.postConstruct();const spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:spacerWidthsListener,displayedColumnsWidthChanged:spacerWidthsListener,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",spacerWidthsListener),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new CenterWidthFeature((width=>this.eContainer.style.width=`${width}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const bottomPinnedHeight=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${bottomPinnedHeight}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const vScrollShowing=this.scrollVisibleSvc.verticalScrollShowing;let rightSpacing=this.visibleCols.getDisplayedColumnsRightWidth();const scrollOnRight=!this.enableRtl&&vScrollShowing,scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();scrollOnRight&&(rightSpacing+=scrollbarWidth),_setFixedWidth(this.eRightSpacer,rightSpacing),this.eRightSpacer.classList.toggle("ag-scroller-corner",rightSpacing<=scrollbarWidth);let leftSpacing=this.visibleCols.getColsLeftWidth();this.enableRtl&&vScrollShowing&&(leftSpacing+=scrollbarWidth),_setFixedWidth(this.eLeftSpacer,leftSpacing),this.eLeftSpacer.classList.toggle("ag-scroller-corner",leftSpacing<=scrollbarWidth)}setScrollVisible(){const hScrollShowing=this.scrollVisibleSvc.horizontalScrollShowing,invisibleScrollbar2=this.invisibleScrollbar,isSuppressHorizontalScroll=this.gos.get("suppressHorizontalScroll"),scrollbarWidth=hScrollShowing&&this.scrollVisibleSvc.getScrollbarWidth()||0,scrollContainerSize=isSuppressHorizontalScroll?0:0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth,apply=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedHeight(this.getGui(),scrollContainerSize),_setFixedHeight(this.eViewport,scrollContainerSize),_setFixedHeight(this.eContainer,scrollContainerSize),this.setDisplayed(hScrollShowing,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),hScrollShowing?this.setScrollVisibleDebounce=window.setTimeout(apply,100):apply()}getScrollPosition(){return _getScrollLeft(this.eViewport,this.enableRtl)}setScrollPosition(value){_isVisible(this.eViewport)||this.attemptSettingScrollPosition(value),_setScrollLeft(this.eViewport,value,this.enableRtl)}}},FakeVScrollSelector={selector:"AG-FAKE-VERTICAL-SCROLL",component:class extends AbstractFakeScrollComp{constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer));const{ctrlsSvc}=this.beans;ctrlsSvc.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,ctrlsSvc)})}setScrollVisible(){const{scrollVisibleSvc}=this.beans,vScrollShowing=scrollVisibleSvc.verticalScrollShowing,invisibleScrollbar2=this.invisibleScrollbar,scrollbarWidth=vScrollShowing&&scrollVisibleSvc.getScrollbarWidth()||0,adjustedScrollbarWidth=0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth;this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedWidth(this.getGui(),adjustedScrollbarWidth),_setFixedWidth(this.eViewport,adjustedScrollbarWidth),_setFixedWidth(this.eContainer,adjustedScrollbarWidth),this.setDisplayed(vScrollShowing,{skipAriaHidden:!0})}onRowContainerHeightChanged(ctrlsSvc){const gridBodyViewportEl=ctrlsSvc.getGridBodyCtrl().eBodyViewport,eViewportScrollTop=this.getScrollPosition(),gridBodyViewportScrollTop=gridBodyViewportEl.scrollTop;eViewportScrollTop!=gridBodyViewportScrollTop&&this.setScrollPosition(gridBodyViewportScrollTop,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(value,force){force||_isVisible(this.eViewport)||this.attemptSettingScrollPosition(value),this.eViewport.scrollTop=value}}};function getFocusHeaderRowCount(beans){return beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function getGroupRowsHeight(beans){const heights=[],headerRowContainerCtrls=beans.ctrlsSvc.getHeaderRowContainerCtrls();for(const headerRowContainerCtrl of headerRowContainerCtrls){if(!headerRowContainerCtrl)continue;const groupRowCount=headerRowContainerCtrl.getGroupRowCount()||0;for(let i=0;i<groupRowCount;i++){const headerRowCtrl=headerRowContainerCtrl.getGroupRowCtrlAtIndex(i),currentHeightAtPos=heights[i];if(headerRowCtrl){const newHeight=getColumnGroupHeaderRowHeight(beans,headerRowCtrl);(null==currentHeightAtPos||newHeight>currentHeightAtPos)&&(heights[i]=newHeight)}}}return heights}function getColumnGroupHeaderRowHeight(beans,headerRowCtrl){const defaultHeight=beans.colModel.isPivotMode()?function getPivotGroupHeaderHeight(beans){return beans.gos.get("pivotGroupHeaderHeight")??getGroupHeaderHeight(beans)}(beans):getGroupHeaderHeight(beans);let displayedHeights=0;const headerRowCellCtrls=headerRowCtrl.getHeaderCtrls();for(const headerCellCtrl of headerRowCellCtrls){const{column}=headerCellCtrl;if(column.isAutoHeaderHeight()){const height=column.getAutoHeaderHeight();null!=height&&height>displayedHeights&&(displayedHeights=height)}}return Math.max(defaultHeight,displayedHeights)}function getColumnHeaderRowHeight(beans){const defaultHeight=beans.colModel.isPivotMode()?function getPivotHeaderHeight(beans){return beans.gos.get("pivotHeaderHeight")??getHeaderHeight(beans)}(beans):getHeaderHeight(beans),displayedHeights=beans.visibleCols.allCols.filter((col=>col.isAutoHeaderHeight())).map((col=>col.getAutoHeaderHeight()||0));return Math.max(defaultHeight,...displayedHeights)}function getHeaderHeight(beans){return beans.gos.get("headerHeight")??beans.environment.getDefaultHeaderHeight()}function getFloatingFiltersHeight(beans){return beans.gos.get("floatingFiltersHeight")??getHeaderHeight(beans)}function getGroupHeaderHeight(beans){return beans.gos.get("groupHeaderHeight")??getHeaderHeight(beans)}var GridHeaderCtrl=class extends BeanStub{setComp(comp,eGui,eFocusableElement){this.comp=comp,this.eGui=eGui;const{beans}=this,{headerNavigation,touchSvc,ctrlsSvc}=beans;headerNavigation&&this.createManagedBean(new ManagedFocusFeature(eFocusableElement,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,beans),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,beans)}),this.onPivotModeChanged(beans),this.setupHeaderHeight();const listener=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:listener}),touchSvc?.mockHeaderContextMenu(this,listener),ctrlsSvc.register("gridHeaderCtrl",this)}setupHeaderHeight(){const listener=this.setHeaderHeight.bind(this);listener(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],listener),this.addManagedEventListeners({displayedColumnsChanged:listener,columnHeaderHeightChanged:listener,columnGroupHeaderHeightChanged:()=>_requestAnimationFrame(this.beans,(()=>listener())),gridStylesChanged:listener,advancedFilterEnabledChanged:listener})}setHeaderHeight(){const{beans}=this;let totalHeaderHeight=0;const groupHeight=getGroupRowsHeight(beans).reduce(((prev,curr)=>prev+curr),0),headerHeight=getColumnHeaderRowHeight(beans);if(beans.filterManager?.hasFloatingFilters()&&(totalHeaderHeight+=getFloatingFiltersHeight(beans)),totalHeaderHeight+=groupHeight,totalHeaderHeight+=headerHeight,this.headerHeight===totalHeaderHeight)return;this.headerHeight=totalHeaderHeight;const px=`${totalHeaderHeight+1}px`;this.comp.setHeightAndMinHeight(px),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(beans){const pivotMode=beans.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",pivotMode),this.comp.addOrRemoveCssClass("ag-pivot-off",!pivotMode)}onDisplayedColumnsChanged(beans){const shouldAllowOverflow=beans.visibleCols.allCols.some((col=>col.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",shouldAllowOverflow)}onTabKeyDown(e){const isRtl=this.gos.get("enableRtl"),backwards=e.shiftKey,direction=backwards!==isRtl?"LEFT":"RIGHT",{beans}=this,{headerNavigation,focusSvc}=beans;(headerNavigation.navigateHorizontally(direction,!0,e)||!backwards&&focusSvc.focusOverlay(!1)||_focusNextGridCoreContainer(beans,backwards,!0))&&e.preventDefault()}handleKeyDown(e){let direction=null;const{headerNavigation}=this.beans;switch(e.key){case KeyCode_LEFT:direction="LEFT";case KeyCode_RIGHT:_exists(direction)||(direction="RIGHT"),headerNavigation.navigateHorizontally(direction,!1,e)&&e.preventDefault();break;case KeyCode_UP:direction="UP";case KeyCode_DOWN:_exists(direction)||(direction="DOWN"),headerNavigation.navigateVertically(direction,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget}=e,{eGui,beans}=this;!relatedTarget&&eGui.contains(_getActiveDomElement(beans))||eGui.contains(relatedTarget)||(beans.focusSvc.focusedHeader=null)}onHeaderContextMenu(mouseEvent,touch,touchEvent){const{menuSvc,ctrlsSvc}=this.beans;if(!mouseEvent&&!touchEvent||!menuSvc?.isHeaderContextMenuEnabled())return;const{target}=mouseEvent??touch;target!==this.eGui&&target!==ctrlsSvc.getHeaderRowContainerCtrl()?.eViewport||menuSvc.showHeaderContextMenu(void 0,mouseEvent,touchEvent)}},AbstractHeaderCellComp=class extends Component{constructor(template,ctrl){super(template),this.ctrl=ctrl}getCtrl(){return this.ctrl}},HeaderCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super('<div class="ag-header-cell" role="columnheader">\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',ctrl),this.eResize=null,this.eHeaderCompWrapper=null,this.headerCompVersion=0}postConstruct(){const eGui=this.getGui();var name,value;name="col-id",null!=(value=this.ctrl.column.getColId())&&""!=value?eGui.setAttribute(name,value):eGui.removeAttribute(name);const compProxy={setWidth:width=>eGui.style.width=width,addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),setAriaSort:sort=>sort?function _setAriaSort(element,sort){_setAriaAttribute(element,"sort",sort)}(eGui,sort):function _removeAriaSort(element){_removeAriaAttribute(element,"sort")}(eGui),setUserCompDetails:compDetails=>this.setUserCompDetails(compDetails),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(compProxy,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const selectAllGui=this.ctrl.getSelectAllGui();selectAllGui&&this.eResize.insertAdjacentElement("afterend",selectAllGui)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(compDetails){this.headerCompVersion++;const versionCopy=this.headerCompVersion;compDetails.newAgStackInstance().then((comp=>this.afterCompCreated(versionCopy,comp)))}afterCompCreated(version,headerComp){version==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=headerComp,this.headerCompGui=headerComp.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(headerComp)}},HeaderGroupCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super('<div class="ag-header-group-cell" role="columnheader">\n            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',ctrl),this.eResize=null,this.eHeaderCompWrapper=null}postConstruct(){const eGui=this.getGui();eGui.setAttribute("col-id",this.ctrl.column.getUniqueId());const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),setHeaderWrapperHidden:hidden=>{hidden?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:value=>{null!=value?this.eHeaderCompWrapper.style.setProperty("max-height",`${value}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=value)},setResizableDisplayed:displayed=>_setDisplayed(this.eResize,displayed),setWidth:width=>eGui.style.width=width,setAriaExpanded:expanded=>{return key="aria-expanded",null!=(value=expanded)?eGui.setAttribute(key,value):eGui.removeAttribute(key);var key,value},setUserCompDetails:details=>this.setUserCompDetails(details),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(compProxy,eGui,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(details){details.newAgStackInstance().then((comp=>this.afterHeaderCompCreated(comp)))}afterHeaderCompCreated(headerGroupComp){const destroyFunc=()=>this.destroyBean(headerGroupComp);if(!this.isAlive())return void destroyFunc();const eGui=this.getGui(),eHeaderGroupGui=headerGroupComp.getGui();this.eHeaderCompWrapper.appendChild(eHeaderGroupGui),this.addDestroyFunc(destroyFunc),this.headerGroupComp=headerGroupComp,this.ctrl.setDragSource(eGui)}addOrRemoveHeaderWrapperStyle(style,value){const{eHeaderCompWrapper}=this;value?eHeaderCompWrapper.style.setProperty(style,value):eHeaderCompWrapper.style.removeProperty(style)}},HeaderFilterCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super('<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div data-ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',ctrl),this.eFloatingFilterBody=null,this.eButtonWrapper=null,this.eButtonShowMainFilter=null}postConstruct(){const eGui=this.getGui(),compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),addOrRemoveBodyCssClass:(cssClassName,on)=>this.eFloatingFilterBody.classList.toggle(cssClassName,on),setButtonWrapperDisplayed:displayed=>_setDisplayed(this.eButtonWrapper,displayed),setCompDetails:compDetails=>this.setCompDetails(compDetails),getFloatingFilterComp:()=>this.compPromise,setWidth:width=>eGui.style.width=width,setMenuIcon:eIcon=>this.eButtonShowMainFilter.appendChild(eIcon)};this.ctrl.setComp(compProxy,eGui,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(compDetails){if(!compDetails)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=compDetails.newAgStackInstance(),this.compPromise.then((comp=>this.afterCompCreated(comp)))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(comp){comp&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=comp,this.eFloatingFilterBody.appendChild(comp.getGui()),comp.afterGuiAttached&&comp.afterGuiAttached()):this.destroyBean(comp))}},HeaderRowComp=class extends Component{constructor(ctrl){super(),this.ctrl=ctrl,this.headerComps={},this.setTemplate(`<div class="${this.ctrl.headerRowClass}" role="row"></div>`)}postConstruct(){_setAriaRowIndex(this.getGui(),this.ctrl.getAriaRowIndex());const compProxy={setHeight:height=>this.getGui().style.height=height,setTop:top=>this.getGui().style.top=top,setHeaderCtrls:(ctrls,forceOrder)=>this.setHeaderCtrls(ctrls,forceOrder),setWidth:width=>this.getGui().style.width=width};this.ctrl.setComp(compProxy,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(ctrls,forceOrder){if(!this.isAlive())return;const oldComps=this.headerComps;if(this.headerComps={},ctrls.forEach((ctrl=>{const id=ctrl.instanceId;let comp=oldComps[id];delete oldComps[id],null==comp&&(comp=this.createHeaderComp(ctrl),this.getGui().appendChild(comp.getGui())),this.headerComps[id]=comp})),Object.values(oldComps).forEach((comp=>{this.getGui().removeChild(comp.getGui()),this.destroyBean(comp)})),forceOrder){const comps=Object.values(this.headerComps);comps.sort(((a,b)=>a.getCtrl().column.getLeft()-b.getCtrl().column.getLeft()));const elementsInOrder=comps.map((c=>c.getGui()));_setDomChildOrder(this.getGui(),elementsInOrder)}}createHeaderComp(headerCtrl){let result;switch(this.ctrl.type){case"group":result=new HeaderGroupCellComp(headerCtrl);break;case"filter":result=new HeaderFilterCellComp(headerCtrl);break;default:result=new HeaderCellComp(headerCtrl)}return this.createBean(result),result.setParentComponent(this),result}},SetLeftFeature=class extends BeanStub{constructor(columnOrGroup,eCell,beans,colsSpanning){super(),this.columnOrGroup=columnOrGroup,this.eCell=eCell,this.colsSpanning=colsSpanning,this.columnOrGroup=columnOrGroup,this.ariaEl=eCell.querySelector("[role=columnheader]")||eCell,this.beans=beans}setColsSpanning(colsSpanning){this.colsSpanning=colsSpanning,this.onLeftChanged()}getColumnOrGroup(){const{beans,colsSpanning}=this;return beans.gos.get("enableRtl")&&colsSpanning?_last(colsSpanning):this.columnOrGroup}postConstruct(){const onLeftChanged=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:onLeftChanged}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:onLeftChanged}),this.addManagedPropertyListener("domLayout",onLeftChanged)}setLeftFirstTime(){const{gos,colAnimation}=this.beans,suppressMoveAnimation=gos.get("suppressColumnMoveAnimation"),oldLeftExists=_exists(this.columnOrGroup.getOldLeft());colAnimation?.isActive()&&oldLeftExists&&!suppressMoveAnimation?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const colOrGroup=this.getColumnOrGroup(),oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getOldLeft()),actualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getLeft());this.setLeft(oldActualLeft),this.actualLeft=actualLeft,this.beans.colAnimation.executeNextVMTurn((()=>{this.actualLeft===actualLeft&&this.setLeft(actualLeft)}))}onLeftChanged(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(colOrGroup,leftPosition){const{gos,visibleCols}=this.beans;if(!_isDomLayout(gos,"print"))return leftPosition;if("left"===colOrGroup.getPinned())return leftPosition;const leftWidth=visibleCols.getColsLeftWidth();if("right"===colOrGroup.getPinned()){return leftWidth+visibleCols.bodyWidth+leftPosition}return leftWidth+leftPosition}setLeft(value){if(_exists(value)&&(this.eCell.style.left=`${value}px`),isColumnGroup2(this.columnOrGroup)){const children=this.columnOrGroup.getLeafColumns();if(!children.length)return;children.length>1&&function _setAriaColSpan(element,colSpan){_setAriaAttribute(element,"colspan",colSpan)}(this.ariaEl,children.length)}}},instanceIdSequence4=0,AbstractHeaderCellCtrl=class extends BeanStub{constructor(column,rowCtrl){super(),this.column=column,this.rowCtrl=rowCtrl,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=column.getUniqueId()+"-"+instanceIdSequence4++}postConstruct(){const refreshTabIndex=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],refreshTabIndex),this.addManagedEventListeners({overlayExclusiveChanged:refreshTabIndex})}shouldStopEventPropagation(event){const{headerRowIndex,column}=this.beans.focusSvc.focusedHeader,colDef=column.getDefinition(),colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;if(!_exists(colDefFunc))return!1;return!!colDefFunc(_addGridCommonParams(this.gos,{colDef,column,headerRowIndex,event}))}getWrapperHasFocus(){return _getActiveDomElement(this.beans)===this.eGui}setGui(eGui,compBean){this.eGui=eGui,this.addDomData(compBean),compBean.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),compBean.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const colDef=this.column.getDefinition();if(!colDef)return;const{headerStyle}=colDef;let styles;if("function"==typeof headerStyle){styles=headerStyle(this.getHeaderClassParams())}else styles=headerStyle;styles&&this.comp.setUserStyles(styles)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(params){const{wrapperElement,checkMeasuringCallback,compBean}=params,{beans}=this,measureHeight=timesCalled=>{if(!this.isAlive()||!compBean.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(this.eGui),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=wrapperElement.offsetHeight+extraHeight;if(timesCalled<5){const doc=_getDocument(beans);if(!doc||!doc.contains(wrapperElement)||0==autoHeight)return void _requestAnimationFrame(beans,(()=>measureHeight(timesCalled+1)))}this.setColHeaderHeight(this.column,autoHeight)};let stopResizeObserver,isMeasuring=!1;const checkMeasuring=()=>{const newValue=this.column.isAutoHeaderHeight();newValue&&!isMeasuring&&startMeasuring(),!newValue&&isMeasuring&&stopMeasuring()},startMeasuring=()=>{isMeasuring=!0,measureHeight(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),stopResizeObserver=_observeResize(this.beans,wrapperElement,(()=>measureHeight(0)))},stopMeasuring=()=>{isMeasuring=!1,stopResizeObserver&&stopResizeObserver(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),stopResizeObserver=void 0};checkMeasuring(),compBean.addDestroyFunc((()=>stopMeasuring())),compBean.addManagedListeners(this.column,{widthChanged:()=>isMeasuring&&measureHeight(0)}),compBean.addManagedEventListeners({sortChanged:()=>{isMeasuring&&window.setTimeout((()=>measureHeight(0)))}}),checkMeasuringCallback&&checkMeasuringCallback(checkMeasuring)}onDisplayedColumnsChanged(){const{comp,column,beans,eGui}=this;comp&&column&&eGui&&(refreshFirstAndLastStyles(comp,column,beans.visibleCols),_setAriaColIndex(eGui,beans.visibleCols.getAriaColIndex(column)))}addResizeAndMoveKeyboardListeners(compBean){compBean.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const suppressHeaderFocus=_isHeaderFocusSuppressed(this.beans);this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",suppressHeaderFocus?null:"-1")}onGuiKeyDown(e){const activeEl=_getActiveDomElement(this.beans),isLeftOrRight=e.key===KeyCode_LEFT||e.key===KeyCode_RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),activeEl!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||isLeftOrRight)&&(e.preventDefault(),e.stopImmediatePropagation()),!isLeftOrRight)return;const direction=e.key===KeyCode_LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const diff=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(diff,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(direction)}moveHeader(hDirection){this.beans.colMoves?.moveHeader(hDirection,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const diff=this.getResizeDiff(e),{pinnedCols}=this.beans;return pinnedCols?pinnedCols.getHeaderResizeDiff(diff,this.column):diff}getResizeDiff(e){const{gos,column}=this;let isLeft=e.key===KeyCode_LEFT!==gos.get("enableRtl");const pinned=column.getPinned(),isRtl=gos.get("enableRtl");return pinned&&isRtl!==("right"===pinned)&&(isLeft=!isLeft),(isLeft?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode_PAGE_DOWN:case KeyCode_PAGE_UP:case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:wrapperHasFocus&&e.preventDefault()}}addDomData(compBean){const key="headerCtrl",{eGui,gos}=this;_setDomData(gos,eGui,key,this),compBean.addDestroyFunc((()=>_setDomData(gos,eGui,key,null)))}focus(event){const{eGui}=this;return!!eGui&&(this.lastFocusEvent=event||null,eGui.focus(),!0)}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(mouseEvent,touchEvent,column){const event=mouseEvent??touchEvent,{menuSvc,gos}=this.beans;gos.get("preventDefaultOnContextMenu")&&event.preventDefault(),menuSvc?.isHeaderContextMenuEnabled(column)&&menuSvc.showHeaderContextMenu(column,mouseEvent,touchEvent),this.dispatchColumnMouseEvent("columnHeaderContextMenu",column)}dispatchColumnMouseEvent(eventType,column){this.eventSvc.dispatchEvent({type:eventType,column})}setColHeaderHeight(col,height){if(!col.setAutoHeaderHeight(height))return;const{eventSvc}=this;col.isColumn?eventSvc.dispatchEvent({type:"columnHeaderHeightChanged",column:col,columns:[col],source:"autosizeColumnHeaderHeight"}):eventSvc.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:col,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(comp,eGui,eResize,eHeaderCompWrapper,compBeanInput){this.comp=comp;const{rowCtrl,column,beans}=this,{colResize,context,colHover,rangeSvc}=beans,compBean=setupCompBean(this,context,compBeanInput);this.setGui(eGui,compBean),this.updateState(),this.setupWidth(compBean),this.setupMovingCss(compBean),this.setupMenuClass(compBean),this.setupSortableClass(compBean),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,checkMeasuringCallback:checkMeasuring=>this.setRefreshFunction("measuring",checkMeasuring),compBean}),this.addColumnHoverListener(compBean),this.setupFilterClass(compBean),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(compBean),this.setupSelectAll(compBean),this.setupUserComp(),this.refreshAria(),colResize?this.resizeFeature=compBean.createManagedBean(colResize.createResizeFeature(rowCtrl.pinned,column,eResize,comp,this)):_setDisplayed(eResize,!1),colHover?.createHoverFeature(compBean,[column],eGui),rangeSvc?.createRangeHighlightFeature(compBean,column,comp),compBean.createManagedBean(new SetLeftFeature(column,eGui,beans)),compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(compBean),compBean.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],(()=>this.refresh())),compBean.addManagedListeners(column,{colDefChanged:()=>this.refresh()}),compBean.addManagedListeners(column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const listener=()=>this.checkDisplayName();compBean.addManagedEventListeners({columnValueChanged:listener,columnRowGroupChanged:listener,columnPivotChanged:listener,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),compBean.addDestroyFunc((()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()}))}resizeHeader(delta,shiftKey){this.beans.colResize?.resizeHeader(this.column,delta,shiftKey)}getHeaderClassParams(){const{column,beans}=this,colDef=column.colDef;return _addGridCommonParams(beans.gos,{colDef,column,floatingFilter:!1})}setupUserComp(){const compDetails=this.lookupUserCompDetails();compDetails&&this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setUserCompDetails(compDetails)}lookupUserCompDetails(){const params=this.createParams(),colDef=this.column.getColDef();return function _getHeaderCompDetails(userCompFactory,colDef,params){return userCompFactory.getCompDetails(colDef,HeaderComponent,"agColumnHeader",params)}(this.beans.userCompFactory,colDef,params)}createParams(){const{menuSvc,sortSvc,colFilter,gos}=this.beans;return _addGridCommonParams(gos,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!menuSvc?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!colFilter&&(!this.openFilterEnabled||_isLegacyMenuEnabled(this.gos)),showColumnMenu:(buttonElement,onClosedCallback)=>{menuSvc?.showColumnMenu({column:this.column,buttonElement,positionBy:"button",onClosedCallback})},showColumnMenuAfterMouseClick:(mouseEvent,onClosedCallback)=>{menuSvc?.showColumnMenu({column:this.column,mouseEvent,positionBy:"mouse",onClosedCallback})},showFilter:buttonElement=>{menuSvc?.showFilterMenu({column:this.column,buttonElement,containerType:"columnFilter",positionBy:"button"})},progressSort:multiSort=>{sortSvc?.progressSort(this.column,!!multiSort,"uiColumnSorted")},setSort:(sort,multiSort)=>{sortSvc?.setSortForColumn(this.column,sort,!!multiSort,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.setupTooltip(value,shouldDisplayTooltip)}})}setupSelectAll(compBean){const{selectionSvc}=this.beans;selectionSvc&&(this.selectAllFeature=compBean.createManagedBean(selectionSvc.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode_SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===KeyCode_ENTER&&this.onEnterKeyDown(e),e.key===KeyCode_DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,isFilterShortcut){const headerComp=this.comp.getUserCompInstance();isHeaderComp(headerComp)&&headerComp.onMenuKeyboardShortcut(isFilterShortcut)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),function _isKeyboardMode(){return keyboardModeActive}()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const refreshHeaderClasses=()=>{const classes=_getHeaderClassesFromColDef(this.column.getColDef(),this.gos,this.column,null),oldClasses=this.userHeaderClasses;this.userHeaderClasses=new Set(classes),classes.forEach((c=>{oldClasses.has(c)?oldClasses.delete(c):this.comp.addOrRemoveCssClass(c,!0)})),oldClasses.forEach((c=>this.comp.addOrRemoveCssClass(c,!1)))};this.setRefreshFunction("headerClasses",refreshHeaderClasses),refreshHeaderClasses()}setDragSource(eSource){this.dragSourceElement=eSource,this.removeDragSource(),eSource&&this.draggable&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(eSource,this.column,this.displayName)??null)}updateState(){const{menuSvc}=this.beans;this.menuEnabled=!!menuSvc?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!menuSvc?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(name,func){this.refreshFunctions[name]=func}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach((f=>f()))}refreshHeaderComp(){const newCompDetails=this.lookupUserCompDetails();if(!newCompDetails)return;!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==newCompDetails.componentClass)&&this.attemptHeaderCompRefresh(newCompDetails.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(newCompDetails)}attemptHeaderCompRefresh(params){const headerComp=this.comp.getUserCompInstance();if(!headerComp)return!1;if(!headerComp.refresh)return!1;return headerComp.refresh(params)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const colDef=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!colDef.suppressMovable&&!colDef.lockPosition)||!!colDef.enableRowGroup||!!colDef.enablePivot}setupWidth(compBean){const listener=()=>{const columnWidth=this.column.getActualWidth();this.comp.setWidth(`${columnWidth}px`)};compBean.addManagedListeners(this.column,{widthChanged:listener}),listener()}setupMovingCss(compBean){const listener=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};compBean.addManagedListeners(this.column,{movingChanged:listener}),listener()}setupMenuClass(compBean){const listener=()=>{this.comp?.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};compBean.addManagedListeners(this.column,{menuVisibleChanged:listener}),listener()}setupSortableClass(compBean){const updateSortableCssClass=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};updateSortableCssClass(),this.setRefreshFunction("updateSortable",updateSortableCssClass),compBean.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(compBean){const listener=()=>{const isFilterActive=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",isFilterActive),this.refreshAria()};compBean.addManagedListeners(this.column,{filterActiveChanged:listener}),listener()}setupWrapTextClass(){const listener=()=>{const wrapText=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",wrapText)};listener(),this.setRefreshFunction("wrapText",listener)}onHeaderHighlightChanged(){const highlighted=this.column.getHighlighted(),beforeOn=0===highlighted,afterOn=1===highlighted;this.comp.addOrRemoveCssClass("ag-header-highlight-before",beforeOn),this.comp.addOrRemoveCssClass("ag-header-highlight-after",afterOn)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui,column,comp,beans}=this,groupHeaderHeight=getGroupRowsHeight(this.beans),isZeroGroupHeight=0===groupHeaderHeight.reduce(((total,next)=>total+next),0);if(comp.addOrRemoveCssClass("ag-header-parent-hidden",isZeroGroupHeight),!column.isSpanHeaderHeight())return eGui.style.removeProperty("top"),eGui.style.removeProperty("height"),comp.addOrRemoveCssClass("ag-header-span-height",!1),void comp.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents,isSpanningTotal}=this.column.getColumnGroupPaddingInfo();comp.addOrRemoveCssClass("ag-header-span-height",numberOfParents>0);const headerHeight=getColumnHeaderRowHeight(beans);if(0===numberOfParents)return comp.addOrRemoveCssClass("ag-header-span-total",!1),eGui.style.setProperty("top","0px"),void eGui.style.setProperty("height",`${headerHeight}px`);comp.addOrRemoveCssClass("ag-header-span-total",isSpanningTotal);let extraHeight=0;for(let i=0;i<numberOfParents;i++)extraHeight+=groupHeaderHeight[groupHeaderHeight.length-1-i];eGui.style.setProperty("top",-extraHeight+"px"),eGui.style.setProperty("height",`${headerHeight+extraHeight}px`)}refreshAriaSort(){if(this.sortable){const translate=this.getLocaleTextFunc(),sort=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function _getAriaSortState(sortDirection){let sort;return sort="asc"===sortDirection?"ascending":"desc"===sortDirection?"descending":"mixed"===sortDirection?"other":"none",sort}(sort)),this.setAriaDescriptionProperty("sort",translate("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",translate("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!_isLegacyMenuEnabled(this.gos)){const translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",translate("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const translate=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",translate("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(property,value){null!=value?this.ariaDescriptionProperties.set(property,value):this.ariaDescriptionProperties.delete(property)}announceAriaDescription(){if(!this.eGui.contains(_getActiveDomElement(this.beans)))return;const ariaDescription=Array.from(this.ariaDescriptionProperties.keys()).sort(((a,b)=>"filter"===a?-1:b.charCodeAt(0)-a.charCodeAt(0))).map((key=>this.ariaDescriptionProperties.get(key))).join(". ");this.beans.ariaAnnounce?.announceValue(ariaDescription,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(compBean){this.beans.colHover?.addHeaderColumnHoverListener(compBean,this.comp,this.column)}addActiveHeaderMouseListeners(compBean){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column)})}handleMouseOverChange(isMouseOver){this.setActiveHeader(isMouseOver),this.eventSvc.dispatchEvent({type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(active){this.comp.addOrRemoveCssClass("ag-header-active",active)}getAnchorElementForMenu(isFilter){const headerComp=this.comp.getUserCompInstance();return isHeaderComp(headerComp)?headerComp.getAnchorElementForMenu(isFilter):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function isHeaderComp(headerComp){return"function"==typeof headerComp.getAnchorElementForMenu&&"function"==typeof headerComp.onMenuKeyboardShortcut}var instanceIdSequence5=0,HeaderRowCtrl=class extends BeanStub{constructor(rowIndex,pinned,type){super(),this.rowIndex=rowIndex,this.pinned=pinned,this.type=type,this.instanceId=instanceIdSequence5++;const typeClass="group"==type?"ag-header-row-column-group":"filter"==type?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${typeClass}`}postConstruct(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((ctrl=>null!=ctrl.eGui))}setComp(comp,compBean,initCompState=!0){this.comp=comp,compBean=setupCompBean(this,this.beans.context,compBean),initCompState&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(compBean)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(compBean){const onHeightChanged=this.onRowHeightChanged.bind(this),onDisplayedColumnsChanged=this.onDisplayedColumnsChanged.bind(this);compBean.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:onDisplayedColumnsChanged,virtualColumnsChanged:params=>this.onVirtualColumnsChanged(params.afterScroll),columnGroupHeaderHeightChanged:onHeightChanged,columnHeaderHeightChanged:onHeightChanged,gridStylesChanged:onHeightChanged,advancedFilterEnabledChanged:onHeightChanged}),compBean.addManagedPropertyListener("domLayout",onDisplayedColumnsChanged),compBean.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),compBean.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],onHeightChanged)}getHeaderCellCtrl(column){if(this.headerCellCtrls)for(const cellCtrl of this.headerCellCtrls.values())if(cellCtrl.column===column)return cellCtrl}onDisplayedColumnsChanged(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const width=this.getWidthForRow();this.comp.setWidth(`${width}px`)}getWidthForRow(){const{visibleCols}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:visibleCols.getContainerWidth("right")+visibleCols.getContainerWidth("left")+visibleCols.getContainerWidth(null)}return visibleCols.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset,rowHeight}=this.getTopAndHeight();this.comp.setTop(topOffset+"px"),this.comp.setHeight(rowHeight+"px")}getTopAndHeight(){const{filterManager}=this.beans,sizes=[],groupHeadersHeight=getGroupRowsHeight(this.beans),headerHeight=getColumnHeaderRowHeight(this.beans);sizes.push(...groupHeadersHeight),sizes.push(headerHeight),filterManager?.hasFloatingFilters()&&sizes.push(getFloatingFiltersHeight(this.beans));let topOffset=0;for(let i=0;i<this.rowIndex;i++)topOffset+=sizes[i];return{topOffset,rowHeight:sizes[this.rowIndex]}}onVirtualColumnsChanged(afterScroll=!1){const ctrlsToDisplay=this.getHeaderCtrls(),forceOrder=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(ctrlsToDisplay,forceOrder,afterScroll)}getHeaderCtrls(){const oldCtrls=this.headerCellCtrls;this.headerCellCtrls=new Map;const columns=this.getColumnsInViewport();for(const child of columns)this.recycleAndCreateHeaderCtrls(child,oldCtrls);const isFocusedAndDisplayed=ctrl=>{const{focusSvc,visibleCols}=this.beans;if(!focusSvc.isHeaderWrapperFocused(ctrl))return!1;return visibleCols.isVisible(ctrl.column)};if(oldCtrls)for(const[id,oldCtrl]of oldCtrls){isFocusedAndDisplayed(oldCtrl)?this.headerCellCtrls.set(id,oldCtrl):this.destroyBean(oldCtrl)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(headerColumn,oldCtrls){if(!this.headerCellCtrls)return;if(headerColumn.isEmptyGroup())return;const idOfChild=headerColumn.getUniqueId();let headerCtrl;oldCtrls&&(headerCtrl=oldCtrls.get(idOfChild),oldCtrls.delete(idOfChild));if(headerCtrl&&headerCtrl.column!=headerColumn&&(this.destroyBean(headerCtrl),headerCtrl=void 0),null==headerCtrl)switch(this.type){case"filter":headerCtrl=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,headerColumn,this));break;case"group":headerCtrl=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,headerColumn,this));break;default:headerCtrl=this.createBean(new HeaderCellCtrl(headerColumn,this))}this.headerCellCtrls.set(idOfChild,headerCtrl)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let viewportColumns=[];const actualDepth=this.getActualDepth(),{colViewport}=this.beans;return["left",null,"right"].forEach((pinned=>{const items=colViewport.getHeadersToRender(pinned,actualDepth);viewportColumns=viewportColumns.concat(items)})),viewportColumns}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(column){if(!this.headerCellCtrls)return;const allCtrls=this.getHeaderCellCtrls();let ctrl;return ctrl="function"==typeof column?allCtrls.find(column):allCtrls.find((ctrl2=>ctrl2.column==column)),ctrl}focusHeader(column,event){const ctrl=this.findHeaderCellCtrl(column);if(!ctrl)return!1;return ctrl.focus(event)}destroy(){this.headerCellCtrls?.forEach((ctrl=>{this.destroyBean(ctrl)})),this.headerCellCtrls=void 0,super.destroy()}},HeaderRowContainerCtrl=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(comp,eGui){this.comp=comp,this.eViewport=eGui;const{pinnedCols,ctrlsSvc,colModel,colMoves,filterManager}=this.beans;this.setupCenterWidth(),pinnedCols?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(colMoves,this.eViewport);const onDisplayedColsChanged=this.onDisplayedColumnsChanged.bind(this,filterManager);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:onDisplayedColsChanged,advancedFilterEnabledChanged:onDisplayedColsChanged});const headerType=`${"string"==typeof this.pinned?this.pinned:"center"}Header`;ctrlsSvc.register(headerType,this),colModel.ready&&this.refresh()}getAllCtrls(){const res=[...this.groupsRowCtrls];return this.columnsRowCtrl&&res.push(this.columnsRowCtrl),this.filtersRowCtrl&&res.push(this.filtersRowCtrl),res}refresh(keepColumns=!1){const{focusSvc,colModel,filterManager}=this.beans;let sequence=0;const focusedHeaderPosition=focusSvc.getFocusHeaderToUseAfterRefresh();(()=>{const groupRowCount=function getHeaderRowCount(colModel){return colModel.cols?colModel.cols.treeDepth+1:-1}(colModel)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<groupRowCount;i++){const ctrl=this.createBean(new HeaderRowCtrl(sequence++,this.pinned,"group"));this.groupsRowCtrls.push(ctrl)}})(),(()=>{const rowIndex=sequence++,needNewInstance=!(this.hidden||null!=this.columnsRowCtrl&&keepColumns&&this.columnsRowCtrl.rowIndex===rowIndex);(needNewInstance||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),needNewInstance&&(this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!filterManager?.hasFloatingFilters()&&!this.hidden;const destroyPreviousComp=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void destroyPreviousComp();const rowIndex=sequence++;if(this.filtersRowCtrl){const rowIndexMismatch=this.filtersRowCtrl.rowIndex!==rowIndex;keepColumns&&!rowIndexMismatch||destroyPreviousComp()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"filter")))})();const allCtrls=this.getAllCtrls();this.comp.setCtrls(allCtrls),this.restoreFocusOnHeader(focusSvc,focusedHeaderPosition)}getHeaderCtrlForColumn(column){if(isColumn(column))return this.columnsRowCtrl?.getHeaderCellCtrl(column);if(0!==this.groupsRowCtrls.length)for(let i=0;i<this.groupsRowCtrls.length;i++){const ctrl=this.groupsRowCtrls[i].getHeaderCellCtrl(column);if(ctrl)return ctrl}}getHtmlElementForColumnHeader(column){return this.getHeaderCtrlForColumn(column)?.eGui??null}getRowType(rowIndex){return this.getAllCtrls()[rowIndex]?.type}focusHeader(rowIndex,column,event){const ctrl=this.getAllCtrls()[rowIndex];return!!ctrl&&ctrl.focusHeader(column,event)}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(index){return this.groupsRowCtrls[index]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(offset){this.comp.setViewportScrollLeft(offset)}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(colMoves,dropContainer){const bodyDropTarget=colMoves?.createBodyDropTarget(this.pinned,dropContainer);bodyDropTarget&&this.createManagedBean(bodyDropTarget)}restoreFocusOnHeader(focusSvc,position){if(!position)return;const{column}=position;column.getPinned()==this.pinned&&focusSvc.focusHeaderPosition({headerPosition:position})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(filterManager){const includeFloatingFilter=!!filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==includeFloatingFilter&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new CenterWidthFeature((width=>this.comp.setCenterWidth(`${width}px`)),!0))}};function _setColMenuVisible(column,visible,source){column.menuVisible!==visible&&(column.menuVisible=visible,column.dispatchColEvent("menuVisibleChanged",source))}var OverlayComponent=class extends Component{constructor(){super()}};function _createIconNoSpan(iconName,beans,column){let userProvidedIcon=null;"smallDown"===iconName?_warn(262):"smallLeft"===iconName?_warn(263):"smallRight"===iconName&&_warn(264);const icons=column&&column.getColDef().icons;if(icons&&(userProvidedIcon=icons[iconName]),beans.gos&&!userProvidedIcon){const optionsIcons=beans.gos.get("icons");optionsIcons&&(userProvidedIcon=optionsIcons[iconName])}if(userProvidedIcon){let rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if("string"!=typeof userProvidedIcon)return void _warn(38,{iconName});rendererResult=userProvidedIcon}return"string"==typeof rendererResult?_loadTemplate(rendererResult):_isNodeOrElement(rendererResult)?rendererResult:void _warn(133,{iconName})}{const span=document.createElement("span"),iconValue=beans.registry.getIcon(iconName);iconValue||beans.validation?.validateIcon(iconName);const cssClass=iconValue??iconName;return span.setAttribute("class",`ag-icon ag-icon-${cssClass}`),span.setAttribute("unselectable","on"),_setAriaRole(span,"presentation"),span}}var AgAbstractLabel=class extends Component{constructor(config,template,components){super(template,components),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=config||{},this.registerCSS(".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}")}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator,label,labelWidth,labelAlignment,disabled}=this.config;null!=disabled&&this.setDisabled(disabled),null!=labelSeparator&&this.setLabelSeparator(labelSeparator),null!=label&&this.setLabel(label),null!=labelWidth&&this.setLabelWidth(labelWidth),this.setLabelAlignment(labelAlignment||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label,eLabel}=this;_clearElement(eLabel),"string"==typeof label?eLabel.innerText=label+this.labelSeparator:label&&eLabel.appendChild(label),""===label?(_setDisplayed(eLabel,!1),_setAriaRole(eLabel,"presentation")):(_setDisplayed(eLabel,!0),_setAriaRole(eLabel,null))}setLabelSeparator(labelSeparator){return this.labelSeparator===labelSeparator||(this.labelSeparator=labelSeparator,null!=this.label&&this.refreshLabel()),this}getLabelId(){const eLabel=this.eLabel;return eLabel.id=eLabel.id||`ag-${this.getCompId()}-label`,eLabel.id}getLabel(){return this.label}setLabel(label){return this.label===label||(this.label=label,this.refreshLabel()),this}setLabelAlignment(alignment){const eGuiClassList=this.getGui().classList;return eGuiClassList.toggle("ag-label-align-left","left"===alignment),eGuiClassList.toggle("ag-label-align-right","right"===alignment),eGuiClassList.toggle("ag-label-align-top","top"===alignment),this}setLabelEllipsis(hasEllipsis){return this.eLabel.classList.toggle("ag-label-ellipsis",hasEllipsis),this}setLabelWidth(width){return null==this.label||_setElementWidth(this.eLabel,width),this}setDisabled(disabled){disabled=!!disabled;const element=this.getGui();return _setDisabled(element,disabled),element.classList.toggle("ag-disabled",disabled),this.disabled=disabled,this}isDisabled(){return!!this.disabled}},AgAbstractField=class extends AgAbstractLabel{constructor(config,template,components,className){super(config,template,components),this.className=className}postConstruct(){super.postConstruct();const{width,value,onValueChange}=this.config;null!=width&&this.setWidth(width),null!=value&&this.setValue(value),null!=onValueChange&&this.onValueChange(onValueChange),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(label){return super.setLabel(label),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const ariaEl=this.getAriaElement(),labelId=this.getLabelId(),label=this.getLabel();null==label||""==label||null!==function _getAriaLabel(element){return element.getAttribute("aria-label")}(ariaEl)?_setAriaLabelledBy(ariaEl,""):_setAriaLabelledBy(ariaEl,labelId??"")}setAriaLabel(label){return _setAriaLabel(this.getAriaElement(),label),this.refreshAriaLabelledBy(),this}onValueChange(callbackFn){return this.addManagedListeners(this,{fieldValueChanged:()=>callbackFn(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(width){return _setFixedWidth(this.getGui(),width),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(value,silent){return this.value===value||(this.previousValue=this.value,this.value=value,silent||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},AgAbstractInputField=class extends AgAbstractField{constructor(config,className,inputType="text",displayFieldTag="input"){super(config,config?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${displayFieldTag} data-ref="eInput" class="ag-input-field-input"></${displayFieldTag}>\n                </div>\n            </div>`,[],className),this.inputType=inputType,this.displayFieldTag=displayFieldTag,this.eLabel=null,this.eWrapper=null,this.eInput=null}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel,eWrapper,eInput,className}=this;eLabel.classList.add(`${className}-label`),eWrapper.classList.add(`${className}-input-wrapper`),eInput.classList.add(`${className}-input`),this.addCssClass("ag-input-field"),eInput.id=eInput.id||`ag-${this.getCompId()}-input`;const{inputName,inputWidth}=this.config;null!=inputName&&this.setInputName(inputName),null!=inputWidth&&this.setInputWidth(inputWidth),this.addInputListeners(),this.activateTabIndex([eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(width){return _setElementWidth(this.eWrapper,width),this}setInputName(name){return this.getInputElement().setAttribute("name",name),this}getFocusableElement(){return this.eInput}setMaxLength(length){return this.eInput.maxLength=length,this}setInputPlaceholder(placeholder){return _addOrRemoveAttribute(this.eInput,"placeholder",placeholder),this}setInputAriaLabel(label){return _setAriaLabel(this.eInput,label),this.refreshAriaLabelledBy(),this}setDisabled(disabled){return _setDisabled(this.eInput,disabled),super.setDisabled(disabled)}setAutoComplete(value){if(!0===value)_addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const autoCompleteValue="string"==typeof value?value:"off";_addOrRemoveAttribute(this.eInput,"autocomplete",autoCompleteValue)}return this}},AgCheckbox=class extends AgAbstractInputField{constructor(config,className="ag-checkbox",inputType="checkbox"){super(config,className,inputType),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly,passive}=this.config;"boolean"==typeof readOnly&&this.setReadOnly(readOnly),"boolean"==typeof passive&&this.setPassive(passive)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(passive){this.passive=passive}isReadOnly(){return this.readOnly}setReadOnly(readOnly){this.eWrapper.classList.toggle("ag-disabled",readOnly),this.eInput.disabled=readOnly,this.readOnly=readOnly}setDisabled(disabled){return this.eWrapper.classList.toggle("ag-disabled",disabled),super.setDisabled(disabled)}toggle(){if(this.eInput.disabled)return;const previousValue=this.isSelected(),nextValue=this.getNextValue();this.passive?this.dispatchChange(nextValue,previousValue):this.setValue(nextValue)}getValue(){return this.isSelected()}setValue(value,silent){return this.refreshSelectedClass(value),this.setSelected(value,silent),this}setName(name){return this.getInputElement().name=name,this}isSelected(){return this.selected}setSelected(selected,silent){if(this.isSelected()===selected)return;this.previousValue=this.isSelected(),selected=this.selected="boolean"==typeof selected?selected:void 0;const eInput=this.eInput;eInput.checked=selected,eInput.indeterminate=void 0===selected,silent||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(selected,previousValue,event){this.dispatchLocalEvent({type:"fieldValueChanged",selected,previousValue,event});const input=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:input.id,name:input.name,selected,previousValue})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const previousValue=this.isSelected(),selected=this.selected=e.target.checked;this.refreshSelectedClass(selected),this.dispatchChange(selected,previousValue,e)}refreshSelectedClass(value){const classList=this.eWrapper.classList;classList.toggle("ag-checked",!0===value),classList.toggle("ag-indeterminate",null==value)}},AgCheckboxSelector={selector:"AG-CHECKBOX",component:AgCheckbox},AbstractClientSideNodeManager=class extends BeanStub{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(id){return this.allNodesMap[id]}extractRowData(){return this.rootNode?.allLeafChildren?.map((node=>node.data))}activate(rootNode){this.rootNode=rootNode,rootNode.group=!0,rootNode.level=-1,rootNode.id="ROOT_NODE_ID",rootNode.allLeafChildren=[],rootNode.childrenAfterGroup=[],rootNode.childrenAfterSort=[],rootNode.childrenAfterAggFilter=[],rootNode.childrenAfterFilter=[],this.updateRootSiblingArrays(rootNode)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(rowData){const rootNode=this.rootNode;rootNode&&(this.dispatchRowDataUpdateStartedEvent(rowData),rootNode.childrenAfterFilter=null,rootNode.childrenAfterGroup=null,rootNode.childrenAfterAggFilter=null,rootNode.childrenAfterSort=null,rootNode.childrenMapped=null,rootNode.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(rowData),this.updateRootSiblingArrays(rootNode))}updateRootSiblingArrays(rootNode){const sibling=rootNode.sibling;sibling&&(sibling.childrenAfterFilter=rootNode.childrenAfterFilter,sibling.childrenAfterGroup=rootNode.childrenAfterGroup,sibling.childrenAfterAggFilter=rootNode.childrenAfterAggFilter,sibling.childrenAfterSort=rootNode.childrenAfterSort,sibling.childrenMapped=rootNode.childrenMapped,sibling.allLeafChildren=rootNode.allLeafChildren)}loadNewRowData(rowData){this.rootNode.allLeafChildren=rowData?.map(((dataItem,index)=>this.createRowNode(dataItem,index)))??[]}setImmutableRowData(params,rowData){const getRowIdFunc=_getRowIdCallback(this.gos),reorder=!this.gos.get("suppressMaintainUnsortedOrder"),changedRowNodes=params.changedRowNodes,processedNodes=new Set,rootNode=this.rootNode,oldAllLeafChildren=rootNode.allLeafChildren,oldAllLeafChildrenLen=oldAllLeafChildren.length;let nodesAdded=!1,nodesRemoved=!1,nodesUpdated=!1,orderChanged=!1;for(let i=0,prevSourceRowIndex=-1,len=rowData.length;i<len;i++){const data=rowData[i];let node=this.getRowNode(getRowIdFunc({data,level:0}));if(node){if(reorder){const sourceRowIndex=node.sourceRowIndex;orderChanged||(orderChanged=sourceRowIndex<=prevSourceRowIndex||nodesAdded),prevSourceRowIndex=sourceRowIndex}node.data!==data&&(nodesUpdated=!0,node.updateData(data),changedRowNodes.update(node))}else nodesAdded=!0,node=this.createRowNode(data,-1),changedRowNodes.add(node);processedNodes.add(node)}const nodesToUnselect=[];for(let i=0;i<oldAllLeafChildrenLen;i++){const node=oldAllLeafChildren[i];processedNodes.has(node)||(nodesRemoved=!0,node.isSelected()&&nodesToUnselect.push(node),this.rowNodeDeleted(node),changedRowNodes.remove(node))}if(nodesAdded||nodesRemoved||orderChanged){const newAllLeafChildren=new Array(processedNodes.size);let writeIdx=0;if(!reorder)for(let i=0;i<oldAllLeafChildrenLen;++i){const node=oldAllLeafChildren[i];processedNodes.delete(node)&&(node.sourceRowIndex=writeIdx,newAllLeafChildren[writeIdx++]=node)}for(const node of processedNodes)node.sourceRowIndex=writeIdx,newAllLeafChildren[writeIdx++]=node;rootNode.allLeafChildren=newAllLeafChildren;const sibling=rootNode.sibling;sibling&&(sibling.allLeafChildren=newAllLeafChildren),params.rowNodesOrderChanged||(params.rowNodesOrderChanged=orderChanged)}(nodesAdded||nodesRemoved||orderChanged||nodesUpdated)&&(this.deselectNodes(nodesToUnselect),params.rowDataUpdated=!0)}rowNodeDeleted(node){node.clearRowTopAndRowIndex();const id=node.id,allNodesMap=this.allNodesMap;allNodesMap[id]===node&&delete allNodesMap[id]}updateRowData(rowDataTran,changedRowNodes){this.dispatchRowDataUpdateStartedEvent(rowDataTran.add);const updateRowDataResult={changedRowNodes,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},nodesToUnselect=[],getRowIdFunc=_getRowIdCallback(this.gos);return this.executeRemove(getRowIdFunc,rowDataTran,updateRowDataResult,nodesToUnselect),this.executeUpdate(getRowIdFunc,rowDataTran,updateRowDataResult,nodesToUnselect),this.executeAdd(rowDataTran,updateRowDataResult),this.deselectNodes(nodesToUnselect),updateRowDataResult}executeAdd(rowDataTran,result){const add=rowDataTran.add;if(!add?.length)return;let allLeafChildren=this.rootNode.allLeafChildren,addIndex=allLeafChildren.length;if("number"==typeof rowDataTran.addIndex&&(addIndex=this.sanitizeAddIndex(rowDataTran.addIndex),addIndex>0)){if(this.gos.get("treeData")&&this.gos.get("getDataPath"))for(let i=0;i<allLeafChildren.length;i++){const node=allLeafChildren[i];if(node?.rowIndex==addIndex-1){addIndex=i+1;break}}}const addLength=add.length,changedRowNodes=result.changedRowNodes,newNodes=new Array(addLength);for(let i=0;i<addLength;i++){const newNode=this.createRowNode(add[i],addIndex+i);changedRowNodes.add(newNode),newNodes[i]=newNode}const rootNode=this.rootNode;if(addIndex<allLeafChildren.length){const nodesBeforeIndex=allLeafChildren.slice(0,addIndex),nodesAfterIndex=allLeafChildren.slice(addIndex,allLeafChildren.length),nodesAfterIndexFirstIndex=nodesBeforeIndex.length+newNodes.length;for(let index=0,length=nodesAfterIndex.length;index<length;++index)nodesAfterIndex[index].sourceRowIndex=nodesAfterIndexFirstIndex+index;allLeafChildren=[...nodesBeforeIndex,...newNodes,...nodesAfterIndex],result.rowsInserted=!0}else allLeafChildren=allLeafChildren.concat(newNodes);rootNode.allLeafChildren=allLeafChildren;const sibling=rootNode.sibling;sibling&&(sibling.allLeafChildren=allLeafChildren),result.rowNodeTransaction.add=newNodes}executeRemove(getRowIdFunc,rowDataTran,{changedRowNodes,rowNodeTransaction},nodesToUnselect){const{remove}=rowDataTran;if(!remove?.length)return;const rowIdsRemoved={};remove.forEach((item=>{const rowNode=this.lookupRowNode(getRowIdFunc,item);rowNode&&(rowNode.isSelected()&&nodesToUnselect.push(rowNode),rowNode.clearRowTopAndRowIndex(),rowIdsRemoved[rowNode.id]=!0,delete this.allNodesMap[rowNode.id],rowNodeTransaction.remove.push(rowNode),changedRowNodes.remove(rowNode))}));const rootNode=this.rootNode;rootNode.allLeafChildren=rootNode.allLeafChildren?.filter((rowNode=>!rowIdsRemoved[rowNode.id]))??null,rootNode.allLeafChildren?.forEach(((node,idx)=>{node.sourceRowIndex=idx}));const sibling=rootNode.sibling;sibling&&(sibling.allLeafChildren=rootNode.allLeafChildren)}executeUpdate(getRowIdFunc,rowDataTran,{changedRowNodes,rowNodeTransaction},nodesToUnselect){const{update}=rowDataTran;update?.length&&update.forEach((item=>{const rowNode=this.lookupRowNode(getRowIdFunc,item);rowNode&&(rowNode.updateData(item),!rowNode.selectable&&rowNode.isSelected()&&nodesToUnselect.push(rowNode),rowNodeTransaction.update.push(rowNode),changedRowNodes.update(rowNode))}))}dispatchRowDataUpdateStartedEvent(rowData){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:rowData?.length?rowData[0]:null})}deselectNodes(nodesToUnselect){const source="rowDataChanged",selectionSvc=this.beans.selectionSvc,selectionChanged=nodesToUnselect.length>0;selectionChanged&&selectionSvc?.setNodesSelected({newValue:!1,nodes:nodesToUnselect,suppressFinishActions:!0,source}),selectionSvc?.updateGroupsFromChildrenSelections?.(source),selectionChanged&&this.eventSvc.dispatchEvent({type:"selectionChanged",source})}sanitizeAddIndex(addIndex){const allChildrenCount=this.rootNode.allLeafChildren?.length??0;return addIndex<0||addIndex>=allChildrenCount||Number.isNaN(addIndex)?allChildrenCount:Math.ceil(addIndex)}createRowNode(data,sourceRowIndex){const node=new RowNode(this.beans);return node.parent=this.rootNode,node.level=0,node.group=!1,node.expanded=!1,node.sourceRowIndex=sourceRowIndex,node.setDataAndId(data,String(this.nextId)),this.allNodesMap[node.id]&&_warn(2,{nodeId:node.id}),this.allNodesMap[node.id]=node,this.nextId++,node}lookupRowNode(getRowIdFunc,data){let rowNode;if(getRowIdFunc){const id=getRowIdFunc({data,level:0});if(rowNode=this.allNodesMap[id],!rowNode)return _error(4,{id}),null}else if(rowNode=this.rootNode?.allLeafChildren?.find((node=>node.data===data)),!rowNode)return _error(5,{data}),null;return rowNode||null}},CheckboxSelectionComponent=class extends Component{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const translate=this.getLocaleTextFunc(),{rowNode,eCheckbox}=this,state=rowNode.isSelected(),stateName=_getAriaCheckboxStateName(translate,state),[ariaKey,ariaLabel]=rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],translatedLabel=translate(ariaKey,ariaLabel);eCheckbox.setValue(state,!0),eCheckbox.setInputAriaLabel(`${translatedLabel} (${stateName})`)}init(params){this.rowNode=params.rowNode,this.column=params.column,this.overrides=params.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:_stopPropagationForAgGrid,click:event=>{_stopPropagationForAgGrid(event),this.beans.selectionSvc?.handleSelectionEvent(event,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",(({currentValue,previousValue})=>{("object"==typeof currentValue?_getHideDisabledCheckboxes(currentValue):void 0)!==("object"==typeof previousValue?_getHideDisabledCheckboxes(previousValue):void 0)&&this.onSelectableChanged()}));if(_getIsRowSelectable(this.gos)||"function"==typeof this.getIsVisible()){const showOrHideSelectListener=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:showOrHideSelectListener}),this.addManagedListeners(this.rowNode,{dataChanged:showOrHideSelectListener,cellChanged:showOrHideSelectListener}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column,rowNode,overrides,gos}=this;let selectable=rowNode.selectable;const isVisible=this.getIsVisible();if(selectable)if("function"==typeof isVisible){const extraParams=overrides?.callbackParams;if(column){const params=column.createColumnFunctionCallbackParams(rowNode);selectable=isVisible({...extraParams,...params})}else selectable=isVisible({...extraParams,node:rowNode,data:rowNode.data})}else selectable=isVisible??!1;const so=gos.get("rowSelection");if(so&&"string"!=typeof so?!_getHideDisabledCheckboxes(so):column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!selectable),this.setVisible(!0),void this.setDisplayed(!0);overrides?.removeHidden?this.setDisplayed(selectable):this.setVisible(selectable)}getIsVisible(){const overrides=this.overrides;if(overrides)return overrides.isVisible;const so=this.gos.get("rowSelection");return so&&"string"!=typeof so?_getCheckboxes(so):this.column?.getColDef()?.checkboxSelection}},RowRangeSelectionContext=class{constructor(rowModel){this.rowModel=rowModel,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(node){this.rootId=node.id,this.endId=null,this.cachedRange.length=0}setEndRange(end){this.endId=end.id,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const root=this.getRoot(),end=this.getEnd();if(null==root||null==end)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(root,end)??[]}return this.cachedRange}isInRange(node){return null!==this.rootId&&this.getRange().some((nodeInRange=>nodeInRange.id===node.id))}getRoot(fallback){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:fallback?(this.setRoot(fallback),fallback):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(node){const range=this.getRange();if(0===range.length)return{keep:[],discard:[]};const discardAfter=range[0].id===this.rootId,idx=range.findIndex((rowNode=>rowNode.id===node.id));if(idx>-1){const above=range.slice(0,idx),below=range.slice(idx+1);return this.setEndRange(node),discardAfter?{keep:above,discard:below}:{keep:below,discard:above}}return{keep:range,discard:[]}}extend(node,groupSelectsChildren=!1){const root=this.getRoot();if(null==root){const keep=this.getRange().slice();return groupSelectsChildren&&node.depthFirstSearch((node2=>!node2.group&&keep.push(node2))),keep.push(node),this.setRoot(node),{keep,discard:[]}}const newRange=this.rowModel.getNodesInRangeForSelection(root,node);if(!newRange)return this.setRoot(node),{keep:[node],discard:[]};if(newRange.find((newRangeNode=>newRangeNode.id===this.endId)))return this.setEndRange(node),{keep:this.getRange(),discard:[]};{const discard=this.getRange().slice();return this.setEndRange(node),{keep:this.getRange(),discard}}}},SelectAllFeature=class extends BeanStub{constructor(column){super(),this.column=column,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const checkbox=this.cbSelectAll;checkbox.isDisplayed()&&!checkbox.getGui().contains(_getActiveDomElement(this.beans))&&(e.preventDefault(),checkbox.setValue(!checkbox.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(ctrl){this.headerCellCtrl=ctrl;const cbSelectAll=this.createManagedBean(new AgCheckbox);this.cbSelectAll=cbSelectAll,cbSelectAll.addCssClass("ag-header-select-all"),_setAriaRole(cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",(({currentValue,previousValue})=>{const getSelectAll=rowSelection=>"string"!=typeof rowSelection&&rowSelection&&"singleRow"!==rowSelection.mode?rowSelection.selectAll:void 0;getSelectAll(currentValue)!==getSelectAll(previousValue)&&this.showOrHideSelectAll()})),this.addManagedListeners(cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll("uiColumnMoved"===e.source)}showOrHideSelectAll(fromColumnMoved=!1){const cbSelectAllVisible=this.isCheckboxSelection();this.cbSelectAllVisible=cbSelectAllVisible,this.cbSelectAll.setDisplayed(cbSelectAllVisible),cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(fromColumnMoved)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const selectAllMode=this.getSelectAllMode(),selectionSvc=this.beans.selectionSvc,cbSelectAll=this.cbSelectAll,allSelected=selectionSvc.getSelectAllState(selectAllMode);cbSelectAll.setValue(allSelected);const hasNodesToSelect=selectionSvc.hasNodesToSelect(selectAllMode);cbSelectAll.setDisabled(!hasNodesToSelect),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(fromColumnMoved=!1){const translate=this.getLocaleTextFunc(),{headerCellCtrl,cbSelectAll,cbSelectAllVisible}=this,ariaStatus=cbSelectAll.getValue()?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked"),ariaLabel=translate("ariaRowSelectAll","Press Space to toggle all rows selection");headerCellCtrl.setAriaDescriptionProperty("selectAll",cbSelectAllVisible?`${ariaLabel} (${ariaStatus})`:null),cbSelectAll.setInputAriaLabel(translate("ariaHeaderSelection","Column with Header Selection")),fromColumnMoved||headerCellCtrl.announceAriaDescription()}checkSelectionType(feature){return!!_isMultiRowSelection(this.gos)||(_warn(128,{feature}),!1)}checkRightRowModelType(feature){const{gos,rowModel}=this.beans;return!(!_isClientSideRowModel(gos)&&!_isServerSideRowModel(gos))||(_warn(129,{feature,rowModel:rowModel.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const value=this.cbSelectAll.getValue(),selectAll2=this.getSelectAllMode();let source="uiSelectAll";"currentPage"===selectAll2?source="uiSelectAllCurrentPage":"filtered"===selectAll2&&(source="uiSelectAllFiltered");const params={source,selectAll:selectAll2},selectionSvc=this.beans.selectionSvc;value?selectionSvc.selectAllRowNodes(params):selectionSvc.deselectAllRowNodes(params)}isCheckboxSelection(){const{column,gos,beans}=this,rowSelection=gos.get("rowSelection"),colDef=column.getColDef(),{headerCheckboxSelection}=colDef;let result=!1;const newHeaderCheckbox="object"==typeof rowSelection;if(newHeaderCheckbox){const isSelectionCol=isColumnSelectionCol(column),isAutoCol=isColumnGroupAutoCol(column);("autoGroupColumn"===_getCheckboxLocation(rowSelection)&&isAutoCol||isSelectionCol&&beans.selectionColSvc?.isSelectionColumnEnabled())&&(result=_getHeaderCheckbox(rowSelection))}else result="function"==typeof headerCheckboxSelection?headerCheckboxSelection(_addGridCommonParams(gos,{column,colDef})):!!headerCheckboxSelection;const featureName=newHeaderCheckbox?"headerCheckbox":"headerCheckboxSelection";return result&&this.checkRightRowModelType(featureName)&&this.checkSelectionType(featureName)}getSelectAllMode(){const selectAll2=_getSelectAll(this.gos,!1);if(selectAll2)return selectAll2;const{headerCheckboxSelectionCurrentPageOnly,headerCheckboxSelectionFilteredOnly}=this.column.getColDef();return headerCheckboxSelectionCurrentPageOnly?"currentPage":headerCheckboxSelectionFilteredOnly?"filtered":"all"}},BaseSelectionService=class extends BeanStub{postConstruct(){const{gos,beans}=this;this.selectionCtx=new RowRangeSelectionContext(beans.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],(()=>{const callback=_getIsRowSelectable(gos);callback!==this.isRowSelectable&&(this.isRowSelectable=callback,this.updateSelectable())})),this.isRowSelectable=_getIsRowSelectable(gos)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new CheckboxSelectionComponent}createSelectAllFeature(column){return new SelectAllFeature(column)}isMultiSelect(){return _isMultiRowSelection(this.gos)}onRowCtrlSelected(rowCtrl,hasFocusFunc,gui){const selected=!!rowCtrl.rowNode.isSelected();rowCtrl.forEachGui(gui,(gui2=>{gui2.rowComp.addOrRemoveCssClass("ag-row-selected",selected);const element=gui2.element;_setAriaSelected(element,selected);element.contains(_getActiveDomElement(this.beans))&&hasFocusFunc(gui2)}))}announceAriaRowSelection(rowNode){if(this.isRowSelectionBlocked(rowNode))return;const selected=rowNode.isSelected();if(!rowNode.selectable)return;const label=this.getLocaleTextFunc()(selected?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${selected?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(label,"rowSelection")}dispatchSelectionChanged(source){this.eventSvc.dispatchEvent({type:"selectionChanged",source})}isRowSelectionBlocked(rowNode){return!rowNode.selectable||!!rowNode.rowPinned||!_isRowSelection(this.gos)}updateRowSelectable(rowNode,suppressSelectionUpdate){const selectable=this.isRowSelectable?.(rowNode)??!0;return this.setRowSelectable(rowNode,selectable,suppressSelectionUpdate),selectable}setRowSelectable(rowNode,newVal,suppressSelectionUpdate){if(rowNode.selectable!==newVal){if(rowNode.selectable=newVal,rowNode.dispatchRowEvent("selectableChanged"),suppressSelectionUpdate)return;if(_getGroupSelectsDescendants(this.gos)){const selected=this.calculateSelectedFromChildren(rowNode);return void this.setNodesSelected({nodes:[rowNode],newValue:selected??!1,source:"selectableChanged"})}rowNode.isSelected()&&!rowNode.selectable&&this.setNodesSelected({nodes:[rowNode],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(rowNode){let atLeastOneSelected=!1,atLeastOneDeSelected=!1;if(!rowNode.childrenAfterGroup?.length)return rowNode.selectable?rowNode.__selected:null;for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const child=rowNode.childrenAfterGroup[i];let childState=child.isSelected();if(!child.selectable){const selectable=this.calculateSelectedFromChildren(child);if(null===selectable)continue;childState=selectable}switch(childState){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:return}}return atLeastOneSelected&&atLeastOneDeSelected?void 0:!!atLeastOneSelected||!atLeastOneDeSelected&&(rowNode.selectable?rowNode.__selected:null)}selectRowNode(rowNode,newValue,e,source="api"){const selectionNotAllowed=!rowNode.selectable&&newValue,selectionNotChanged=rowNode.__selected===newValue;if(selectionNotAllowed||selectionNotChanged)return!1;rowNode.__selected=newValue,rowNode.dispatchRowEvent("rowSelected");const sibling=rowNode.sibling;return sibling&&sibling.footer&&sibling.__localEventService&&sibling.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({..._createGlobalRowEvent(rowNode,this.gos,"rowSelected"),event:e||null,source}),!0}isCellCheckboxSelection(column,rowNode){const so=this.gos.get("rowSelection");if(so&&"string"!=typeof so){const checkbox=isColumnSelectionCol(column)&&_getCheckboxes(so);return column.isColumnFunc(rowNode,checkbox)}return column.isColumnFunc(rowNode,column.colDef.checkboxSelection)}inferNodeSelections(node,shiftKey,metaKey,source){const{gos,selectionCtx}=this,currentSelection=node.isSelected(),groupSelectsDescendants=_getGroupSelectsDescendants(gos),enableClickSelection=function _getEnableSelection(gos){const enableClickSelection=_getEnableClickSelection(gos);return!0===enableClickSelection||"enableSelection"===enableClickSelection}(gos),enableDeselection=function _getEnableDeselection(gos){const enableClickSelection=_getEnableClickSelection(gos);return!0===enableClickSelection||"enableDeselection"===enableClickSelection}(gos),isMultiSelect=this.isMultiSelect(),isRowClicked="rowClicked"===source;if(isRowClicked&&groupSelectsDescendants&&node.group)return null;if(isRowClicked&&!enableClickSelection&&!enableDeselection)return null;if(shiftKey&&metaKey&&isMultiSelect){const root=selectionCtx.getRoot();if(root){if(root.isSelected()){const partition=selectionCtx.isInRange(node)?selectionCtx.truncate(node):selectionCtx.extend(node,groupSelectsDescendants);return{deselect:partition.discard,select:partition.keep,reset:!1}}return{select:[],deselect:selectionCtx.extend(node,groupSelectsDescendants).keep,reset:!1}}return null}if(shiftKey&&isMultiSelect){const fallback=selectionCtx.selectAll?this.beans.rowModel.getRow(0):void 0,root=selectionCtx.getRoot(fallback),partition=selectionCtx.isInRange(node)?selectionCtx.truncate(node):selectionCtx.extend(node,groupSelectsDescendants);return{select:partition.keep,deselect:partition.discard,reset:selectionCtx.selectAll||!(!root||root.isSelected())}}if(metaKey)return selectionCtx.setRoot(node),isRowClicked&&currentSelection&&!enableDeselection?null:{node,newValue:!currentSelection,clearSelection:!isMultiSelect};{selectionCtx.setRoot(node);const enableSelectionWithoutKeys=function _getEnableSelectionWithoutKeys(gos){const selection=gos.get("rowSelection");return"string"==typeof selection?gos.get("rowMultiSelectWithClick"):selection?.enableSelectionWithoutKeys??!1}(gos),shouldClear=isRowClicked&&(!enableSelectionWithoutKeys||!enableClickSelection);if("filteredDescendants"===_getGroupSelection(gos)&&void 0===currentSelection&&_isClientSideRowModel(gos))return{node,newValue:!1,clearSelection:!isMultiSelect||shouldClear};if(isRowClicked){const newValue=currentSelection?!enableSelectionWithoutKeys:enableClickSelection;return newValue===currentSelection&&!shouldClear||newValue&&!enableClickSelection||!newValue&&!enableDeselection?null:{node,newValue,clearSelection:!isMultiSelect||shouldClear}}return{node,newValue:!currentSelection,clearSelection:!isMultiSelect||shouldClear}}}},AgRadioButton=class extends AgCheckbox{constructor(config){super(config,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(event){const eInput=this.eInput;event.selected&&event.name&&eInput.name&&eInput.name===event.name&&event.id&&eInput.id!==event.id&&this.setValue(!1,!0)}},AgInputTextField=class extends AgAbstractInputField{constructor(config,className="ag-text-field",inputType="text"){super(config,className,inputType)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(value,silent){const eInput=this.eInput;return eInput.value!==value&&(eInput.value=_exists(value)?value:""),super.setValue(value,silent)}setStartValue(value){this.setValue(value,!0)}preventDisallowedCharacters(){const pattern=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:event=>{_isEventFromPrintableCharacter(event)&&event.key&&!pattern.test(event.key)&&event.preventDefault()},paste:e=>{const text=e.clipboardData?.getData("text");text&&text.split("").some((c=>!pattern.test(c)))&&e.preventDefault()}})}},AgInputTextFieldSelector={selector:"AG-INPUT-TEXT-FIELD",component:AgInputTextField},AgInputTextAreaSelector={selector:"AG-INPUT-TEXT-AREA",component:class extends AgAbstractInputField{constructor(config){super(config,"ag-text-area",null,"textarea")}setValue(value,silent){const ret=super.setValue(value,silent);return this.eInput.value=value,ret}setCols(cols){return this.eInput.cols=cols,this}setRows(rows){return this.eInput.rows=rows,this}}},AgInputNumberField=class extends AgInputTextField{constructor(config){super(config,"ag-number-field","number")}postConstruct(){super.postConstruct();const eInput=this.eInput;this.addManagedListeners(eInput,{blur:()=>{const floatedValue=parseFloat(eInput.value),value=isNaN(floatedValue)?"":this.normalizeValue(floatedValue.toString());this.value!==value&&this.setValue(value)},wheel:this.onWheel.bind(this)}),eInput.step="any";const{precision,min,max,step}=this.config;"number"==typeof precision&&this.setPrecision(precision),"number"==typeof min&&this.setMin(min),"number"==typeof max&&this.setMax(max),"number"==typeof step&&this.setStep(step)}onWheel(e){_getActiveDomElement(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(value){if(""===value)return"";null!=this.precision&&(value=this.adjustPrecision(value));const val=parseFloat(value),{min,max}=this;return null!=min&&val<min?value=min.toString():null!=max&&val>max&&(value=max.toString()),value}adjustPrecision(value,isScientificNotation){const precision=this.precision;if(null==precision)return value;if(isScientificNotation){const floatString=parseFloat(value).toFixed(precision);return parseFloat(floatString).toString()}const parts=String(value).split(".");if(parts.length>1){if(parts[1].length<=precision)return value;if(precision>0)return`${parts[0]}.${parts[1].slice(0,precision)}`}return parts[0]}setMin(min){return this.min===min||(this.min=min,_addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(max){return this.max===max||(this.max=max,_addOrRemoveAttribute(this.eInput,"max",max)),this}setPrecision(precision){return this.precision=precision,this}setStep(step){return this.step===step||(this.step=step,_addOrRemoveAttribute(this.eInput,"step",step)),this}setValue(value,silent){return this.setValueOrInputValue((v=>super.setValue(v,silent)),(()=>this),value)}setStartValue(value){return this.setValueOrInputValue((v=>super.setValue(v,!0)),(v=>{this.eInput.value=v}),value)}setValueOrInputValue(setValueFunc,setInputValueOnlyFunc,value){if(_exists(value)){let setInputValueOnly=this.isScientificNotation(value);if(setInputValueOnly&&this.eInput.validity.valid)return setValueFunc(value);if(!setInputValueOnly){setInputValueOnly=(value=this.adjustPrecision(value))!=this.normalizeValue(value)}if(setInputValueOnly)return setInputValueOnlyFunc(value)}return setValueFunc(value)}getValue(){const eInput=this.eInput;if(!eInput.validity.valid)return;const inputValue=eInput.value;return this.isScientificNotation(inputValue)?this.adjustPrecision(inputValue,!0):super.getValue()}isScientificNotation(value){return"string"==typeof value&&value.includes("e")}},AgInputNumberFieldSelector={selector:"AG-INPUT-NUMBER-FIELD",component:AgInputNumberField};function _padStartWidthZeros(value,totalStringSize){return value.toString().padStart(totalStringSize,"0")}function _serialiseDate(date,includeTime=!0,separator="-"){if(!date)return null;let serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map((part=>_padStartWidthZeros(part,2))).join(separator);return includeTime&&(serialised+=" "+[date.getHours(),date.getMinutes(),date.getSeconds()].map((part=>_padStartWidthZeros(part,2))).join(":")),serialised}var calculateOrdinal=value=>{if(value>3&&value<21)return"th";switch(value%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _dateToFormattedString(date,format="YYYY-MM-DD"){const fullYear=_padStartWidthZeros(date.getFullYear(),4),months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],replace={YYYY:()=>fullYear.slice(fullYear.length-4,fullYear.length),YY:()=>fullYear.slice(fullYear.length-2,fullYear.length),Y:()=>`${date.getFullYear()}`,MMMM:()=>months[date.getMonth()],MMM:()=>months[date.getMonth()].slice(0,3),MM:()=>_padStartWidthZeros(date.getMonth()+1,2),Mo:()=>`${date.getMonth()+1}${calculateOrdinal(date.getMonth()+1)}`,M:()=>`${date.getMonth()+1}`,Do:()=>`${date.getDate()}${calculateOrdinal(date.getDate())}`,DD:()=>_padStartWidthZeros(date.getDate(),2),D:()=>`${date.getDate()}`,dddd:()=>days[date.getDay()],ddd:()=>days[date.getDay()].slice(0,3),dd:()=>days[date.getDay()].slice(0,2),do:()=>`${date.getDay()}${calculateOrdinal(date.getDay())}`,d:()=>`${date.getDay()}`},regexp=new RegExp(Object.keys(replace).join("|"),"g");return format.replace(regexp,(match=>match in replace?replace[match]():match))}function _parseDateTimeFromString(value){if(!value)return null;const[dateStr,timeStr]=value.split(" ");if(!dateStr)return null;const fields=dateStr.split("-").map((f=>parseInt(f,10)));if(3!==fields.filter((f=>!isNaN(f))).length)return null;const[year,month,day]=fields,date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day)return null;if(!timeStr||"00:00:00"===timeStr)return date;const[hours,minutes,seconds]=timeStr.split(":").map((part=>parseInt(part,10)));return hours>=0&&hours<24&&date.setHours(hours),minutes>=0&&minutes<60&&date.setMinutes(minutes),seconds>=0&&seconds<60&&date.setSeconds(seconds),date}var lastTooltipHideTime,AgInputDateFieldSelector={selector:"AG-INPUT-DATE-FIELD",component:class extends AgInputTextField{constructor(config){super(config,"ag-date-field","date")}postConstruct(){super.postConstruct();const usingSafari=_isBrowserSafari();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||usingSafari||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){_getActiveDomElement(this.beans)===this.eInput&&e.preventDefault()}setMin(minDate){const min=minDate instanceof Date?_serialiseDate(minDate??null,!1)??void 0:minDate;return this.min===min||(this.min=min,_addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(maxDate){const max=maxDate instanceof Date?_serialiseDate(maxDate??null,!1)??void 0:maxDate;return this.max===max||(this.max=max,_addOrRemoveAttribute(this.eInput,"max",max)),this}setStep(step){return this.step===step||(this.step=step,_addOrRemoveAttribute(this.eInput,"step",step)),this}getDate(){if(this.eInput.validity.valid)return _parseDateTimeFromString(this.getValue())??void 0}setDate(date,silent){this.setValue(_serialiseDate(date??null,!1),silent)}}},isLocked=!1,TooltipStateManager=class extends BeanStub{constructor(tooltipCtrl,getTooltipValue){super(),this.tooltipCtrl=tooltipCtrl,this.getTooltipValue=getTooltipValue,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(beans){this.popupSvc=beans.popupSvc,this.userCompFactory=beans.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const el=this.tooltipCtrl.getGui();0===this.tooltipTrigger&&this.addManagedListeners(el,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(el,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(el,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(el,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(delayOption){const delay=this.gos.get(delayOption);return Math.max(200,delay)}getTooltipDelay(type){return"show"===type?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const trigger=this.gos.get("tooltipTrigger");return trigger&&"hover"!==trigger?1:0}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),_isIOSUserAgent()||(isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(e)}),100):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const relatedTarget=e.relatedTarget,parentCompGui=this.tooltipCtrl.getGui(),tooltipGui=this.tooltipComp?.getGui();this.isInteractingWithTooltip||parentCompGui.contains(relatedTarget)||this.interactionEnabled&&tooltipGui?.contains(relatedTarget)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(mouseEvent){if(0!=this.state||isLocked)return;let delay=0;mouseEvent&&(delay=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=mouseEvent||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),delay),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-lastTooltipHideTime<1e3}setToDoNothing(fromHideTooltip){fromHideTooltip||2!==this.state||this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const value=this.getTooltipValue(),ctrl=this.tooltipCtrl;if(!_exists(value)||ctrl.shouldDisplayTooltip&&!ctrl.shouldDisplayTooltip())return void this.setToDoNothing();const rowNode=ctrl.getRowNode?.(),params=_addGridCommonParams(this.gos,{location:ctrl.getLocation?.()??"UNKNOWN",colDef:ctrl.getColDef?.(),column:ctrl.getColumn?.(),rowIndex:ctrl.getRowIndex?.(),node:rowNode,data:rowNode?.data,value,valueFormatted:ctrl.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...ctrl.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const callback=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),userDetails=function _getTooltipCompDetails(userCompFactory,params){return userCompFactory.getCompDetails(params.colDef,TooltipComponent,"agTooltipComponent",params,!0)}(this.userCompFactory,params);userDetails?.newAgStackInstance().then(callback)}hideTooltip(forceHide){!forceHide&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),lastTooltipHideTime=(new Date).getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),forceHide&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(tooltipInstanceCopy,tooltipComp){if(2!==this.state||this.tooltipInstanceCount!==tooltipInstanceCopy)return void this.destroyBean(tooltipComp);const eGui=tooltipComp.getGui();this.tooltipComp=tooltipComp,eGui.classList.contains("ag-tooltip")||eGui.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&eGui.classList.add("ag-tooltip-animate"),this.interactionEnabled&&eGui.classList.add("ag-tooltip-interactive");const translate=this.getLocaleTextFunc(),addPopupRes=this.popupSvc?.addPopup({eChild:eGui,ariaLabel:translate("ariaLabelTooltip","Tooltip")});if(addPopupRes&&(this.tooltipPopupDestroyFunc=addPopupRes.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const listener=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:listener,columnMoved:listener})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(eGui,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(_getDocument(this.beans),{keydown:e=>{eGui.contains(e?.target)||this.onKeyDown()}}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(eGui,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:eGui,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const tooltipGui=this.tooltipComp?.getGui(),activeEl=_getActiveDomElement(this.beans);return!!tooltipGui&&tooltipGui.contains(activeEl)}onTooltipFocusOut(e){const parentGui=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,parentGui.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const params={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...params,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...params,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const tooltipPopupDestroyFunc=this.tooltipPopupDestroyFunc,tooltipComp=this.tooltipComp,delay=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{tooltipPopupDestroyFunc(),this.destroyBean(tooltipComp)}),delay),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((listener=>{listener&&listener()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function _isShowTooltipWhenTruncated(gos){return"whenTruncated"===gos.get("tooltipShowMode")}function _shouldDisplayTooltip(getElement){return()=>{const element=getElement();return!element||element.scrollWidth>element.clientWidth}}var AgList=class extends Component{constructor(cssIdentifier="default",unFocusable=!1){super(`<div class="ag-list ag-${cssIdentifier}-list" role="listbox"></div>`),this.cssIdentifier=cssIdentifier,this.unFocusable=unFocusable,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const eGui=this.getGui();this.addManagedElementListeners(eGui,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(eGui,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const key=e.key;switch(key){case KeyCode_ENTER:if(this.highlightedEl){const pos=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(pos)}else this.setValue(this.getValue());break;case KeyCode_DOWN:case KeyCode_UP:e.preventDefault(),this.navigate(key);break;case KeyCode_PAGE_DOWN:case KeyCode_PAGE_UP:case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:e.preventDefault(),this.navigateToPage(key)}}navigate(key){const isDown=key===KeyCode_DOWN;let itemToHighlight;const{itemEls,highlightedEl}=this;if(highlightedEl){let nextPos=itemEls.indexOf(highlightedEl)+(isDown?1:-1);nextPos=Math.min(Math.max(nextPos,0),itemEls.length-1),itemToHighlight=itemEls[nextPos]}else itemToHighlight=itemEls[isDown?0:itemEls.length-1];this.highlightItem(itemToHighlight)}navigateToPage(key){const{itemEls,highlightedEl}=this;if(!highlightedEl||0===itemEls.length)return;const currentIdx=itemEls.indexOf(highlightedEl),rowCount=this.options.length-1,itemHeight=itemEls[0].clientHeight,pageSize=Math.floor(this.getGui().clientHeight/itemHeight);let newIndex=-1;key===KeyCode_PAGE_HOME?newIndex=0:key===KeyCode_PAGE_END?newIndex=rowCount:key===KeyCode_PAGE_DOWN?newIndex=Math.min(currentIdx+pageSize,rowCount):key===KeyCode_PAGE_UP&&(newIndex=Math.max(currentIdx-pageSize,0)),-1!==newIndex&&this.highlightItem(itemEls[newIndex])}addOptions(listOptions){return listOptions.forEach((listOption=>this.addOption(listOption))),this}addOption(listOption){const{value,text}=listOption,valueToRender=text||value;return this.options.push({value,text:valueToRender}),this.renderOption(value,valueToRender),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((itemEl=>{_removeFromParent(itemEl)})),this.itemEls=[]}updateIndices(){const options=this.getGui().querySelectorAll(".ag-list-item");options.forEach(((option,idx)=>{!function _setAriaPosInSet(element,position){_setAriaAttribute(element,"posinset",position)}(option,idx+1),function _setAriaSetSize(element,setsize){_setAriaAttribute(element,"setsize",setsize)}(option,options.length)}))}renderOption(value,text){const eDocument=_getDocument(this.beans),itemEl=eDocument.createElement("div");_setAriaRole(itemEl,"option"),itemEl.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const span=eDocument.createElement("span");itemEl.appendChild(span),span.textContent=text,this.unFocusable||(itemEl.tabIndex=-1),this.itemEls.push(itemEl),this.addManagedListeners(itemEl,{mouseover:()=>this.highlightItem(itemEl),mousedown:e=>{e.preventDefault(),e.stopPropagation(),this.setValue(value)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>text,getGui:()=>itemEl,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>span.scrollWidth>span.clientWidth})),this.getGui().appendChild(itemEl)}setValue(value,silent){if(this.value===value)return this.fireItemSelected(),this;if(null==value)return this.reset(silent),this;const idx=this.options.findIndex((option=>option.value===value));if(-1!==idx){const option=this.options[idx];this.value=option.value,this.displayValue=option.text,this.highlightItem(this.itemEls[idx]),silent||this.fireChangeEvent()}return this}setValueByIndex(idx){return this.setValue(this.options[idx].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const idx=this.options.findIndex((option=>option.value===this.value));-1!==idx&&this.highlightItem(this.itemEls[idx])}reset(silent){this.value=null,this.displayValue=null,this.clearHighlighted(),silent||this.fireChangeEvent()}highlightItem(el){if(!_isVisible(el))return;this.clearHighlighted(),this.highlightedEl=el,el.classList.add(this.activeClass),_setAriaSelected(el,!0);const eGui=this.getGui(),{scrollTop,clientHeight}=eGui,{offsetTop,offsetHeight}=el;(offsetTop+offsetHeight>scrollTop+clientHeight||offsetTop<scrollTop)&&el.scrollIntoView({block:"nearest"}),this.unFocusable||el.focus()}clearHighlighted(){const highlightedEl=this.highlightedEl;highlightedEl&&_isVisible(highlightedEl)&&(highlightedEl.classList.remove(this.activeClass),_setAriaSelected(highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},AgPickerField=class extends AgAbstractField{constructor(config){if(super(config,config?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',config?.agComponents||[],config?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=null,this.eWrapper=null,this.eDisplayField=null,this.eIcon=null,this.registerCSS(".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}"),this.ariaRole=config?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!config)return;const{pickerGap,maxPickerHeight,variableWidth,minPickerWidth,maxPickerWidth}=config;null!=pickerGap&&(this.pickerGap=pickerGap),this.variableWidth=!!variableWidth,null!=maxPickerHeight&&this.setPickerMaxHeight(maxPickerHeight),null!=minPickerWidth&&this.setPickerMinWidth(minPickerWidth),null!=maxPickerWidth&&this.setPickerMaxWidth(maxPickerWidth)}postConstruct(){super.postConstruct(),this.setupAria();const displayId=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",displayId);const ariaEl=this.getAriaElement();this.addManagedElementListeners(ariaEl,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon,inputWidth}=this.config;if(pickerIcon){const icon=_createIconNoSpan(pickerIcon,this.beans);icon&&this.eIcon.appendChild(icon)}null!=inputWidth&&this.setInputWidth(inputWidth)}setupAria(){const ariaEl=this.getAriaElement();ariaEl.setAttribute("tabindex",this.gos.get("tabIndex").toString()),_setAriaExpanded(ariaEl,!1),this.ariaRole&&_setAriaRole(ariaEl,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const focusableEl=this.getFocusableElement();if(focusableEl!==this.eWrapper&&e?.target===focusableEl)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case KeyCode_UP:case KeyCode_DOWN:case KeyCode_ENTER:case KeyCode_SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case KeyCode_ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const pickerGui=this.pickerComponent.getGui();pickerGui.addEventListener("focusin",this.onPickerFocusIn),pickerGui.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const ePicker=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const translate=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey,pickerAriaLabelValue,modalPicker=!0},maxPickerHeight,minPickerWidth,maxPickerWidth,variableWidth,beans,eWrapper}=this,popupParams={modal:modalPicker,eChild:ePicker,closeOnEsc:!0,closedCallback:()=>{const shouldRestoreFocus=_isNothingFocused(beans);this.beforeHidePicker(),shouldRestoreFocus&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:translate(pickerAriaLabelKey,pickerAriaLabelValue),anchorToElement:eWrapper};ePicker.style.position="absolute";const popupSvc=beans.popupSvc,addPopupRes=popupSvc.addPopup(popupParams);variableWidth?(minPickerWidth&&(ePicker.style.minWidth=minPickerWidth),ePicker.style.width=_formatSize(_getAbsoluteWidth(eWrapper)),maxPickerWidth&&(ePicker.style.maxWidth=maxPickerWidth)):_setElementWidth(ePicker,maxPickerWidth??_getAbsoluteWidth(eWrapper));const maxHeight=maxPickerHeight??`${_getInnerHeight(popupSvc.getPopupParent())}px`;return ePicker.style.setProperty("max-height",maxHeight),this.alignPickerToComponent(),addPopupRes.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap,config:{pickerType},beans:{popupSvc,gos},eWrapper,pickerComponent}=this,alignSide=gos.get("enableRtl")?"right":"left";popupSvc.positionPopupByComponent({type:pickerType,eventSource:eWrapper,ePopup:pickerComponent.getGui(),position:"under",alignSide,keepWithinBounds:!0,nudgeY:pickerGap})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const pickerGui=this.pickerComponent.getGui();pickerGui.removeEventListener("focusin",this.onPickerFocusIn),pickerGui.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(expanded){if(!this.isAlive())return;_setAriaExpanded(this.getAriaElement(),expanded);const classList=this.eWrapper.classList;classList.toggle("ag-picker-expanded",expanded),classList.toggle("ag-picker-collapsed",!expanded)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(focused){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",focused)}hidePicker(){this.hideCurrentPicker?.()}setInputWidth(width){return _setElementWidth(this.eWrapper,width),this}getFocusableElement(){return this.eWrapper}setPickerGap(gap){return this.pickerGap=gap,this}setPickerMinWidth(width){return"number"==typeof width&&(width=`${width}px`),this.minPickerWidth=null==width?void 0:width,this}setPickerMaxWidth(width){return"number"==typeof width&&(width=`${width}px`),this.maxPickerWidth=null==width?void 0:width,this}setPickerMaxHeight(height){return"number"==typeof height&&(height=`${height}px`),this.maxPickerHeight=null==height?void 0:height,this}destroy(){this.hidePicker(),super.destroy()}},AgSelect=class extends AgPickerField{constructor(config){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...config}),this.registerCSS(".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}")}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:_shouldDisplayTooltip((()=>this.eDisplayField)),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options,value,placeholder}=this.config;null!=options&&this.addOptions(options),null!=value&&this.setValue(value,!0),placeholder&&null==value&&(this.eDisplayField.textContent=placeholder),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const listComponent=this.createBean(new AgList("select",!0));this.listComponent=listComponent,listComponent.setParentComponent(this);const eListAriaEl=listComponent.getAriaElement(),listId=`ag-select-list-${listComponent.getCompId()}`;eListAriaEl.setAttribute("id",listId),function _setAriaControls(controllerElement,controlledElement){_toggleAriaAttribute(controllerElement,"controls",controlledElement.id),_setAriaLabelledBy(controlledElement,controllerElement.id)}(this.getAriaElement(),eListAriaEl),listComponent.addManagedElementListeners(listComponent.getGui(),{mousedown:e=>{e?.preventDefault()}}),listComponent.addManagedListeners(listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key}=e;switch(key===KeyCode_TAB&&this.hidePicker(),key){case KeyCode_ENTER:case KeyCode_UP:case KeyCode_DOWN:case KeyCode_PAGE_UP:case KeyCode_PAGE_DOWN:case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case KeyCode_ESCAPE:super.onKeyDown(e);break;case KeyCode_SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){const listComponent=this.listComponent;listComponent&&(super.showPicker(),listComponent.refreshHighlighted())}addOptions(options){return options.forEach((option=>this.addOption(option))),this}addOption(option){return this.listComponent.addOption(option),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(value,silent,fromPicker){const{listComponent,config:{placeholder},eDisplayField,tooltipFeature}=this;if(this.value===value||!listComponent)return this;fromPicker||listComponent.setValue(value,!0);if(listComponent.getValue()===this.getValue())return this;let displayValue=listComponent.getDisplayValue();return null==displayValue&&placeholder&&(displayValue=placeholder),eDisplayField.textContent=displayValue,tooltipFeature?.setTooltipAndRefresh(displayValue??null),super.setValue(value,silent)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},AgSelectSelector={selector:"AG-SELECT",component:AgSelect},TabGuardClassNames_TAB_GUARD="ag-tab-guard",TabGuardClassNames_TAB_GUARD_TOP="ag-tab-guard-top",TabGuardClassNames_TAB_GUARD_BOTTOM="ag-tab-guard-bottom",TabGuardCtrl=class extends BeanStub{constructor(params){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp,eTopGuard,eBottomGuard,focusTrapActive,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer,focusInnerElement,onFocusIn,onFocusOut,shouldStopEventPropagation,onTabKeyDown,handleKeyDown,isEmpty,eFocusableElement}=params;this.comp=comp,this.eTopGuard=eTopGuard,this.eBottomGuard=eBottomGuard,this.providedFocusInnerElement=focusInnerElement,this.eFocusableElement=eFocusableElement,this.focusTrapActive=!!focusTrapActive,this.forceFocusOutWhenTabGuardsAreEmpty=!!forceFocusOutWhenTabGuardsAreEmpty,this.isFocusableContainer=!!isFocusableContainer,this.providedFocusIn=onFocusIn,this.providedFocusOut=onFocusOut,this.providedShouldStopEventPropagation=shouldStopEventPropagation,this.providedOnTabKeyDown=onTabKeyDown,this.providedHandleKeyDown=handleKeyDown,this.providedIsEmpty=isEmpty}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((guard=>this.addManagedElementListeners(guard,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const tabIndex=this.gos.get("tabIndex");this.comp.setTabIndex(tabIndex.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(this.providedIsEmpty?this.providedIsEmpty():0===_findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const fromBottom=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(fromBottom):this.focusInnerElement(fromBottom))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(up){const focusableEls=_findFocusableElements(_getDocument(this.beans).body,null,!0),index=focusableEls.indexOf(up?this.eTopGuard:this.eBottomGuard);if(-1===index)return;let start,end;up?(start=0,end=index):(start=index+1,end=focusableEls.length);const focusableRange=focusableEls.slice(start,end),targetTabIndex=this.gos.get("tabIndex");focusableRange.sort(((a,b)=>{const indexA=parseInt(a.getAttribute("tabindex")||"0"),indexB=parseInt(b.getAttribute("tabindex")||"0");return indexB===targetTabIndex?1:indexA===targetTabIndex?-1:0===indexA?1:0===indexB?-1:indexA-indexB})),focusableRange[up?focusableRange.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const tabGuardsAreActive=this.tabGuardsAreActive();tabGuardsAreActive&&this.deactivateTabGuards();const nextRoot=this.getNextFocusableElement(e.shiftKey);tabGuardsAreActive&&setTimeout((()=>this.activateTabGuards()),0),nextRoot&&(nextRoot.focus(),e.preventDefault())}focusInnerElement(fromBottom=!1){const focusable=_findFocusableElements(this.eFocusableElement);return this.tabGuardsAreActive()&&(focusable.splice(0,1),focusable.splice(focusable.length-1,1)),!!focusable.length&&(focusable[fromBottom?focusable.length-1:0].focus({preventScroll:!0}),!0)}getNextFocusableElement(backwards){return _findNextFocusableElement(this.beans,this.eFocusableElement,!1,backwards)}forceFocusOutOfContainer(up=!1){if(this.forcingFocusOut)return;const tabGuardToFocus=up?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,tabGuardToFocus.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(element,bottom){return element===this.eTopGuard&&!bottom||element===this.eBottomGuard&&(bottom??!0)}setAllowFocus(allowFocus){this.allowFocus=allowFocus}},TabGuardFeature=class extends BeanStub{constructor(comp){super(),this.comp=comp}initialiseTabGuard(params){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard,eBottomGuard,eFocusableElement}=this,tabGuards=[eTopGuard,eBottomGuard],compProxy={setTabIndex:tabIndex=>{tabGuards.forEach((tabGuard=>null!=tabIndex?tabGuard.setAttribute("tabindex",tabIndex):tabGuard.removeAttribute("tabindex")))}};this.addTabGuards(eTopGuard,eBottomGuard);const{focusTrapActive=!1,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,isEmpty,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}=params;this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:compProxy,focusTrapActive,eTopGuard,eBottomGuard,eFocusableElement,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,isEmpty,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(side){const tabGuard=_getDocument(this.beans).createElement("div"),cls="top"===side?TabGuardClassNames_TAB_GUARD_TOP:TabGuardClassNames_TAB_GUARD_BOTTOM;return tabGuard.classList.add(TabGuardClassNames_TAB_GUARD,cls),_setAriaRole(tabGuard,"presentation"),tabGuard}addTabGuards(topTabGuard,bottomTabGuard){const eFocusableElement=this.eFocusableElement;eFocusableElement.insertAdjacentElement("afterbegin",topTabGuard),eFocusableElement.insertAdjacentElement("beforeend",bottomTabGuard)}removeAllChildrenExceptTabGuards(){const tabGuards=[this.eTopGuard,this.eBottomGuard];_clearElement(this.comp.getFocusableElement()),this.addTabGuards(...tabGuards)}forceFocusOutOfContainer(up=!1){this.tabGuardCtrl.forceFocusOutOfContainer(up)}appendChild(appendChild,newChild,container){_isNodeOrElement(newChild)||(newChild=newChild.getGui());const{eBottomGuard:bottomTabGuard}=this;bottomTabGuard?bottomTabGuard.insertAdjacentElement("beforebegin",newChild):appendChild(newChild,container)}destroy(){const{eFocusableElement,eTopGuard,eBottomGuard}=this;eFocusableElement.removeChild(eTopGuard),eFocusableElement.removeChild(eBottomGuard),super.destroy()}},TabGuardComp=class extends Component{initialiseTabGuard(params){this.tabGuardFeature=this.createManagedBean(new TabGuardFeature(this)),this.tabGuardFeature.initialiseTabGuard(params)}forceFocusOutOfContainer(up=!1){this.tabGuardFeature.forceFocusOutOfContainer(up)}appendChild(newChild,container){this.tabGuardFeature.appendChild(super.appendChild.bind(this),newChild,container)}},PopupComponent=class extends Component{isPopup(){return!0}setParentComponent(container){container.addCssClass("ag-has-popup"),super.setParentComponent(container)}destroy(){const parentComp=this.parentComponent;parentComp&&parentComp.isAlive()&&parentComp.getGui().classList.remove("ag-has-popup"),super.destroy()}},TouchListener=class{constructor(eElement,preventMouseClick=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new LocalEventService,this.preventMouseClick=preventMouseClick;const startListener=this.onTouchStart.bind(this),moveListener=this.onTouchMove.bind(this),endListener=this.onTouchEnd.bind(this);eElement.addEventListener("touchstart",startListener,{passive:!0}),eElement.addEventListener("touchmove",moveListener,{passive:!0}),eElement.addEventListener("touchend",endListener,{passive:!1}),this.destroyFuncs.push((()=>{eElement.removeEventListener("touchstart",startListener,{passive:!0}),eElement.removeEventListener("touchmove",moveListener,{passive:!0}),eElement.removeEventListener("touchend",endListener,{passive:!1})}))}getActiveTouch(touchList){for(let i=0;i<touchList.length;i++){if(touchList[i].identifier===this.touchStart.identifier)return touchList[i]}return null}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener)}onTouchStart(touchEvent){if(this.touching)return;this.touchStart=touchEvent.touches[0],this.touching=!0,this.moved=!1;const touchStartCopy=this.touchStart;window.setTimeout((()=>{const touchesMatch=this.touchStart===touchStartCopy;if(this.touching&&touchesMatch&&!this.moved){this.moved=!0;const event={type:"longTap",touchStart:this.touchStart,touchEvent};this.localEventService.dispatchEvent(event)}}),500)}onTouchMove(touchEvent){if(!this.touching)return;const touch=this.getActiveTouch(touchEvent.touches);if(!touch)return;!_areEventsNear(touch,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(touchEvent){if(this.touching){if(!this.moved){const event={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.checkForDoubleTap()}this.preventMouseClick&&touchEvent.cancelable&&touchEvent.preventDefault(),this.touching=!1}}checkForDoubleTap(){const now=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(now-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const event={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.lastTapTime=null}else this.lastTapTime=now}else this.lastTapTime=now}destroy(){this.destroyFuncs.forEach((func=>func()))}},VanillaFrameworkOverrides=class{constructor(frameworkName="javascript"){this.frameworkName=frameworkName,this.renderingEngine="vanilla",this.wrapIncoming=callback=>callback(),this.wrapOutgoing=callback=>callback(),this.baseDocLink=`https://www.ag-grid.com/${this.frameworkName}-data-grid`,function setValidationDocLink(docLink){baseDocLink=docLink}(this.baseDocLink)}setInterval(action,timeout){return new AgPromise((resolve=>{resolve(window.setInterval(action,timeout))}))}addEventListener(element,type,listener,options){let eventListenerOptions={};if("object"==typeof options?eventListenerOptions=options:"boolean"==typeof options&&(eventListenerOptions={capture:options}),null==eventListenerOptions.passive){const passive=getPassiveStateForEvent(type);null!=passive&&(eventListenerOptions.passive=passive)}element.addEventListener(type,listener,eventListenerOptions)}frameworkComponent(_){return null}isFrameworkComponent(_){return!1}getDocLink(path){return`${this.baseDocLink}${path?`/${path}`:""}`}};function createGridApi(context){return{beanName:"gridApi",bean:context.getBean("apiFunctionSvc").api}}var beanNamePosition=Object.fromEntries(["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"].map(((beanName,index)=>[beanName,index])));function gridBeanInitComparator(bean1,bean2){return((bean1.beanName?beanNamePosition[bean1.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((bean2.beanName?beanNamePosition[bean2.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function gridBeanDestroyComparator(bean1,bean2){return"gridDestroySvc"===bean1?.beanName?-1:0}var HeaderRowContainerComp=class extends Component{constructor(pinned){super(),this.eCenterContainer=null,this.headerRowComps={},this.rowCompsList=[],this.pinned=pinned}postConstruct(){this.selectAndSetTemplate();const compProxy={setDisplayed:displayed=>this.setDisplayed(displayed),setCtrls:ctrls=>this.setCtrls(ctrls),setCenterWidth:width=>this.eCenterContainer.style.width=width,setViewportScrollLeft:left=>this.getGui().scrollLeft=left,setPinnedContainerWidth:width=>{const eGui=this.getGui();eGui.style.width=width,eGui.style.maxWidth=width,eGui.style.minWidth=width}};this.createManagedBean(new HeaderRowContainerCtrl(this.pinned)).setComp(compProxy,this.getGui())}selectAndSetTemplate(){const pinnedLeft="left"==this.pinned,pinnedRight="right"==this.pinned,template=pinnedLeft?'<div class="ag-pinned-left-header" role="rowgroup"></div>':pinnedRight?'<div class="ag-pinned-right-header" role="rowgroup"></div>':'<div class="ag-header-viewport" role="presentation">\n        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>\n    </div>';this.setTemplate(template),this.eRowContainer=null!==this.eCenterContainer?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(rowComp){this.destroyBean(rowComp),this.eRowContainer.removeChild(rowComp.getGui())}setCtrls(ctrls){const oldRowComps=this.headerRowComps;let prevGui;this.headerRowComps={},this.rowCompsList=[];const appendEnsuringDomOrder=rowComp=>{const eGui=rowComp.getGui();eGui.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(eGui),prevGui&&_ensureDomOrder(this.eRowContainer,eGui,prevGui),prevGui=eGui};ctrls.forEach((ctrl=>{const ctrlId=ctrl.instanceId,existingComp=oldRowComps[ctrlId];delete oldRowComps[ctrlId];const rowComp=existingComp||this.createBean(new HeaderRowComp(ctrl));this.headerRowComps[ctrlId]=rowComp,this.rowCompsList.push(rowComp),appendEnsuringDomOrder(rowComp)})),Object.values(oldRowComps).forEach((c=>this.destroyRowComp(c)))}},GridHeaderSelector={selector:"AG-HEADER-ROOT",component:class extends Component{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setHeightAndMinHeight:height=>{this.getGui().style.height=height,this.getGui().style.minHeight=height}};this.createManagedBean(new GridHeaderCtrl).setComp(compProxy,this.getGui(),this.getFocusableElement());const addContainer=container=>{this.createManagedBean(container),this.appendChild(container)};addContainer(new HeaderRowContainerComp("left")),addContainer(new HeaderRowContainerComp(null)),addContainer(new HeaderRowContainerComp("right"))}}},CellComp=class extends Component{constructor(beans,cellCtrl,printLayout,eRow,editingRow){super(),this.cellCtrl=cellCtrl,this.rendererVersion=0,this.editorVersion=0,this.beans=beans,this.column=cellCtrl.column,this.rowNode=cellCtrl.rowNode,this.eRow=eRow;const cellDiv=document.createElement("div");let wrapperDiv;cellDiv.setAttribute("comp-id",`${this.getCompId()}`),this.eCell=cellDiv,cellCtrl.isCellSpanning()?(wrapperDiv=document.createElement("div"),wrapperDiv.className="ag-spanned-cell-wrapper",wrapperDiv.appendChild(cellDiv),_setAriaRole(wrapperDiv,"presentation"),this.setTemplateFromElement(wrapperDiv)):this.setTemplateFromElement(cellDiv),this.cellCssClassManager=new CssClassManager((()=>cellDiv)),this.forceWrapper=cellCtrl.isForceWrapper(),this.refreshWrapper(!1),_setAriaRole(cellDiv,cellCtrl.getCellAriaRole()),cellDiv.setAttribute("col-id",cellCtrl.colIdSanitised);const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.cellCssClassManager.addOrRemoveCssClass(cssClassName,on),setUserStyles:styles=>_addStylesToElement(cellDiv,styles),getFocusableElement:()=>cellDiv,setIncludeSelection:include=>this.includeSelection=include,setIncludeRowDrag:include=>this.includeRowDrag=include,setIncludeDndSource:include=>this.includeDndSource=include,setRenderDetails:(compDetails,valueToDisplay,force)=>this.setRenderDetails(compDetails,valueToDisplay,force),setEditDetails:(compDetails,popup,position)=>this.setEditDetails(compDetails,popup,position),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};cellCtrl.setComp(compProxy,cellDiv,wrapperDiv,this.eCellWrapper,printLayout,editingRow,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.eCell}setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const controlWrapperChanged=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),compDetails){!(forceNewCellRendererInstance||controlWrapperChanged)&&this.refreshCellRenderer(compDetails)||(this.destroyRenderer(),this.createCellRendererInstance(compDetails))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(valueToDisplay)}setEditDetails(compDetails,popup,position){compDetails?this.createCellEditorInstance(compDetails,popup,position):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(editing){const providingControls=this.includeRowDrag||this.includeDndSource||this.includeSelection,usingWrapper=providingControls||this.forceWrapper,putWrapperIn=usingWrapper&&null==this.eCellWrapper;if(putWrapperIn){const wrapperDiv=document.createElement("div");wrapperDiv.setAttribute("role","presentation"),wrapperDiv.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=wrapperDiv,this.eCell.appendChild(this.eCellWrapper)}const takeWrapperOut=!usingWrapper&&null!=this.eCellWrapper;takeWrapperOut&&(_removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssClassManager.addOrRemoveCssClass("ag-cell-value",!usingWrapper);const usingCellValue=!editing&&usingWrapper,putCellValueIn=usingCellValue&&null==this.eCellValue;if(putCellValueIn){const cellSpan=document.createElement("span");cellSpan.setAttribute("role","presentation"),cellSpan.setAttribute("class","ag-cell-value"),this.eCellValue=cellSpan,this.eCellWrapper.appendChild(this.eCellValue)}const takeCellValueOut=!usingCellValue&&null!=this.eCellValue;takeCellValueOut&&(_removeFromParent(this.eCellValue),this.eCellValue=void 0);const templateChanged=putWrapperIn||takeWrapperOut||putCellValueIn||takeCellValueOut;return templateChanged&&this.removeControls(),editing||providingControls&&this.addControls(),templateChanged}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.dndSourceComp&&this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.checkboxSelectionComp&&this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(compDetails,popup,position){const versionCopy=this.editorVersion,cellEditorPromise=compDetails.newAgStackInstance(),{params}=compDetails;cellEditorPromise.then((c=>this.afterCellEditorCreated(versionCopy,c,params,popup,position)));_missing(this.cellEditor)&&params.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(valueToDisplay){const eParent=this.getParentOfValue();_clearElement(eParent);const escapedValue=null!=valueToDisplay?_escapeString(valueToDisplay,!0):null;null!=escapedValue&&(eParent.textContent=escapedValue)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context}=this.beans;this.cellRenderer=context.destroyBean(this.cellRenderer),_removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=context.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=context.destroyBean(this.cellEditorPopupWrapper),_removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(compClassAndParams){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==compClassAndParams.componentClass)return!1;const result=this.cellRenderer.refresh(compClassAndParams.params);return!0===result||void 0===result}createCellRendererInstance(compDetails){const useTaskService=!this.beans.gos.get("suppressAnimationFrame")&&this.beans.animationFrameSvc,displayComponentVersionCopy=this.rendererVersion,{componentClass}=compDetails,createCellRendererFunc=()=>{if(this.rendererVersion!==displayComponentVersionCopy||!this.isAlive())return;const componentPromise=compDetails.newAgStackInstance(),callback=this.afterCellRendererCreated.bind(this,displayComponentVersionCopy,componentClass);componentPromise&&componentPromise.then(callback)};useTaskService&&this.firstRender?this.beans.animationFrameSvc.createTask(createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):createCellRendererFunc()}afterCellRendererCreated(cellRendererVersion,cellRendererClass,cellRenderer){if(!this.isAlive()||cellRendererVersion!==this.rendererVersion)this.beans.context.destroyBean(cellRenderer);else if(this.cellRenderer=cellRenderer,this.cellRendererClass=cellRendererClass,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const eParent=this.getParentOfValue();_clearElement(eParent),eParent.appendChild(this.cellRendererGui)}}afterCellEditorCreated(requestVersion,cellEditor,params,popup,position){if(requestVersion!==this.editorVersion)return void this.beans.context.destroyBean(cellEditor);if(cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart())return this.beans.context.destroyBean(cellEditor),void this.cellCtrl.stopEditing(!0);if(!cellEditor.getGui)return _warn(97,{colId:this.column.getId()}),void this.beans.context.destroyBean(cellEditor);this.cellEditor=cellEditor,this.cellEditorGui=cellEditor.getGui();const cellEditorInPopup=popup||void 0!==cellEditor.isPopup&&cellEditor.isPopup();cellEditorInPopup?this.addPopupCellEditor(params,position):this.addInCellEditor(),this.refreshEditStyles(!0,cellEditorInPopup),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(editing,isPopup){const{cellCssClassManager}=this;cellCssClassManager.addOrRemoveCssClass("ag-cell-inline-editing",editing&&!isPopup),cellCssClassManager.addOrRemoveCssClass("ag-cell-popup-editing",editing&&!!isPopup),cellCssClassManager.addOrRemoveCssClass("ag-cell-not-inline-editing",!editing||!!isPopup),this.cellCtrl.setInlineEditingCss()}addInCellEditor(){const{eCell}=this;if(eCell.contains(_getActiveDomElement(this.beans))&&eCell.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){this.getParentOfValue().appendChild(this.cellEditorGui)}}addPopupCellEditor(params,position){"fullRow"===this.beans.gos.get("editType")&&_warn(98);const cellEditor=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editSvc.createPopupEditorWrapper(params));const ePopupGui=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&ePopupGui.appendChild(this.cellEditorGui);const popupSvc=this.beans.popupSvc,useModelPopup=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),positionToUse=null!=position?position:cellEditor.getPopupPosition?.()??"over",isRtl=this.beans.gos.get("enableRtl"),positionParams={ePopup:ePopupGui,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:positionToUse,alignSide:isRtl?"right":"left",keepWithinBounds:!0},positionCallback=popupSvc.positionPopupByComponent.bind(popupSvc,positionParams),translate=_getLocaleTextFunc(this.beans.localeSvc),addPopupRes=popupSvc.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback,ariaLabel:translate("ariaLabelCellEditor","Cell Editor")});addPopupRes&&(this.hideEditorPopup=addPopupRes.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const{eCell}=this;eCell.contains(_getActiveDomElement(this.beans))&&eCell.focus({preventScroll:!0}),_clearElement(this.getParentOfValue())}},RowComp=class extends Component{constructor(ctrl,beans,containerType){super(),this.cellComps={},this.beans=beans,this.rowCtrl=ctrl;const rowDiv=document.createElement("div");rowDiv.setAttribute("comp-id",`${this.getCompId()}`),rowDiv.setAttribute("style",this.getInitialStyle(containerType)),this.setTemplateFromElement(rowDiv);const eGui=this.getGui(),style=eGui.style;this.domOrder=this.rowCtrl.getDomOrder(),_setAriaRole(eGui,"row");const compProxy={setDomOrder:domOrder=>this.domOrder=domOrder,setCellCtrls:cellCtrls=>this.setCellCtrls(cellCtrls),showFullWidth:compDetails=>this.showFullWidth(compDetails),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(name,on)=>this.addOrRemoveCssClass(name,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),setTop:top=>style.top=top,setTransform:transform=>style.transform=transform,setRowIndex:rowIndex=>eGui.setAttribute("row-index",rowIndex),setRowId:rowId=>eGui.setAttribute("row-id",rowId),setRowBusinessKey:businessKey=>eGui.setAttribute("row-business-key",businessKey),refreshFullWidth:getUpdatedParams=>this.fullWidthCellRenderer?.refresh?.(getUpdatedParams())??!1};ctrl.setComp(compProxy,this.getGui(),containerType,void 0),this.addDestroyFunc((()=>{ctrl.unsetComp(containerType)}))}getInitialStyle(containerType){const transform=this.rowCtrl.getInitialTransform(containerType);return transform?`transform: ${transform}`:`top: ${this.rowCtrl.getInitialRowTop(containerType)}`}showFullWidth(compDetails){compDetails.newAgStackInstance().then((cellRenderer=>{if(this.isAlive()){const eGui=cellRenderer.getGui();this.getGui().appendChild(eGui),this.rowCtrl.setupDetailRowAutoHeight(eGui),this.setFullWidthRowComp(cellRenderer)}else this.beans.context.destroyBean(cellRenderer)}))}setCellCtrls(cellCtrls){const cellsToRemove=Object.assign({},this.cellComps);cellCtrls.forEach((cellCtrl=>{const key=cellCtrl.instanceId;null==this.cellComps[key]?this.newCellComp(cellCtrl):cellsToRemove[key]=null})),this.destroyCells(Object.values(cellsToRemove)),this.ensureDomOrder(cellCtrls)}ensureDomOrder(cellCtrls){if(!this.domOrder)return;const elementsInOrder=[];cellCtrls.forEach((cellCtrl=>{const cellComp=this.cellComps[cellCtrl.instanceId];cellComp&&elementsInOrder.push(cellComp.getGui())})),_setDomChildOrder(this.getGui(),elementsInOrder)}newCellComp(cellCtrl){const cellComp=new CellComp(this.beans,cellCtrl,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps[cellCtrl.instanceId]=cellComp,this.getGui().appendChild(cellComp.getGui())}destroy(){super.destroy(),this.destroyCells(Object.values(this.cellComps))}setFullWidthRowComp(fullWidthRowComponent){this.fullWidthCellRenderer=fullWidthRowComponent,this.addDestroyFunc((()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)}))}destroyCells(cellComps){cellComps.forEach((cellComp=>{if(!cellComp)return;const instanceId=cellComp.cellCtrl.instanceId;this.cellComps[instanceId]===cellComp&&(cellComp.detach(),cellComp.destroy(),this.cellComps[instanceId]=null)}))}};function templateFactory(name,options,beans){const isCellSpanning=!!beans.gos.get("enableCellSpan")&&!!options.getSpannedRowCtrls,eContainerTemplate=`<div class="${_getRowContainerClass(name)}" data-ref="eContainer" role="rowgroup"></div>`;if("center"===options.type||isCellSpanning){const spannedCellsContainerClass=function _getRowSpanContainerClass(name){return`ag-${_getRowContainerOptions(name).name}-spanned-cells-container`}(name);return`<div class="ag-viewport ${_getRowViewportClass(name)}" data-ref="eViewport" role="presentation">\n                ${eContainerTemplate}\n                ${isCellSpanning?`<div class="ag-spanning-container ${spannedCellsContainerClass}" data-ref="eSpannedContainer" role="rowgroup"></div>`:""}\n            </div>`}return eContainerTemplate}var RowContainerSelector={selector:"AG-ROW-CONTAINER",component:class extends Component{constructor(params){super(),this.eViewport=null,this.eContainer=null,this.eSpannedContainer=null,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=params?.name,this.options=_getRowContainerOptions(this.name)}postConstruct(){this.setTemplate(templateFactory(this.name,this.options,this.beans));const compProxy={setHorizontalScroll:offset=>this.eViewport.scrollLeft=offset,setViewportHeight:height=>this.eViewport.style.height=height,setRowCtrls:({rowCtrls})=>this.setRowCtrls(rowCtrls),setSpannedRowCtrls:rowCtrls=>this.setRowCtrls(rowCtrls,!0),setDomOrder:domOrder=>{this.domOrder=domOrder},setContainerWidth:width=>{this.eContainer.style.width=width,this.eSpannedContainer&&(this.eSpannedContainer.style.width=width)},setOffsetTop:offset=>{const top=`translateY(${offset})`;this.eContainer.style.transform=top,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=top)}};this.createManagedBean(new RowContainerCtrl(this.name)).setComp(compProxy,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(rowCtrls,spanContainer){const{beans,options}=this,container=spanContainer?this.eSpannedContainer:this.eContainer,oldRows=spanContainer?{...this.rowCompsWithSpan}:{...this.rowCompsNoSpan},newComps={};spanContainer?this.rowCompsWithSpan=newComps:this.rowCompsNoSpan=newComps,this.lastPlacedElement=null;const orderedRows=[];for(const rowCtrl of rowCtrls){const instanceId=rowCtrl.instanceId,existingRowComp=oldRows[instanceId];let rowComp;if(existingRowComp)rowComp=existingRowComp,delete oldRows[instanceId];else{if(!rowCtrl.rowNode.displayed)continue;rowComp=new RowComp(rowCtrl,beans,options.type)}newComps[instanceId]=rowComp,orderedRows.push([rowComp,!existingRowComp])}this.removeOldRows(Object.values(oldRows),container),this.addRowNodes(orderedRows,container)}addRowNodes(rows,container){const{domOrder}=this;for(const[rowComp,isNew]of rows){const eGui=rowComp.getGui();domOrder?this.ensureDomOrder(eGui,container):isNew&&container.appendChild(eGui)}}removeOldRows(rowComps,container){for(const oldRowComp of rowComps)container.removeChild(oldRowComp.getGui()),oldRowComp.destroy()}ensureDomOrder(eRow,container){_ensureDomOrder(container,eRow,this.lastPlacedElement),this.lastPlacedElement=eRow}}};function makeRowContainers(paramsMap,names){return names.map((name=>{const refName=`e${name[0].toUpperCase()+name.substring(1)}RowContainer`;return paramsMap[refName]={name},`<ag-row-container name="${name}" data-ref="${refName}"></ag-row-container>`})).join("")}var GridBodySelector={selector:"AG-GRID-BODY",component:class extends Component{constructor(){super(...arguments),this.eGridRoot=null,this.eBodyViewport=null,this.eStickyTop=null,this.eStickyBottom=null,this.eTop=null,this.eBottom=null,this.eBody=null}postConstruct(){const{overlays,rangeSvc}=this.beans,overlaySelector=overlays?.getOverlayWrapperSelector(),{paramsMap,template}=function getGridBodyTemplate(includeOverlay){const paramsMap={};return{paramsMap,template:`<div class="ag-root ag-unselectable" data-ref="eGridRoot">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            ${makeRowContainers(paramsMap,["topLeft","topCenter","topRight","topFullWidth"])}\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ${makeRowContainers(paramsMap,["left","center","right","fullWidth"])}\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ${makeRowContainers(paramsMap,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ${makeRowContainers(paramsMap,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ${makeRowContainers(paramsMap,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        ${includeOverlay?"<ag-overlay-wrapper></ag-overlay-wrapper>":""}\n    </div>`}}(!!overlaySelector);this.setTemplate(template,[...overlaySelector?[overlaySelector]:[],FakeHScrollSelector,FakeVScrollSelector,GridHeaderSelector,RowContainerSelector],paramsMap);const setHeight=(height,element)=>{const heightString=`${height}px`;element.style.minHeight=heightString,element.style.height=heightString},compProxy={setRowAnimationCssOnBodyViewport:(cssClass,animate)=>this.setRowAnimationCssOnBodyViewport(cssClass,animate),setColumnCount:count=>function _setAriaColCount(element,colCount){_setAriaAttribute(element,"colcount",colCount)}(this.getGui(),count),setRowCount:count=>function _setAriaRowCount(element,rowCount){_setAriaAttribute(element,"rowcount",rowCount)}(this.getGui(),count),setTopHeight:height=>setHeight(height,this.eTop),setBottomHeight:height=>setHeight(height,this.eBottom),setTopDisplay:display=>this.eTop.style.display=display,setBottomDisplay:display=>this.eBottom.style.display=display,setStickyTopHeight:height=>this.eStickyTop.style.height=height,setStickyTopTop:top=>this.eStickyTop.style.top=top,setStickyTopWidth:width=>this.eStickyTop.style.width=width,setStickyBottomHeight:height=>{this.eStickyBottom.style.height=height,this.eStickyBottom.classList.toggle("ag-invisible","0px"===height)},setStickyBottomBottom:bottom=>this.eStickyBottom.style.bottom=bottom,setStickyBottomWidth:width=>this.eStickyBottom.style.width=width,setColumnMovingCss:(cssClass,flag)=>this.addOrRemoveCssClass(cssClass,flag),updateLayoutClasses:(cssClass,params)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach((classList=>{classList.toggle(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),classList.toggle(LayoutCssClasses.NORMAL,params.normal),classList.toggle(LayoutCssClasses.PRINT,params.print)})),this.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),this.addOrRemoveCssClass(LayoutCssClasses.NORMAL,params.normal),this.addOrRemoveCssClass(LayoutCssClasses.PRINT,params.print)},setAlwaysVerticalScrollClass:(cssClass,on)=>this.eBodyViewport.classList.toggle("ag-force-vertical-scroll",on),registerBodyViewportResizeListener:listener=>{const unsubscribeFromResize=_observeResize(this.beans,this.eBodyViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))},setPinnedTopBottomOverflowY:overflow=>this.eTop.style.overflowY=this.eBottom.style.overflowY=overflow,setCellSelectableCss:(cssClass,selectable)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach((ct=>ct.classList.toggle(cssClass,selectable)))},setBodyViewportWidth:width=>this.eBodyViewport.style.width=width,setGridRootRole:role=>_setAriaRole(this.eGridRoot,role)};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(compProxy,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(rangeSvc&&_isCellSelectionEnabled(this.gos)||_isMultiRowSelection(this.gos))&&function _setAriaMultiSelectable(element,multiSelectable){_setAriaAttribute(element,"multiselectable",multiSelectable)}(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(cssClass,animateRows){const bodyViewportClassList=this.eBodyViewport.classList;bodyViewportClassList.toggle("ag-row-animation",animateRows),bodyViewportClassList.toggle("ag-row-no-animation",!animateRows)}}},GridCtrl=class extends BeanStub{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(view,eGridDiv,eGui){this.view=view,this.eGridHostDiv=eGridDiv,this.eGui=eGui,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop,ctrlsSvc}=this.beans;dragAndDrop?.registerGridDropTarget((()=>this.eGui),this),_stampTopLevelGridCompWithGridInstance(this.gos,eGridDiv),this.createManagedBean(new LayoutFeature(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const unsubscribeFromResize=_observeResize(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>unsubscribeFromResize())),ctrlsSvc.register("gridCtrl",this)}isDetailGrid(){const el=_findTabbableParent(this.getGui());return el?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const beans=this.beans;return{paginationSelector:beans.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:beans.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:beans.sideBar?.getSelector(),statusBarSelector:beans.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:beans.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(on){this.view.setCursor(on?"ew-resize":null)}disableUserSelect(on){this.view.setUserSelect(on?"none":null)}focusNextInnerContainer(backwards){const focusableContainers=this.getFocusableContainers(),{indexWithFocus,nextIndex}=this.getNextFocusableIndex(focusableContainers,backwards);if(nextIndex<0||nextIndex>=focusableContainers.length)return!1;if(0===nextIndex){if(indexWithFocus>0){const{visibleCols,focusSvc}=this.beans,lastColumn=_last(visibleCols.allCols);if(focusSvc.focusGridView({column:lastColumn,backwards:!0}))return!0}return!1}return this.focusContainer(focusableContainers[nextIndex],backwards)}focusInnerElement(fromBottom){const userCallbackFunction=this.gos.getCallback("focusGridInnerElement");if(userCallbackFunction&&userCallbackFunction({fromBottom:!!fromBottom}))return!0;const focusableContainers=this.getFocusableContainers(),{focusSvc,visibleCols}=this.beans,allColumns=visibleCols.allCols;if(fromBottom){if(focusableContainers.length>1)return this.focusContainer(_last(focusableContainers),fromBottom);const lastColumn=_last(allColumns);if(focusSvc.focusGridView({column:lastColumn,backwards:fromBottom}))return!0}if(0===this.gos.get("headerHeight")||_isHeaderFocusSuppressed(this.beans)){if(focusSvc.focusGridView({column:allColumns[0],backwards:fromBottom}))return!0;for(let i=1;i<focusableContainers.length;i++)if(_focusInto(focusableContainers[i].getGui(),fromBottom))return!0;return!1}return focusSvc.focusFirstHeader()}forceFocusOutOfContainer(up=!1){this.view.forceFocusOutOfContainer(up)}addFocusableContainer(container){this.additionalFocusableContainers.add(container)}removeFocusableContainer(container){this.additionalFocusableContainers.delete(container)}allowFocusForNextCoreContainer(up){const coreContainers=this.view.getFocusableContainers(),{nextIndex,indexWithFocus}=this.getNextFocusableIndex(coreContainers,up);if(-1===indexWithFocus||nextIndex<0||nextIndex>=coreContainers.length)return;const comp=coreContainers[nextIndex];comp.setAllowFocus?.(!0),setTimeout((()=>{comp.setAllowFocus?.(!1)}))}isFocusable(){const beans=this.beans;return!_isCellFocusSuppressed(beans)||!_isHeaderFocusSuppressed(beans)||!!beans.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(focusableContainers,backwards){const activeEl=_getActiveDomElement(this.beans),indexWithFocus=focusableContainers.findIndex((container=>container.getGui().contains(activeEl)));return{indexWithFocus,nextIndex:indexWithFocus+(backwards?-1:1)}}focusContainer(comp,up){comp.setAllowFocus?.(!0);const result=_focusInto(comp.getGui(),up,!1,!0);return comp.setAllowFocus?.(!1),result}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},GridComp=class extends TabGuardComp{constructor(eGridDiv){super(),this.gridBody=null,this.sideBar=null,this.pagination=null,this.rootWrapperBody=null,this.eGridDiv=eGridDiv}postConstruct(){const compProxy={destroyGridUi:()=>this.destroyBean(this),setRtlClass:cssClass=>this.addCssClass(cssClass),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:value=>{this.getGui().style.userSelect=null!=value?value:"",this.getGui().style.webkitUserSelect=null!=value?value:""},setCursor:value=>{this.getGui().style.cursor=null!=value?value:""}},ctrl=this.createManagedBean(new GridCtrl),comps=ctrl.getOptionalSelectors(),template=this.createTemplate(comps),requiredComps=[GridBodySelector,...Object.values(comps).filter((c=>!!c))];this.setTemplate(template,requiredComps),ctrl.setComp(compProxy,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:fromBottom=>ctrl.focusInnerElement(fromBottom),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!ctrl.isFocusable()})}insertGridIntoDom(){const eGui=this.getGui();this.eGridDiv.appendChild(eGui),this.addDestroyFunc((()=>{this.eGridDiv.removeChild(eGui),_logIfDebug(this.gos,"Grid removed from DOM")}))}updateLayoutClasses(cssClass,params){const eRootWrapperBodyClassList=this.rootWrapperBody.classList,{AUTO_HEIGHT,NORMAL,PRINT}=LayoutCssClasses,{autoHeight,normal,print}=params;eRootWrapperBodyClassList.toggle(AUTO_HEIGHT,autoHeight),eRootWrapperBodyClassList.toggle(NORMAL,normal),eRootWrapperBodyClassList.toggle(PRINT,print),this.addOrRemoveCssClass(AUTO_HEIGHT,autoHeight),this.addOrRemoveCssClass(NORMAL,normal),this.addOrRemoveCssClass(PRINT,print)}createTemplate(params){const dropZones=params.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",sideBar=params.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",statusBar=params.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",watermark=params.watermarkSelector?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">\n                ${dropZones}\n                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body data-ref="gridBody"></ag-grid-body>\n                    ${sideBar}\n                </div>\n                ${statusBar}\n                ${params.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':""}\n                ${watermark}\n            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(up=!1){up||!this.pagination?.isDisplayed()?super.forceFocusOutOfContainer(up):this.pagination.forceFocusOutOfContainer(up)}getFocusableContainers(){const focusableContainers=[this.gridBody];return[this.sideBar,this.pagination].forEach((comp=>{comp&&focusableContainers.push(comp)})),focusableContainers.filter((el=>_isVisible(el.getGui())))}},mod=(moduleName,input)=>{for(const key of Object.keys(input))input[key]=moduleName;return input},gridApiFunctionsMap={dispatchEvent:"CommunityCore",...mod("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...mod("GridState",{getState:0}),...mod("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...mod("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...mod("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...mod("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...mod("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...mod("ValueCache",{expireValueCache:0}),...mod("CellApi",{getCellValue:0}),...mod("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...mod("Sort",{onSortChanged:0}),...mod("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...mod("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...mod("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...mod("HighlightChanges",{flashCells:0}),...mod("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...mod("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...mod("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...mod("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...mod("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...mod("ColumnResize",{setColumnWidths:0}),...mod("ColumnHover",{isColumnHovered:0}),...mod("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...mod("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...mod("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...mod("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...mod("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...mod("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...mod("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...mod("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...mod("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...mod("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...mod("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...mod("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...mod("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...mod("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...mod("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...mod("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...mod("ContextMenu",{showContextMenu:0}),...mod("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...mod("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...mod("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...mod("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...mod("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...mod("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...mod("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...mod("StatusBar",{getStatusPanel:0})},defaultFns={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dispatchEvent=(beans,event)=>beans.eventSvc.dispatchEvent(event),GridApiClass=class{};Reflect.defineProperty(GridApiClass,"name",{value:"GridApi"});function updateGridOptions(beans,options){beans.gos.updateGridOptions({options})}var RowDragComp=class extends Component{constructor(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){super(),this.cellValueFn=cellValueFn,this.rowNode=rowNode,this.column=column,this.customGui=customGui,this.dragStartPixels=dragStartPixels,this.suppressVisibilityChange=suppressVisibilityChange,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){const{beans,rowNode,column,gos}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_createIconNoSpan("rowDrag",beans,null)),this.addDragSource()),!this.suppressVisibilityChange){const strategy=gos.get("rowDragManaged")?new ManagedVisibilityStrategy(this,rowNode,column):new NonManagedVisibilityStrategy(this,rowNode,column);this.createManagedBean(strategy,this.beans.context)}}setDragElement(dragElement,dragStartPixels){this.setTemplateFromElement(dragElement,void 0,void 0,!0),this.addDragSource(dragStartPixels)}getSelectedNodes(){const rowNode=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[rowNode];const selection=this.beans.selectionSvc?.getSelectedNodes()??[];return-1!==selection.indexOf(rowNode)?selection:[rowNode]}getDragItem(){const{column,rowNode}=this;return{rowNode,rowNodes:this.getSelectedNodes(),columns:column?[column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(column){if(column){const colDef=column.getColDef();if(colDef.rowDragText)return colDef.rowDragText}return this.gos.get("rowDragText")}addDragSource(dragStartPixels=4){this.dragSource&&this.removeDragSource();const eGui=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(eGui,{mousedown:e=>{e?.preventDefault()}})[0]);const translate=this.getLocaleTextFunc();this.dragSource={type:2,eElement:eGui,dragItemName:()=>{const dragItem=this.getDragItem(),dragItemCount=dragItem.rowNodes?.length||1,rowDragText=this.getRowDragText(this.column);return rowDragText?rowDragText(dragItem,dragItemCount):1===dragItemCount?this.cellValueFn():`${dragItemCount} ${translate("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VisibilityStrategy=class extends BeanStub{constructor(parent,rowNode,column){super(),this.parent=parent,this.rowNode=rowNode,this.column=column}setDisplayedOrVisible(neverDisplayed){const displayedOptions={skipAriaHidden:!0};if(neverDisplayed)this.parent.setDisplayed(!1,displayedOptions);else{let shown=!0,isShownSometimes=!1;const{column,rowNode,parent}=this;column&&(shown=column.isRowDrag(rowNode)||parent.isCustomGui(),isShownSometimes="function"==typeof column.getColDef().rowDrag),isShownSometimes?(parent.setDisplayed(!0,displayedOptions),parent.setVisible(shown,displayedOptions)):(parent.setDisplayed(shown,displayedOptions),parent.setVisible(!0,displayedOptions))}}},NonManagedVisibilityStrategy=class extends VisibilityStrategy{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:listener}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const neverDisplayed=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(neverDisplayed)}},ManagedVisibilityStrategy=class extends VisibilityStrategy{postConstruct(){const listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:listener,filterChanged:listener,columnRowGroupChanged:listener,newColumnsLoaded:listener}),this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc,dragAndDrop,gos}=this.beans,rowDragFeature=rowDragSvc.rowDragFeature,shouldPreventRowMove=rowDragFeature&&rowDragFeature.shouldPreventRowMove(),suppressRowDrag=gos.get("suppressRowDrag"),hasExternalDropZones=dragAndDrop.hasExternalDropZones(),neverDisplayed=shouldPreventRowMove&&!hasExternalDropZones||suppressRowDrag;this.setDisplayedOrVisible(neverDisplayed)}},DragModule={moduleName:"Drag",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources}=this;dragSources.forEach(this.removeListener.bind(this)),dragSources.length=0,super.destroy()}removeListener(dragSourceAndListener){const element=dragSourceAndListener.dragSource.eElement,mouseDownListener=dragSourceAndListener.mouseDownListener;if(element.removeEventListener("mousedown",mouseDownListener),dragSourceAndListener.touchEnabled){const touchStartListener=dragSourceAndListener.touchStartListener;element.removeEventListener("touchstart",touchStartListener,{passive:!0})}}removeDragSource(params){const{dragSources}=this,dragSourceAndListener=dragSources.find((item=>item.dragSource===params));dragSourceAndListener&&(this.removeListener(dragSourceAndListener),_removeFromArray(dragSources,dragSourceAndListener))}addDragSource(params){const mouseListener=this.onMouseDown.bind(this,params),{eElement,includeTouch,stopPropagationForTouch}=params;eElement.addEventListener("mousedown",mouseListener);let touchListener=null;const suppressTouch=this.gos.get("suppressTouch");includeTouch&&!suppressTouch&&(touchListener=touchEvent=>{_isFocusableFormField(touchEvent.target)||(stopPropagationForTouch&&touchEvent.stopPropagation(),this.onTouchStart(params,touchEvent))},eElement.addEventListener("touchstart",touchListener,{passive:!1})),this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:!!includeTouch})}onTouchStart(params,touchEvent){this.currentDragParams=params,this.dragging=!1;const touch=touchEvent.touches[0];this.touchLastTime=touch,this.touchStart=touch;const touchEndEvent=e=>this.onTouchUp(e,params.eElement),target=touchEvent.target,events=[{target:_getRootNode(this.beans),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target,type:"touchmove",listener:e=>this.onTouchMove(e,params.eElement),options:{passive:!0}},{target,type:"touchend",listener:touchEndEvent,options:{passive:!0}},{target,type:"touchcancel",listener:touchEndEvent,options:{passive:!0}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onCommonMove(touch,this.touchStart,params.eElement)}onMouseDown(params,mouseEvent){const e=mouseEvent;if(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent))return;if(e._alreadyProcessedByDragService)return;if(e._alreadyProcessedByDragService=!0,0!==mouseEvent.button)return;this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.currentDragParams=params,this.dragging=!1,this.mouseStartEvent=mouseEvent,this.startTarget=mouseEvent.target;const target=_getRootNode(this.beans),events=[{target,type:"mousemove",listener:event=>this.onMouseMove(event,params.eElement)},{target,type:"mouseup",listener:event=>this.onMouseUp(event,params.eElement)},{target,type:"contextmenu",listener:event=>event.preventDefault()},{target,type:"keydown",listener:event=>{event.key===KeyCode_ESCAPE&&this.cancelDrag(params.eElement)}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onMouseMove(mouseEvent,params.eElement)}addTemporaryEvents(events){events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.addEventListener(type,listener,options)})),this.dragEndFunctions.push((()=>{events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.removeEventListener(type,listener,options)}))}))}isEventNearStartEvent(currentEvent,startEvent){const{dragStartPixels}=this.currentDragParams;return _areEventsNear(currentEvent,startEvent,_exists(dragStartPixels)?dragStartPixels:4)}getFirstActiveTouch(touchList){for(let i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null}onCommonMove(currentEvent,startEvent,el){if(!this.dragging){if(this.isEventNearStartEvent(currentEvent,startEvent))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:el}),this.currentDragParams.onDragStart(startEvent),!this.currentDragParams)return void(this.dragging=!1);this.currentDragParams.onDragging(startEvent)}this.currentDragParams?.onDragging(currentEvent)}onTouchMove(touchEvent,el){const touch=this.getFirstActiveTouch(touchEvent.touches);touch&&this.onCommonMove(touch,this.touchStart,el)}onMouseMove(mouseEvent,el){if(_isBrowserSafari()){const eDocument=_getDocument(this.beans);eDocument.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.onCommonMove(mouseEvent,this.mouseStartEvent,el)}shouldPreventMouseEvent(mouseEvent){const{gos}=this,isEnableCellTextSelect=gos.get("enableCellTextSelection"),isMouseMove="mousemove"===mouseEvent.type;return isEnableCellTextSelect&&isMouseMove&&mouseEvent.cancelable&&_isEventFromThisGrid(gos,mouseEvent)&&!(mouseEvent2=>{const el=mouseEvent2.target,tagName=el?.tagName.toLocaleLowerCase();return!!tagName?.match("^a$|textarea|input|select|button")})(mouseEvent)}onTouchUp(touchEvent,el){let touch=this.getFirstActiveTouch(touchEvent.changedTouches);touch||(touch=this.touchLastTime),this.onUpCommon(touch,el)}onMouseUp(mouseEvent,el){this.onUpCommon(mouseEvent,el)}onUpCommon(eventOrTouch,el){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(eventOrTouch),this.eventSvc.dispatchEvent({type:"dragStopped",target:el})),this.resetDragProperties()}cancelDrag(el){this.eventSvc.dispatchEvent({type:"dragCancelled",target:el}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions}=this;dragEndFunctions.forEach((func=>func())),dragEndFunctions.length=0}}]},DragAndDropModule={moduleName:"DragAndDrop",version:VERSION,dynamicBeans:{dndSourceComp:class extends Component{constructor(rowNode,column,eCell){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=rowNode,this.column=column,this.eCell=eCell}postConstruct(){this.getGui().appendChild(_createIconNoSpan("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(dragEvent){const{rowNode,column,eCell,gos}=this,providedOnRowDrag=column.getColDef().dndSourceOnRowDrag,dataTransfer=dragEvent.dataTransfer;if(dataTransfer.setDragImage(eCell,0,0),providedOnRowDrag){providedOnRowDrag(_addGridCommonParams(gos,{rowNode,dragEvent}))}else try{const jsonData=JSON.stringify(rowNode.data);dataTransfer.setData("application/json",jsonData),dataTransfer.setData("text/plain",jsonData)}catch(e){}}checkVisibility(){const visible=this.column.isDndSource(this.rowNode);this.setDisplayed(visible)}}},icons:{rowDrag:"grip"}},SharedDragAndDropModule={moduleName:"SharedDragAndDrop",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.dragSvc=beans.dragSvc,this.environment=beans.environment,this.userCompFactory=beans.userCompFactory}addDragSource(dragSource,allowTouch=!1){const params={eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:allowTouch};this.dragSourceAndParamsList.push({params,dragSource}),this.dragSvc.addDragSource(params)}getDragAndDropImageComponent(){const{dragAndDropImageComp}=this;return dragAndDropImageComp&&dragAndDropImageComp.comp?dragAndDropImageComp.comp:null}removeDragSource(dragSource){const{dragSourceAndParamsList,dragSvc}=this,sourceAndParams=dragSourceAndParamsList.find((item=>item.dragSource===dragSource));sourceAndParams&&(dragSvc.removeDragSource(sourceAndParams.params),_removeFromArray(dragSourceAndParamsList,sourceAndParams))}destroy(){const{dragSourceAndParamsList,dragSvc,dropTargets}=this;dragSourceAndParamsList.forEach((sourceAndParams=>dragSvc.removeDragSource(sourceAndParams.params))),dragSourceAndParamsList.length=0,dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragItem=dragSource.getDragItem(),dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(mouseEvent){this.dragSource?.onDragStopped?.();const{lastDropTarget}=this;if(lastDropTarget?.onDragStop){const draggingEvent=this.createDropTargetEvent(lastDropTarget,mouseEvent,null,null,!1);lastDropTarget.onDragStop(draggingEvent)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource,lastDropTarget}=this;dragSource?.onDragCancelled?.(),lastDropTarget?.onDragCancel&&lastDropTarget.onDragCancel(this.createDropTargetEvent(lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(mouseEvent,fromNudge=!1){const hDirection=this.getHorizontalDirection(mouseEvent),vDirection=this.getVerticalDirection(mouseEvent);this.eventLastTime=mouseEvent,this.positionDragAndDropImageComp(mouseEvent);const validDropTargets=this.dropTargets.filter((target=>this.isMouseOnDropTarget(mouseEvent,target))),dropTarget=this.findCurrentDropTarget(mouseEvent,validDropTargets),{lastDropTarget,dragSource,dragAndDropImageComp,dragItem}=this;if(dropTarget!==lastDropTarget){if(this.leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge),null!==lastDropTarget&&null===dropTarget&&dragSource?.onGridExit?.(dragItem),null===lastDropTarget&&null!==dropTarget&&dragSource?.onGridEnter?.(dragItem),this.enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge),dropTarget&&dragAndDropImageComp){const{comp,promise}=dragAndDropImageComp;comp?comp.setIcon(dropTarget.getIconName?dropTarget.getIconName():null,!1):promise.then((resolvedComponent=>{resolvedComponent&&resolvedComponent.setIcon(dropTarget.getIconName?dropTarget.getIconName():null,!1)}))}this.lastDropTarget=dropTarget}else if(dropTarget&&dropTarget.onDragging){const draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragging(draggingEvent)}}getAllContainersFromDropTarget(dropTarget){const secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null,containers=[[dropTarget.getContainer()]];return secondaryContainers?containers.concat(secondaryContainers):containers}isMouseOnDropTarget(mouseEvent,dropTarget){const allContainersFromDropTarget=this.getAllContainersFromDropTarget(dropTarget);let mouseOverTarget=!1;const allContainersIntersect=(mouseEvent2,containers)=>{for(const container of containers){const{width,height,left,right,top,bottom}=container.getBoundingClientRect();if(0===width||0===height)return!1;const horizontalFit=mouseEvent2.clientX>=left&&mouseEvent2.clientX<right,verticalFit=mouseEvent2.clientY>=top&&mouseEvent2.clientY<bottom;if(!horizontalFit||!verticalFit)return!1}return!0};for(const currentContainers of allContainersFromDropTarget)if(allContainersIntersect(mouseEvent,currentContainers)){mouseOverTarget=!0;break}const{eElement,type}=this.dragSource;return!(dropTarget.targetContainsSource&&!dropTarget.getContainer().contains(eElement))&&(mouseOverTarget&&dropTarget.isInterestedIn(type,eElement))}findCurrentDropTarget(mouseEvent,validDropTargets){const len=validDropTargets.length;if(0===len)return null;if(1===len)return validDropTargets[0];const elementStack=_getRootNode(this.beans).elementsFromPoint(mouseEvent.clientX,mouseEvent.clientY);for(const el of elementStack)for(const dropTarget of validDropTargets){if(-1!==this.getAllContainersFromDropTarget(dropTarget).flatMap((a=>a)).indexOf(el))return dropTarget}return null}enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge){if(dropTarget&&dropTarget.onDragEnter){const dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragEnter(dragEnterEvent)}}leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge){const{lastDropTarget}=this;if(!lastDropTarget)return;if(lastDropTarget.onDragLeave){const dragLeaveEvent=this.createDropTargetEvent(lastDropTarget,mouseEvent,hDirection,vDirection,fromNudge);lastDropTarget.onDragLeave(dragLeaveEvent)}const dragAndDropImageComponent=this.getDragAndDropImageComponent();dragAndDropImageComponent&&dragAndDropImageComponent.setIcon(null,!1)}addDropTarget(dropTarget){this.dropTargets.push(dropTarget)}removeDropTarget(dropTarget){this.dropTargets=this.dropTargets.filter((target=>target.getContainer()!==dropTarget.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((zones=>zones.external))}findExternalZone(params){return this.dropTargets.filter((target=>target.external)).find((zone=>zone.getContainer()===params.getContainer()))||null}isDropZoneWithinThisGrid(draggingEvent){const gridGui=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget}=draggingEvent;return gridGui.contains(dropZoneTarget)}getHorizontalDirection(event){const clientX=this.eventLastTime?.clientX,eClientX=event.clientX;return clientX===eClientX?null:clientX>eClientX?"left":"right"}getVerticalDirection(event){const clientY=this.eventLastTime?.clientY,eClientY=event.clientY;return clientY===eClientY?null:clientY>eClientY?"up":"down"}createDropTargetEvent(dropTarget,event,hDirection,vDirection,fromNudge){const dropZoneTarget=dropTarget.getContainer(),rect=dropZoneTarget.getBoundingClientRect(),{dragItem,dragSource,gos}=this;return _addGridCommonParams(gos,{event,x:event.clientX-rect.left,y:event.clientY-rect.top,vDirection,hDirection,dragSource,fromNudge,dragItem,dropZoneTarget})}positionDragAndDropImageComp(event){const dragAndDropImageComponent=this.getDragAndDropImageComponent();dragAndDropImageComponent&&_anchorElementToMouseMoveEvent(dragAndDropImageComponent.getGui(),event,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp}=this;if(dragAndDropImageComp){const{comp}=dragAndDropImageComp;if(comp){const eGui=comp.getGui();this.dragAndDropImageParent?.removeChild(eGui),this.destroyBean(comp)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource,gos,userCompFactory}=this;if(!dragSource)return;const userCompDetails=function _getDragAndDropImageCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(DragAndDropImageComponent,"agDragAndDropImage",params,!0)}(userCompFactory,_addGridCommonParams(gos,{dragSource}));if(!userCompDetails)return;const promise=userCompDetails.newAgStackInstance();this.dragAndDropImageComp={promise},promise.then((comp=>{comp&&this.isAlive()&&(this.processDragAndDropImageComponent(comp),this.dragAndDropImageComp.comp=comp)}))}processDragAndDropImageComponent(dragAndDropImageComponent){const{dragSource,environment}=this;if(!dragSource)return;const eGui=dragAndDropImageComponent.getGui();eGui.style.setProperty("position","absolute"),eGui.style.setProperty("z-index","9999"),_stampTopLevelGridCompWithGridInstance(this.gos,eGui),environment.applyThemeClasses(eGui),dragAndDropImageComponent.setIcon(null,!1);let{dragItemName}=dragSource;"function"==typeof dragItemName&&(dragItemName=dragItemName()),dragAndDropImageComponent.setLabel(dragItemName||""),eGui.style.top="20px",eGui.style.left="20px";const targetEl=_getPageBody(this.beans);this.dragAndDropImageParent=targetEl,targetEl?targetEl.appendChild(eGui):_warn(54)}registerGridDropTarget(elementFn,ctrl){const dropTarget={getContainer:elementFn,isInterestedIn:type=>1===type||0===type,getIconName:()=>"notAllowed"};this.addDropTarget(dropTarget),ctrl.addDestroyFunc((()=>this.removeDropTarget(dropTarget)))}}],dependsOn:[DragModule],userComponents:{agDragAndDropImage:class extends Component{constructor(){super(),this.dragSource=null,this.eIcon=null,this.eLabel=null,this.registerCSS(".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}")}postConstruct(){const create=iconName=>function _createIcon(iconName,beans,column){const iconContents=_createIconNoSpan(iconName,beans,column);if(iconContents){const{className}=iconContents;if("string"==typeof className&&className.indexOf("ag-icon")>-1||"object"==typeof className&&className["ag-icon"])return iconContents}const eResult=document.createElement("span");return eResult.appendChild(iconContents),eResult}(iconName,this.beans,null);this.dropIconMap={pinned:create("columnMovePin"),hide:create("columnMoveHide"),move:create("columnMoveMove"),left:create("columnMoveLeft"),right:create("columnMoveRight"),group:create("columnMoveGroup"),aggregate:create("columnMoveValue"),pivot:create("columnMovePivot"),notAllowed:create("dropNotAllowed")}}init(params){this.dragSource=params.dragSource,this.setTemplate('<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>')}destroy(){this.dragSource=null,super.destroy()}setIcon(iconName,shake){const{eIcon,dragSource,dropIconMap,gos}=this;_clearElement(eIcon);let eIconChild=null;iconName||(iconName=dragSource?.getDefaultIconName?dragSource.getDefaultIconName():"notAllowed"),eIconChild=dropIconMap[iconName],eIcon.classList.toggle("ag-shake-left-to-right",shake),eIconChild===dropIconMap.hide&&gos.get("suppressDragLeaveHidesColumns")||eIconChild&&eIcon.appendChild(eIconChild)}setLabel(label){this.eLabel.textContent=label}}},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},RowDragModule={moduleName:"RowDrag",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(element,ctrl){const rowDragFeature=ctrl.createManagedBean(new RowDragFeature(element)),dragAndDrop=this.beans.dragAndDrop;dragAndDrop.addDropTarget(rowDragFeature),ctrl.addDestroyFunc((()=>dragAndDrop.removeDropTarget(rowDragFeature))),this.rowDragFeature=rowDragFeature}createRowDragComp(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){return new RowDragComp(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange)}createRowDragCompForRow(rowNode,element){if(_isCellSelectionEnabled(this.gos))return;const translate=this.getLocaleTextFunc();return this.createRowDragComp((()=>`1 ${translate("rowDragRow","row")}`),rowNode,void 0,element,void 0,!0)}createRowDragCompForCell(rowNode,column,cellValueFn,element,dragStartPixels,suppressVisibilityChange){const gos=this.gos;if(gos.get("rowDragManaged")&&(!_isClientSideRowModel(gos)||gos.get("pagination")))return;return this.createRowDragComp(cellValueFn,rowNode,column,element,dragStartPixels,suppressVisibilityChange)}}],apiFunctions:{addRowDropZone:function addRowDropZone(beans,params){beans.rowDragSvc?.rowDragFeature?.addRowDropZone(params)},removeRowDropZone:function removeRowDropZone(beans,params){const activeDropTarget=beans.dragAndDrop?.findExternalZone(params);activeDropTarget&&beans.dragAndDrop?.removeDropTarget(activeDropTarget)},getRowDropZoneParams:function getRowDropZoneParams(beans,events){return beans.rowDragSvc?.rowDragFeature?.getRowDropZone(events)}},dependsOn:[SharedDragAndDropModule]},HorizontalResizeModule={moduleName:"HorizontalResize",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(params){const dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params),onDragCancel:this.onDragStop.bind(this,params),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc}=this.beans;dragSvc.addDragSource(dragSource);return()=>dragSvc.removeDragSource(dragSource)}onDragStart(params,mouseEvent){this.dragStartX=mouseEvent.clientX,this.setResizeIcons();const shiftKey=mouseEvent instanceof MouseEvent&&!0===mouseEvent.shiftKey;params.onResizeStart(shiftKey)}setResizeIcons(){const ctrl=this.beans.ctrlsSvc.get("gridCtrl");ctrl.setResizeCursor(!0),ctrl.disableUserSelect(!0)}onDragStop(params){params.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const ctrl=this.beans.ctrlsSvc.get("gridCtrl");ctrl.setResizeCursor(!1),ctrl.disableUserSelect(!1)}onDragging(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX,params.onResizing(this.resizeAmount)}}],dependsOn:[DragModule]};var BodyDropPivotTarget=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(draggingEvent){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const dragColumns=draggingEvent.dragItem.columns;dragColumns&&dragColumns.forEach((column=>{column.isPrimary()&&(column.isAnyFunctionActive()||(column.isAllowValue()?this.columnsToAggregate.push(column):column.isAllowRowGroup()?this.columnsToGroup.push(column):column.isAllowPivot()&&this.columnsToPivot.push(column)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(draggingEvent){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(draggingEvent){}onDragStop(draggingEvent){const{valueColsSvc,rowGroupColsSvc,pivotColsSvc}=this.beans;this.columnsToAggregate.length>0&&valueColsSvc?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&rowGroupColsSvc?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&pivotColsSvc?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function getBestColumnMoveIndexFromXPosition(params){const{isFromHeader,fromLeft,xPosition,fromEnter,fakeEvent,pinned,gos,colModel,colMoves,visibleCols}=params;let{allMovingColumns}=params;if(isFromHeader){const newCols=[];allMovingColumns.forEach((col=>{let movingGroup=null,parent=col.getParent();for(;null!=parent&&1===parent.getDisplayedLeafColumns().length;)movingGroup=parent,parent=parent.getParent();if(null!=movingGroup){(!!movingGroup.getColGroupDef()?.marryChildren?movingGroup.getProvidedColumnGroup().getLeafColumns():movingGroup.getLeafColumns()).forEach((newCol=>{newCols.includes(newCol)||newCols.push(newCol)}))}else newCols.includes(col)||newCols.push(col)})),allMovingColumns=newCols}const allMovingColumnsOrdered=allMovingColumns.slice();!function sortColsLikeCols(colsList,cols){if(!cols||cols.length<=1)return;cols.filter((c=>colsList.indexOf(c)<0)).length>0||cols.sort(((a,b)=>colsList.indexOf(a)-colsList.indexOf(b)))}(colModel.getCols(),allMovingColumnsOrdered);const validMoves=function calculateValidMoves(params){const{movingCols,draggingRight,xPosition,pinned,gos,colModel,visibleCols}=params,isMoveBlocked=gos.get("suppressMovableColumns")||movingCols.some((col=>col.getColDef().suppressMovable));if(isMoveBlocked)return[];const allDisplayedCols=function getDisplayedColumns(visibleCols,type){switch(type){case"left":return visibleCols.leftCols;case"right":return visibleCols.rightCols;default:return visibleCols.centerCols}}(visibleCols,pinned),allGridCols=colModel.getCols(),movingDisplayedCols=allDisplayedCols.filter((col=>movingCols.includes(col))),otherDisplayedCols=allDisplayedCols.filter((col=>!movingCols.includes(col))),otherGridCols=allGridCols.filter((col=>!movingCols.includes(col)));let firstValidMove,displayIndex=0,availableWidth=xPosition;if(draggingRight){let widthOfMovingDisplayedCols=0;movingDisplayedCols.forEach((col=>widthOfMovingDisplayedCols+=col.getActualWidth())),availableWidth-=widthOfMovingDisplayedCols}if(availableWidth>0){for(let i=0;i<otherDisplayedCols.length;i++){if(availableWidth-=otherDisplayedCols[i].getActualWidth(),availableWidth<0)break;displayIndex++}draggingRight&&displayIndex++}if(displayIndex>0){const leftColumn=otherDisplayedCols[displayIndex-1];firstValidMove=otherGridCols.indexOf(leftColumn)+1}else firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]),-1===firstValidMove&&(firstValidMove=0);const validMoves=[firstValidMove],numberComparator=(a,b)=>a-b;if(draggingRight){let pointer=firstValidMove+1;const lastIndex=allGridCols.length-1;for(;pointer<=lastIndex;)validMoves.push(pointer),pointer++;validMoves.sort(numberComparator)}else{let pointer=firstValidMove;const lastIndex=allGridCols.length-1;let displacedCol=allGridCols[pointer];for(;pointer<=lastIndex&&allDisplayedCols.indexOf(displacedCol)<0;)pointer++,validMoves.push(pointer),displacedCol=allGridCols[pointer];pointer=firstValidMove-1;const firstDisplayIndex=0;for(;pointer>=firstDisplayIndex;)validMoves.push(pointer),pointer--;validMoves.sort(numberComparator).reverse()}return validMoves}({movingCols:allMovingColumnsOrdered,draggingRight:fromLeft,xPosition,pinned,gos,colModel,visibleCols}),oldIndex=function calculateOldIndex(movingCols,colModel){const gridCols=colModel.getCols(),indexes=function _sortNumerically(array){return array.sort(((a,b)=>a-b))}(movingCols.map((col=>gridCols.indexOf(col)))),firstIndex=indexes[0],lastIndex=_last(indexes);return lastIndex-firstIndex!=indexes.length-1?null:firstIndex}(allMovingColumnsOrdered,colModel);if(0===validMoves.length)return;const firstValidMove=validMoves[0];let constrainDirection=null!==oldIndex&&!fromEnter;if(isFromHeader&&(constrainDirection=null!==oldIndex),constrainDirection&&!fakeEvent){if(!fromLeft&&firstValidMove>=oldIndex)return;if(fromLeft&&firstValidMove<=oldIndex)return}const displayedCols=visibleCols.allCols,potentialMoves=[];let targetOrder=null;for(let i=0;i<validMoves.length;i++){const move=validMoves[i],order=colMoves.getProposedColumnOrder(allMovingColumnsOrdered,move);if(!colMoves.doesOrderPassRules(order))continue;const displayedOrder=order.filter((col=>displayedCols.includes(col)));if(null===targetOrder)targetOrder=displayedOrder;else if(!_areEqual(displayedOrder,targetOrder))break;const fragCount=groupFragCount(order);potentialMoves.push({move,fragCount})}if(0===potentialMoves.length)return;potentialMoves.sort(((a,b)=>a.fragCount-b.fragCount));const toIndex=potentialMoves[0].move;return toIndex>colModel.getCols().length-allMovingColumns.length?void 0:{columns:allMovingColumns,toIndex}}function attemptMoveColumns(params){const{columns,toIndex}=getBestColumnMoveIndexFromXPosition(params)||{},{finished,colMoves}=params;return columns&&null!=toIndex?(colMoves.moveColumns(columns,toIndex,"uiColumnMoved",finished),finished?null:{columns,toIndex}):null}function groupFragCount(columns){function parents(col){const result=[];let parent=col.getOriginalParent();for(;null!=parent;)result.push(parent),parent=parent.getOriginalParent();return result}let count=0;for(let i=0;i<columns.length-1;i++){let a=parents(columns[i]),b=parents(columns[i+1]);[a,b]=a.length>b.length?[a,b]:[b,a],a.forEach((parent=>{-1===b.indexOf(parent)&&count++}))}return count}function normaliseX(params){const{pinned,fromKeyboard,gos,ctrlsSvc,useHeaderRow,skipScrollPadding}=params;let eViewport=ctrlsSvc.getHeaderRowContainerCtrl(pinned)?.eViewport,{x}=params;return eViewport?(fromKeyboard&&(x-=eViewport.getBoundingClientRect().left),gos.get("enableRtl")&&(useHeaderRow&&(eViewport=eViewport.querySelector(".ag-header-row")),x=eViewport.clientWidth-x),null!=pinned||skipScrollPadding||(x+=ctrlsSvc.get("center").getCenterViewportScrollLeft()),x):0}function setColumnsMoving(columns,isMoving){for(const column of columns)column.moving=isMoving,column.dispatchColEvent("movingChanged","uiColumnMoved")}var MoveColumnFeature=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!_exists(pinned)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}))}getIconName(){const{pinned,lastDraggingEvent}=this,columns=lastDraggingEvent?.dragItem.columns??[];for(const col of columns){const colPinned=col.getPinned();if(col.getColDef().lockPinned){if(colPinned==pinned)return"move"}else{if(colPinned===pinned||!pinned)return"move";if(!colPinned&&pinned)return"pinned"}}return"notAllowed"}onDragEnter(draggingEvent){const dragItem=draggingEvent.dragItem,columns=dragItem.columns;if(0===draggingEvent.dragSource.type)this.setColumnsVisible(columns,!0,"uiColumnDragged");else{const visibleState=dragItem.visibleState,visibleColumns=(columns||[]).filter((column=>visibleState[column.getId()]));this.setColumnsVisible(visibleColumns,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(columns,this.pinned),this.onDragging(draggingEvent,!0,!0)}onDragging(draggingEvent=this.lastDraggingEvent,fromEnter=!1,fakeEvent=!1,finished=!1){const{gos,ctrlsSvc}=this.beans,isSuppressMoveWhenDragging=gos.get("suppressMoveWhenColumnDragging");if(finished&&!isSuppressMoveWhenDragging)return void this.finishColumnMoving();if(this.lastDraggingEvent=draggingEvent,!draggingEvent||!finished&&_missing(draggingEvent.hDirection))return;const mouseX=normaliseX({x:draggingEvent.x,pinned:this.pinned,gos,ctrlsSvc});fromEnter||this.checkCenterForScrolling(mouseX),isSuppressMoveWhenDragging?this.handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished):this.handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(columns,visible,source){if(!columns)return;const allowedCols=columns.filter((c=>!c.getColDef().lockVisible));this.beans.colModel.setColsVisible(allowedCols,visible,source)}finishColumnMoving(){this.clearHighlighted();const lastMovedInfo=this.lastMovedInfo;if(!lastMovedInfo)return;const{columns,toIndex}=lastMovedInfo;this.beans.colMoves.moveColumns(columns,toIndex,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){const allMovingColumns=this.getAllMovingColumns(draggingEvent,!0);if(finished){const isAttemptingToPin=this.isAttemptingToPin(allMovingColumns);isAttemptingToPin&&this.attemptToPinColumns(allMovingColumns,void 0,!0);const{fromLeft,xPosition}=this.getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin)||{};if(null==fromLeft||null==xPosition)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(draggingEvent))return;this.highlightHoveredColumn(allMovingColumns,mouseX)}}handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){const allMovingColumns=this.getAllMovingColumns(draggingEvent),fromLeft="right"===this.normaliseDirection(draggingEvent.hDirection),isFromHeader=1===draggingEvent.dragSource.type,lastMovedInfo=attemptMoveColumns({...this.getMoveColumnParams({allMovingColumns,isFromHeader,xPosition:mouseX,fromLeft,fromEnter,fakeEvent}),finished});lastMovedInfo&&(this.lastMovedInfo=lastMovedInfo)}getAllMovingColumns(draggingEvent,useSplit=!1){const dragItem=draggingEvent.dragSource.getDragItem();let columns=null;useSplit?(columns=dragItem.columnsInSplit,columns||(columns=dragItem.columns)):columns=dragItem.columns;return columns?columns.filter((col=>!col.getColDef().lockPinned||col.getPinned()==this.pinned)):[]}getMoveColumnParams(params){const{allMovingColumns,isFromHeader,xPosition,fromLeft,fromEnter,fakeEvent}=params,{gos,colModel,colMoves,visibleCols}=this.beans;return{allMovingColumns,isFromHeader,fromLeft,xPosition,pinned:this.pinned,fromEnter,fakeEvent,gos,colModel,colMoves,visibleCols}}highlightHoveredColumn(movingColumns,mouseX){const{gos,colModel}=this.beans,isRtl=gos.get("enableRtl"),consideredColumns=colModel.getCols().filter((col=>col.isVisible()&&col.getPinned()===this.pinned));let position,start=null,width=null,targetColumn=null;for(const col of consideredColumns){if(width=col.getActualWidth(),start=this.getNormalisedColumnLeft(col,0,isRtl),null!=start){if(start<=mouseX&&start+width>=mouseX){targetColumn=col;break}}start=null,width=null}if(targetColumn)-1!==movingColumns.indexOf(targetColumn)&&(targetColumn=null);else{for(let i=consideredColumns.length-1;i>=0;i--){const currentColumn=consideredColumns[i],parent=consideredColumns[i].getParent();if(!parent){targetColumn=currentColumn;break}const leafDisplayedCols=parent?.getDisplayedLeafColumns();if(leafDisplayedCols.length){targetColumn=_last(leafDisplayedCols);break}}if(!targetColumn)return;start=this.getNormalisedColumnLeft(targetColumn,0,isRtl),width=targetColumn.getActualWidth()}this.lastHighlightedColumn?.column!==targetColumn&&this.clearHighlighted(),null!=targetColumn&&null!=start&&null!=width&&(position=mouseX-start<width/2!==isRtl?0:1,setColumnHighlighted(targetColumn,position),this.lastHighlightedColumn={column:targetColumn,position})}getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin){const{gos,visibleCols}=this.beans,isRtl=gos.get("enableRtl"),{firstMovingCol,column,position}=this.getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl);if(!firstMovingCol||!column||null==position)return;const visibleColumns=visibleCols.allCols,movingColIndex=visibleColumns.indexOf(firstMovingCol),targetIndex=visibleColumns.indexOf(column),isBefore=0===position!==isRtl,fromLeft=movingColIndex<targetIndex||movingColIndex===targetIndex&&!isBefore;let diff=0;if(isBefore?fromLeft&&(diff-=1):fromLeft||(diff+=1),targetIndex+diff===movingColIndex)return;const targetColumn=visibleColumns[targetIndex+diff];if(!targetColumn)return;return{fromLeft,xPosition:this.getNormalisedColumnLeft(targetColumn,20,isRtl)}}getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl){const lastHighlightedColumn=this.lastHighlightedColumn||{},{firstMovingCol,lastMovingCol}=function findFirstAndLastMovingColumns(allMovingColumns){const moveLen=allMovingColumns.length;let firstMovingCol,lastMovingCol;for(let i=0;i<moveLen;i++){if(!firstMovingCol){const leftCol=allMovingColumns[i];null!=leftCol.getLeft()&&(firstMovingCol=leftCol)}if(!lastMovingCol){const rightCol=allMovingColumns[moveLen-1-i];null!=rightCol.getLeft()&&(lastMovingCol=rightCol)}if(firstMovingCol&&lastMovingCol)break}return{firstMovingCol,lastMovingCol}}(allMovingColumns);if(!firstMovingCol||!lastMovingCol||lastHighlightedColumn.column||!isAttemptingToPin)return{firstMovingCol,...lastHighlightedColumn};const isLeft="left"===this.getPinDirection();return{firstMovingCol,position:isLeft?1:0,column:isLeft!==isRtl?firstMovingCol:lastMovingCol}}normaliseDirection(hDirection){if(this.gos.get("enableRtl"))switch(hDirection){case"left":return"right";case"right":return"left"}return hDirection}getNormalisedColumnLeft(col,padding,isRtl){const{gos,ctrlsSvc}=this.beans,left=col.getLeft();if(null==left)return null;const width=col.getActualWidth();return normaliseX({x:isRtl?left+width-padding:left+padding,pinned:col.getPinned(),useHeaderRow:isRtl,skipScrollPadding:!0,gos,ctrlsSvc})}isAttemptingToPin(columns){const isMovingHorizontally=this.needToMoveLeft||this.needToMoveRight,isFailedMoreThanThreshold=this.failedMoveAttempts>7;return isMovingHorizontally&&isFailedMoreThanThreshold||columns.some((col=>col.getPinned()!==this.pinned))}moveColumnsAfterHighlight(params){const{allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft}=params,columnMoveParams=this.getMoveColumnParams({allMovingColumns,isFromHeader:!0,xPosition,fromLeft,fromEnter,fakeEvent}),{columns,toIndex}=getBestColumnMoveIndexFromXPosition(columnMoveParams)||{};columns&&null!=toIndex&&(this.lastMovedInfo={columns,toIndex}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn}=this;lastHighlightedColumn&&(setColumnHighlighted(lastHighlightedColumn.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(xAdjustedForScroll){if(!this.isCenterContainer)return;const centerCtrl=this.beans.ctrlsSvc.get("center"),firstVisiblePixel=centerCtrl.getCenterViewportScrollLeft(),lastVisiblePixel=firstVisiblePixel+centerCtrl.getCenterWidth();let needToMoveRight,needToMoveLeft;this.gos.get("enableRtl")?(needToMoveRight=xAdjustedForScroll<firstVisiblePixel+50,needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-50):(needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50),this.needToMoveRight=needToMoveRight,this.needToMoveLeft=needToMoveLeft,needToMoveLeft||needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,pixelsToMove>100&&(pixelsToMove=100);let pixelsMoved=null;const scrollFeature=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols,dragAndDrop,gos}=this.beans;if(this.failedMoveAttempts<=8||!pinnedCols)return;if(dragAndDrop.getDragAndDropImageComponent()?.setIcon("pinned",!1),!gos.get("suppressMoveWhenColumnDragging")){const columns=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(columns,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(columns,pinned,fromMoving=!1){const allowedCols=(columns||[]).filter((c=>!c.getColDef().lockPinned));if(!allowedCols.length)return 0;fromMoving&&(pinned=this.getPinDirection());const{pinnedCols,dragAndDrop}=this.beans;return pinnedCols?.setColsPinned(allowedCols,pinned,"uiColumnDragged"),fromMoving&&dragAndDrop.nudge(),allowedCols.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function setColumnHighlighted(column,highlighted){column.highlighted!==highlighted&&(column.highlighted=highlighted,column.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}var BodyDropTarget=class extends BeanStub{constructor(pinned,eContainer){super(),this.pinned=pinned,this.eContainer=eContainer}postConstruct(){const{ctrlsSvc,dragAndDrop}=this.beans,pinned=this.pinned;ctrlsSvc.whenReady(this,(p=>{let eSecondaryContainers;const eBodyViewport=p.gridBodyCtrl.eBodyViewport;switch(pinned){case"left":eSecondaryContainers=[[eBodyViewport,p.left.eContainer],[p.bottomLeft.eContainer],[p.topLeft.eContainer]];break;case"right":eSecondaryContainers=[[eBodyViewport,p.right.eContainer],[p.bottomRight.eContainer],[p.topRight.eContainer]];break;default:eSecondaryContainers=[[eBodyViewport,p.center.eViewport],[p.bottomCenter.eViewport],[p.topCenter.eViewport]]}this.eSecondaryContainers=eSecondaryContainers})),this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(pinned)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(pinned)),dragAndDrop.addDropTarget(this),this.addDestroyFunc((()=>dragAndDrop.removeDropTarget(this)))}isInterestedIn(type){return 1===type||0===type&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(draggingEvent){return this.beans.colModel.isPivotMode()&&0===draggingEvent.dragSource.type}onDragEnter(draggingEvent){this.currentDropListener=this.isDropColumnInPivotMode(draggingEvent)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(draggingEvent)}onDragLeave(params){this.currentDropListener.onDragLeave(params)}onDragging(params){this.currentDropListener.onDragging(params)}onDragStop(params){this.currentDropListener.onDragStop(params)}onDragCancel(){this.currentDropListener.onDragCancel()}};var ColumnMoveModule={moduleName:"ColumnMove",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(fromIndex,toIndex,source){const gridColumns=this.beans.colModel.getCols();if(!gridColumns)return;const column=gridColumns[fromIndex];this.moveColumns([column],toIndex,source)}moveColumns(columnsToMoveKeys,toIndex,source,finished=!0){const{colModel,colAnimation,visibleCols,eventSvc}=this.beans,gridColumns=colModel.getCols();if(!gridColumns)return;if(toIndex>gridColumns.length-columnsToMoveKeys.length)return void _warn(30,{toIndex});colAnimation?.start();const movedColumns=colModel.getColsForKeys(columnsToMoveKeys);this.doesMovePassRules(movedColumns,toIndex)&&(_moveInArray(colModel.getCols(),movedColumns,toIndex),visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnMoved",columns:movedColumns,column:1===movedColumns.length?movedColumns[0]:null,toIndex,finished,source})),colAnimation?.finish()}doesMovePassRules(columnsToMove,toIndex){const proposedColumnOrder=this.getProposedColumnOrder(columnsToMove,toIndex);return this.doesOrderPassRules(proposedColumnOrder)}doesOrderPassRules(gridOrder){const{colModel,gos}=this.beans;if(!doesMovePassMarryChildren(gridOrder,colModel.getColTree()))return!1;return!!(proposedColumnOrder=>{const isRtl=gos.get("enableRtl");let lastPlacement=isRtl?1:-1,rulePassed=!0;return proposedColumnOrder.forEach((col=>{const placement=(position=col.getColDef().lockPosition)?"left"===position||!0===position?-1:1:0;var position;isRtl?placement>lastPlacement&&(rulePassed=!1):placement<lastPlacement&&(rulePassed=!1),lastPlacement=placement})),rulePassed})(gridOrder)}getProposedColumnOrder(columnsToMove,toIndex){const proposedColumnOrder=this.beans.colModel.getCols().slice();return _moveInArray(proposedColumnOrder,columnsToMove,toIndex),proposedColumnOrder}createBodyDropTarget(pinned,dropContainer){return new BodyDropTarget(pinned,dropContainer)}moveHeader(hDirection,eGui,column,pinned,bean){const{ctrlsSvc,gos,colModel,visibleCols,focusSvc}=this.beans,rect=eGui.getBoundingClientRect(),left=rect.left,isGroup=isColumnGroup2(column),width=isGroup?rect.width:column.getActualWidth(),isLeft="left"===hDirection!==gos.get("enableRtl"),xPosition=normaliseX({x:isLeft?left-20:left+width+20,pinned,fromKeyboard:!0,gos,ctrlsSvc}),headerPosition=focusSvc.focusedHeader;let targetColumn;if(attemptMoveColumns({allMovingColumns:isGroup?column.getLeafColumns():[column],isFromHeader:!0,fromLeft:"right"===hDirection,xPosition,pinned,fromEnter:!1,fakeEvent:!1,gos,colModel,colMoves:this,visibleCols,finished:!0}),isGroup){const displayedLeafColumns=column.getDisplayedLeafColumns();targetColumn=isLeft?displayedLeafColumns[0]:_last(displayedLeafColumns)}else targetColumn=column;if(ctrlsSvc.getScrollFeature().ensureColumnVisible(targetColumn,"auto"),(!bean.isAlive()||gos.get("ensureDomOrder"))&&headerPosition){let restoreFocusColumn;if(isGroup){const groupId=column.getGroupId(),leafCols=column.getLeafColumns();if(!leafCols.length)return;const parent=leafCols[0].getParent();if(!parent)return;restoreFocusColumn=function findGroupWidthId(columnGroup,id){for(;columnGroup;){if(columnGroup.getGroupId()===id)return columnGroup;columnGroup=columnGroup.getParent()}return}(parent,groupId)}else restoreFocusColumn=column;restoreFocusColumn&&focusSvc.focusHeaderPosition({headerPosition:{...headerPosition,column:restoreFocusColumn}})}}setDragSourceForHeader(eSource,column,displayName){const{gos,colModel,dragAndDrop,visibleCols}=this.beans;let hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns");const isGroup=isColumnGroup2(column),columns=isGroup?column.getProvidedColumnGroup().getLeafColumns():[column],getDragItem=isGroup?()=>function createDragItemForGroup(columnGroup,allCols){const allColumnsOriginalOrder=columnGroup.getProvidedColumnGroup().getLeafColumns(),visibleState={};allColumnsOriginalOrder.forEach((column=>visibleState[column.getId()]=column.isVisible()));const allColumnsCurrentOrder=[];allCols.forEach((column=>{allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),_removeFromArray(allColumnsOriginalOrder,column))})),allColumnsOriginalOrder.forEach((column=>allColumnsCurrentOrder.push(column)));const columnsInSplit=[],columnGroupColumns=columnGroup.getLeafColumns();for(const col of allColumnsCurrentOrder)-1!==columnGroupColumns.indexOf(col)&&columnsInSplit.push(col);return{columns:allColumnsCurrentOrder,columnsInSplit,visibleState}}(column,visibleCols.allCols):()=>function createDragItem(column){const visibleState={};return visibleState[column.getId()]=column.isVisible(),{columns:[column],visibleState}}(column),dragSource={type:1,eElement:eSource,getDefaultIconName:()=>hideColumnOnExit?"hide":"notAllowed",getDragItem,dragItemName:displayName,onDragStarted:()=>{hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns"),setColumnsMoving(columns,!0)},onDragStopped:()=>setColumnsMoving(columns,!1),onDragCancelled:()=>setColumnsMoving(columns,!1),onGridEnter:dragItem=>{if(hideColumnOnExit){const{columns:columns2=[],visibleState}=dragItem??{},hasVisibleState=isGroup?col=>!visibleState||visibleState[col.getColId()]:()=>!0,unlockedColumns=columns2.filter((col=>!col.getColDef().lockVisible&&hasVisibleState(col)));colModel.setColsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];colModel.setColsVisible(unlockedColumns,!1,"uiColumnMoved")}}};return dragAndDrop.addDragSource(dragSource,!0),dragSource}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>this.gridBodyCtrl=p.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(suppress){this.suppressAnimation=suppress}start(){if(this.active)return;const{gos}=this;gos.get("suppressColumnMoveAnimation")||gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush((()=>this.activeNext=!1),(()=>this.active=!1))}executeNextVMTurn(func){this.activeNext?this.executeNextFuncs.push(func):func()}executeLaterVMTurn(func){this.active?this.executeLaterFuncs.push(func):func()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const animationThreadCountCopy=this.animationThreadCount,{gridBodyCtrl}=this;gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===animationThreadCountCopy&&gridBodyCtrl.setColumnMovingCss(!1)}))}flush(callbackNext,callbackLater){const{executeNextFuncs,executeLaterFuncs}=this;if(0===executeNextFuncs.length&&0===executeLaterFuncs.length)return callbackNext(),void callbackLater();const runFuncs=queue=>{for(;queue.length;){const func=queue.pop();func&&func()}};this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{callbackNext(),runFuncs(executeNextFuncs)}),0),window.setTimeout((()=>{callbackLater(),runFuncs(executeLaterFuncs)}),200)}))}}],apiFunctions:{moveColumnByIndex:function moveColumnByIndex(beans,fromIndex,toIndex){beans.colMoves?.moveColumnByIndex(fromIndex,toIndex,"api")},moveColumns:function moveColumns(beans,columnsToMoveKeys,toIndex){beans.colMoves?.moveColumns(columnsToMoveKeys,toIndex,"api")}},dependsOn:[SharedDragAndDropModule],css:[":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}"]},AutoWidthModule={moduleName:"AutoWidth",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.centerRowContainerCtrl=p.center}))}getPreferredWidthForColumn(column,skipHeader){const eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell)return-1;const elements=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(column);return skipHeader||elements.push(eHeaderCell),this.getPreferredWidthForElements(elements)}getPreferredWidthForColumnGroup(columnGroup){const eHeaderCell=this.getHeaderCellForColumn(columnGroup);return eHeaderCell?this.getPreferredWidthForElements([eHeaderCell]):-1}getPreferredWidthForElements(elements,extraPadding){const eDummyContainer=document.createElement("form");eDummyContainer.style.position="fixed";const eBodyContainer=this.centerRowContainerCtrl.eContainer;elements.forEach((el=>this.cloneItemIntoDummy(el,eDummyContainer))),eBodyContainer.appendChild(eDummyContainer);const dummyContainerWidth=eDummyContainer.offsetWidth;return eBodyContainer.removeChild(eDummyContainer),dummyContainerWidth+(extraPadding=extraPadding??this.gos.get("autoSizePadding"))}getHeaderCellForColumn(column){let element=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach((container=>{const res=container.getHtmlElementForColumnHeader(column);null!=res&&(element=res)})),element}cloneItemIntoDummy(eCell,eDummyContainer){const eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";const eCloneParent=document.createElement("div"),eCloneParentClassList=eCloneParent.classList;["ag-header-cell","ag-header-group-cell"].some((cls=>eCellClone.classList.contains(cls)))?(eCloneParentClassList.add("ag-header","ag-header-row"),eCloneParent.style.position="static"):eCloneParentClassList.add("ag-row");let pointer=eCell.parentElement;for(;pointer;){if(["ag-header-row","ag-row"].some((cls=>pointer.classList.contains(cls)))){for(let i=0;i<pointer.classList.length;i++){const item=pointer.classList[i];"ag-row-position-absolute"!=item&&eCloneParentClassList.add(item)}break}pointer=pointer.parentElement}eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)}}]};var GroupResizeFeature=class extends BeanStub{constructor(comp,eResize,pinned,columnGroup){super(),this.comp=comp,this.eResize=eResize,this.pinned=pinned,this.columnGroup=columnGroup}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const{horizontalResizeSvc,gos,colAutosize}=this.beans,finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(finishedWithResizeFunc),!gos.get("suppressAutoSize")&&colAutosize&&this.addDestroyFunc(colAutosize.addColumnGroupResize(this.eResize,this.columnGroup,(()=>this.resizeLeafColumnsToFit("uiColumnResized"))))}onResizeStart(shiftKey){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=this.getInitialValues(shiftKey);this.resizeCols=columnsToResize,this.resizeStartWidth=resizeStartWidth,this.resizeRatios=resizeRatios,this.resizeTakeFromCols=groupAfterColumns,this.resizeTakeFromStartWidth=groupAfterStartWidth,this.resizeTakeFromRatios=groupAfterRatios,this.toggleColumnResizing(!0)}onResizing(finished,resizeAmount,source="uiColumnResized"){const resizeAmountNormalised=this.normaliseDragChange(resizeAmount),width=this.resizeStartWidth+resizeAmountNormalised;this.resizeColumnsFromLocalValues(width,source,finished)}getInitialValues(shiftKey){const getInitialSizeOfColumns=columns=>columns.reduce(((totalWidth,column)=>totalWidth+column.getActualWidth()),0),getSizeRatiosOfColumns=(columns,initialSizeOfColumns)=>columns.map((column=>column.getActualWidth()/initialSizeOfColumns)),columnsToResize=this.getColumnsToResize(),resizeStartWidth=getInitialSizeOfColumns(columnsToResize),columnSizeAndRatios={columnsToResize,resizeStartWidth,resizeRatios:getSizeRatiosOfColumns(columnsToResize,resizeStartWidth)};let groupAfter=null;if(shiftKey&&(groupAfter=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),groupAfter){const takeFromLeafCols=groupAfter.getDisplayedLeafColumns(),groupAfterColumns=columnSizeAndRatios.groupAfterColumns=takeFromLeafCols.filter((col=>col.isResizable())),groupAfterStartWidth=columnSizeAndRatios.groupAfterStartWidth=getInitialSizeOfColumns(groupAfterColumns);columnSizeAndRatios.groupAfterRatios=getSizeRatiosOfColumns(groupAfterColumns,groupAfterStartWidth)}else columnSizeAndRatios.groupAfterColumns=void 0,columnSizeAndRatios.groupAfterStartWidth=void 0,columnSizeAndRatios.groupAfterRatios=void 0;return columnSizeAndRatios}resizeLeafColumnsToFit(source){const preferredSize=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),initialValues=this.getInitialValues();preferredSize>initialValues.resizeStartWidth&&this.resizeColumns(initialValues,preferredSize,source,!0)}resizeColumnsFromLocalValues(totalWidth,source,finished=!0){if(!this.resizeCols||!this.resizeRatios)return;const initialValues={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(initialValues,totalWidth,source,finished)}resizeColumns(initialValues,totalWidth,source,finished=!0){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=initialValues,resizeSets=[];if(resizeSets.push({columns:columnsToResize,ratios:resizeRatios,width:totalWidth}),groupAfterColumns){const diff=totalWidth-resizeStartWidth;resizeSets.push({columns:groupAfterColumns,ratios:groupAfterRatios,width:groupAfterStartWidth-diff})}this.beans.colResize?.resizeColumnSets({resizeSets,finished,source}),finished&&this.toggleColumnResizing(!1)}toggleColumnResizing(resizing){this.comp.addOrRemoveCssClass("ag-column-resizing",resizing)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((col=>col.isResizable()))}normaliseDragChange(dragChange){let result=dragChange;return this.gos.get("enableRtl")?"left"!==this.pinned&&(result*=-1):"right"===this.pinned&&(result*=-1),result}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},ResizeFeature=class extends BeanStub{constructor(pinned,column,eResize,comp,ctrl){super(),this.pinned=pinned,this.column=column,this.eResize=eResize,this.comp=comp,this.ctrl=ctrl}postConstruct(){const destroyResizeFuncs=[];let canResize,canAutosize;const addResize=()=>{if(_setDisplayed(this.eResize,canResize),!canResize)return;const{horizontalResizeSvc,colAutosize}=this.beans,finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});destroyResizeFuncs.push(finishedWithResizeFunc),canAutosize&&colAutosize&&destroyResizeFuncs.push(colAutosize.addColumnAutosize(this.eResize,this.column))},removeResize=()=>{destroyResizeFuncs.forEach((f=>f())),destroyResizeFuncs.length=0},refresh=()=>{const resize=this.column.isResizable(),autoSize=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(resize!==canResize||autoSize!==canAutosize)&&(canResize=resize,canAutosize=autoSize,removeResize(),addResize())};refresh(),this.addDestroyFunc(removeResize),this.ctrl.setRefreshFunction("resize",refresh)}onResizing(finished,resizeAmount){const{column:key,lastResizeAmount,resizeStartWidth,beans}=this,resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount),columnWidths=[{key,newWidth:resizeStartWidth+resizeAmountNormalised}],{pinnedCols,ctrlsSvc,colResize}=beans;if(this.column.getPinned()){if((pinnedCols?.leftWidth??0)+(pinnedCols?.rightWidth??0)+(resizeAmountNormalised-lastResizeAmount)>_getInnerWidth(ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50)return}this.lastResizeAmount=resizeAmountNormalised,colResize?.setColumnWidths(columnWidths,this.resizeWithShiftKey,finished,"uiColumnResized"),finished&&this.toggleColumnResizing(!1)}onResizeStart(shiftKey){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=shiftKey,this.toggleColumnResizing(!0)}toggleColumnResizing(resizing){this.comp.addOrRemoveCssClass("ag-column-resizing",resizing)}normaliseResizeAmount(dragChange){let result=dragChange;const notPinningLeft="left"!==this.pinned,pinningRight="right"===this.pinned;return this.gos.get("enableRtl")?notPinningLeft&&(result*=-1):pinningRight&&(result*=-1),result}};var ColumnResizeModule={moduleName:"ColumnResize",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(columnWidths,shiftKey,finished,source){const sets=[],{colModel,gos,visibleCols}=this.beans;columnWidths.forEach((columnWidth=>{const col=colModel.getColDefCol(columnWidth.key)||colModel.getCol(columnWidth.key);if(!col)return;sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]});if("shift"===gos.get("colResizeDefault")&&(shiftKey=!shiftKey),shiftKey){const otherCol=visibleCols.getColAfter(col);if(!otherCol)return;const widthDiff=col.getActualWidth()-columnWidth.newWidth,otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]})}})),0!==sets.length&&this.resizeColumnSets({resizeSets:sets,finished,source})}resizeColumnSets(params){const{resizeSets,finished,source}=params;if(!(!resizeSets||resizeSets.every((columnResizeSet=>function checkMinAndMaxWidthsForSet(columnResizeSet){const{columns,width}=columnResizeSet;let minWidthAccumulated=0,maxWidthAccumulated=0,maxWidthActive=!0;columns.forEach((col=>{const minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;const maxWidth=col.getMaxWidth();maxWidth>0?maxWidthAccumulated+=maxWidth:maxWidthActive=!1}));const maxWidthPasses=!maxWidthActive||width<=maxWidthAccumulated;return width>=minWidthAccumulated&&maxWidthPasses}(columnResizeSet))))){if(finished){const columns=resizeSets&&resizeSets.length>0?resizeSets[0].columns:null;dispatchColumnResizedEvent(this.eventSvc,columns,finished,source)}return}const changedCols=[],allResizedCols=[];resizeSets.forEach((set=>{const{width,columns,ratios}=set,newWidths={},finishedCols={};columns.forEach((col=>allResizedCols.push(col)));let finishedColsGrew=!0,loopCount=0;for(;finishedColsGrew;){if(loopCount++,loopCount>1e3){_error(31);break}finishedColsGrew=!1;const subsetCols=[];let subsetRatioTotal=0,pixelsToDistribute=width;columns.forEach(((col,index)=>{if(finishedCols[col.getId()])pixelsToDistribute-=newWidths[col.getId()];else{subsetCols.push(col);const ratioThisCol=ratios[index];subsetRatioTotal+=ratioThisCol}}));const ratioScale=1/subsetRatioTotal;subsetCols.forEach(((col,index)=>{let colNewWidth;index===subsetCols.length-1?colNewWidth=pixelsToDistribute:(colNewWidth=Math.round(ratios[index]*width*ratioScale),pixelsToDistribute-=colNewWidth);const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();colNewWidth<minWidth?(colNewWidth=minWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0):maxWidth>0&&colNewWidth>maxWidth&&(colNewWidth=maxWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0),newWidths[col.getId()]=colNewWidth}))}columns.forEach((col=>{const newWidth=newWidths[col.getId()];col.getActualWidth()!==newWidth&&(col.setActualWidth(newWidth,source),changedCols.push(col))}))}));const atLeastOneColChanged=changedCols.length>0;let flexedCols=[];if(atLeastOneColChanged){const{colFlex,visibleCols,colViewport}=this.beans;flexedCols=colFlex?.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:!0})??[],visibleCols.setLeftValues(source),visibleCols.updateBodyWidths(),colViewport.checkViewportColumns()}const colsForEvent=allResizedCols.concat(flexedCols);(atLeastOneColChanged||finished)&&dispatchColumnResizedEvent(this.eventSvc,colsForEvent,finished,source,flexedCols)}resizeHeader(column,delta,shiftKey){if(!column.isResizable())return;const actualWidth=column.getActualWidth(),minWidth=column.getMinWidth(),maxWidth=column.getMaxWidth(),newWidth=Math.min(Math.max(actualWidth+delta,minWidth),maxWidth);this.setColumnWidths([{key:column,newWidth}],shiftKey,!0,"uiColumnResized")}createResizeFeature(pinned,column,eResize,comp,ctrl){return new ResizeFeature(pinned,column,eResize,comp,ctrl)}createGroupResizeFeature(comp,eResize,pinned,columnGroup){return new GroupResizeFeature(comp,eResize,pinned,columnGroup)}}],apiFunctions:{setColumnWidths:function setColumnWidths(beans,columnWidths,finished=!0,source="api"){beans.colResize?.setColumnWidths(columnWidths,!1,finished,source)}},dependsOn:[HorizontalResizeModule,AutoWidthModule]},GroupWidthFeature=class extends BeanStub{constructor(comp,columnGroup){super(),this.removeChildListenersFuncs=[],this.columnGroup=columnGroup,this.comp=comp}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const widthChangedListener=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((column=>{column.__addEventListener("widthChanged",widthChangedListener),column.__addEventListener("visibleChanged",widthChangedListener),this.removeChildListenersFuncs.push((()=>{column.__removeEventListener("widthChanged",widthChangedListener),column.__removeEventListener("visibleChanged",widthChangedListener)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((func=>func())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const columnWidth=this.columnGroup.getActualWidth();this.comp.setWidth(`${columnWidth}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===columnWidth)}};function depthFirstAllColumnTreeSearch(tree,useDisplayedChildren,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];if(isColumnGroup2(child)){depthFirstAllColumnTreeSearch(useDisplayedChildren?child.getDisplayedChildren():child.getChildren(),useDisplayedChildren,callback)}callback(child)}}function pickDisplayedCols(tree){const res=[];return depthFirstAllColumnTreeSearch(tree,!0,(child=>{isColumn(child)&&res.push(child)})),res}var ColumnGroupModule={moduleName:"ColumnGroup",version:VERSION,dynamicBeans:{headerGroupCellCtrl:class extends AbstractHeaderCellCtrl{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(comp,eGui,eResize,eHeaderCompWrapper,compBean){const{column,beans}=this,{context,colNames,colHover,rangeSvc,colResize}=beans;this.comp=comp,compBean=setupCompBean(this,context,compBean),this.setGui(eGui,compBean),this.displayName=colNames.getDisplayNameForColumnGroup(column,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(compBean),this.setupExpandable(compBean),this.setupTooltip(),this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,compBean}),this.setupUserComp(),this.addHeaderMouseListeners(compBean),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const pinned=this.rowCtrl.pinned,leafCols=column.getProvidedColumnGroup().getLeafColumns();colHover?.createHoverFeature(compBean,leafCols,eGui),rangeSvc?.createRangeHighlightFeature(compBean,column,comp),compBean.createManagedBean(new SetLeftFeature(column,eGui,beans)),compBean.createManagedBean(new GroupWidthFeature(comp,column)),colResize?this.resizeFeature=compBean.createManagedBean(colResize.createGroupResizeFeature(comp,eResize,pinned,column)):comp.setResizableDisplayed(!1),compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(compBean,leafCols),compBean.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(compBean),compBean.addDestroyFunc((()=>this.clearComponent()))}getHeaderClassParams(){const{column,beans}=this,colDef=column.getDefinition();return _addGridCommonParams(beans.gos,{colDef,columnGroup:column,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos,comp}=this,groupHeaderHeight=gos.get("groupHeaderHeight");null!=groupHeaderHeight?0===groupHeaderHeight?comp.setHeaderWrapperHidden(!0):comp.setHeaderWrapperMaxHeight(groupHeaderHeight):(comp.setHeaderWrapperHidden(!1),comp.setHeaderWrapperMaxHeight(null))}addHighlightListeners(compBean,columns){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const column of columns)compBean.addManagedListeners(column,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,column)})}onLeafColumnHighlightChanged(column){const displayedColumns=this.column.getDisplayedLeafColumns(),isFirst=displayedColumns[0]===column,isLast=_last(displayedColumns)===column;if(!isFirst&&!isLast)return;const highlighted=column.getHighlighted();let beforeOn=!1,afterOn=!1;if(!!this.rowCtrl.findHeaderCellCtrl((ctrl=>ctrl.column.isMoving()))){const isRtl=this.beans.gos.get("enableRtl"),isHighlightAfter=1===highlighted,isHighlightBefore=0===highlighted;isFirst&&(isRtl?afterOn=isHighlightAfter:beforeOn=isHighlightBefore),isLast&&(isRtl?beforeOn=isHighlightBefore:afterOn=isHighlightAfter)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",beforeOn),this.comp.addOrRemoveCssClass("ag-header-highlight-after",afterOn)}resizeHeader(delta,shiftKey){const{resizeFeature}=this;if(!resizeFeature)return;const initialValues=resizeFeature.getInitialValues(shiftKey);resizeFeature.resizeColumns(initialValues,initialValues.resizeStartWidth+delta,"uiColumnResized",!0)}resizeLeafColumnsToFit(source){this.resizeFeature?.resizeLeafColumnsToFit(source)}setupUserComp(){const{colGroupSvc,userCompFactory,gos}=this.beans,compDetails=function _getHeaderGroupCompDetails(userCompFactory,params){const colGroupDef=params.columnGroup.getColGroupDef();return userCompFactory.getCompDetails(colGroupDef,HeaderGroupComponent,"agColumnGroupHeader",params)}(userCompFactory,_addGridCommonParams(gos,{displayName:this.displayName,columnGroup:this.column,setExpanded:expanded=>{colGroupSvc.setColumnGroupOpened(this.column.getProvidedColumnGroup(),expanded,"gridInitializing")},setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.setupTooltip(value,shouldDisplayTooltip)}}));compDetails&&this.comp.setUserCompDetails(compDetails)}addHeaderMouseListeners(compBean){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(isMouseOver){this.eventSvc.dispatchEvent({type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip)}setupExpandable(compBean){const providedColGroup=this.column.getProvidedColumnGroup();this.refreshExpanded();const listener=this.refreshExpanded.bind(this);compBean.addManagedListeners(providedColGroup,{expandedChanged:listener,expandableChanged:listener})}refreshExpanded(){const{column}=this;this.expandable=column.isExpandable();const expanded=column.isExpanded();this.expandable?this.comp.setAriaExpanded(expanded?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column}=this,colGroupDef=column.getColGroupDef(),classes=_getHeaderClassesFromColDef(colGroupDef,this.gos,null,column);if(column.isPadding()){classes.push("ag-header-group-cell-no-group");column.getLeafColumns().every((col=>col.isSpanHeaderHeight()))&&classes.push("ag-header-span-height")}else classes.push("ag-header-group-cell-with-group"),colGroupDef?.wrapHeaderText&&classes.push("ag-header-cell-wrap-text");classes.forEach((c=>this.comp.addOrRemoveCssClass(c,!0)))}setupMovingCss(compBean){const{column}=this,leafColumns=column.getProvidedColumnGroup().getLeafColumns(),listener=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",column.isMoving());leafColumns.forEach((col=>{compBean.addManagedListeners(col,{movingChanged:listener})})),listener()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();if(this.expandable&&wrapperHasFocus&&e.key===KeyCode_ENTER){const column=this.column,newExpandedValue=!column.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(column.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")}}setDragSource(eHeaderGroup){this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),eHeaderGroup&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(eHeaderGroup,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some((column=>column.getColDef().suppressMovable||column.getColDef().lockPosition))}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}}},beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const columnGroupState=[];return depthFirstOriginalTreeSearch(null,this.beans.colModel.getColTree(),(node=>{isProvidedColumnGroup(node)&&columnGroupState.push({groupId:node.getGroupId(),open:node.isExpanded()})})),columnGroupState}resetColumnGroupState(source){const primaryColumnTree=this.beans.colModel.getColDefColTree();if(!primaryColumnTree)return;const stateItems=[];depthFirstOriginalTreeSearch(null,primaryColumnTree,(child=>{if(isProvidedColumnGroup(child)){const colGroupDef=child.getColGroupDef(),groupState={groupId:child.getGroupId(),open:colGroupDef?colGroupDef.openByDefault:void 0};stateItems.push(groupState)}})),this.setColumnGroupState(stateItems,source)}setColumnGroupState(stateItems,source){const{colModel,colAnimation,visibleCols,eventSvc}=this.beans;if(!colModel.getColTree().length)return;colAnimation?.start();const impactedGroups=[];stateItems.forEach((stateItem=>{const groupKey=stateItem.groupId,newValue=stateItem.open,providedColumnGroup=this.getProvidedColGroup(groupKey);providedColumnGroup&&providedColumnGroup.isExpanded()!==newValue&&(providedColumnGroup.setExpanded(newValue),impactedGroups.push(providedColumnGroup))})),visibleCols.refresh(source,!0),impactedGroups.length&&eventSvc.dispatchEvent({type:"columnGroupOpened",columnGroup:1===impactedGroups.length?impactedGroups[0]:void 0,columnGroups:impactedGroups}),colAnimation?.finish()}setColumnGroupOpened(key,newValue,source){let keyAsString;keyAsString=isProvidedColumnGroup(key)?key.getId():key||"",this.setColumnGroupState([{groupId:keyAsString,open:newValue}],source)}getProvidedColGroup(key){let res=null;return depthFirstOriginalTreeSearch(null,this.beans.colModel.getColTree(),(node=>{isProvidedColumnGroup(node)&&node.getId()===key&&(res=node)})),res}getGroupAtDirection(columnGroup,direction){const requiredLevel=columnGroup.getProvidedColumnGroup().getLevel()+columnGroup.getPaddingLevel(),colGroupLeafColumns=columnGroup.getDisplayedLeafColumns(),col="After"===direction?_last(colGroupLeafColumns):colGroupLeafColumns[0],getDisplayColMethod=`getCol${direction}`;for(;;){const column=this.beans.visibleCols[getDisplayColMethod](col);if(!column)return null;const groupPointer=this.getColGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup)return groupPointer}}getColGroupAtLevel(column,level){let originalGroupLevel,groupPointerLevel,groupPointer=column.getParent();for(;;){if(originalGroupLevel=groupPointer.getProvidedColumnGroup().getLevel(),groupPointerLevel=groupPointer.getPaddingLevel(),originalGroupLevel+groupPointerLevel<=level)break;groupPointer=groupPointer.getParent()}return groupPointer}updateOpenClosedVisibility(){depthFirstAllColumnTreeSearch(this.beans.visibleCols.getAllTrees(),!1,(child=>{isColumnGroup2(child)&&child.calculateDisplayedColumns()}))}getColumnGroup(colId,partId){if(!colId)return null;if(isColumnGroup2(colId))return colId;const allColumnGroups=this.beans.visibleCols.getAllTrees(),checkPartId="number"==typeof partId;let result=null;return depthFirstAllColumnTreeSearch(allColumnGroups,!1,(child=>{if(isColumnGroup2(child)){const columnGroup=child;let matched;matched=checkPartId?colId===columnGroup.getGroupId()&&partId===columnGroup.getPartId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}})),result}createColumnGroups(params){const{columns,idCreator,pinned,oldDisplayedGroups,isStandaloneStructure}=params,oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups),topLevelResultCols=[];let groupsOrColsAtCurrentLevel=columns;for(;groupsOrColsAtCurrentLevel.length;){const currentlyIterating=groupsOrColsAtCurrentLevel;groupsOrColsAtCurrentLevel=[];let lastGroupedColIdx=0;const createGroupToIndex=to=>{const from=lastGroupedColIdx;lastGroupedColIdx=to;const previousNode=currentlyIterating[from],previousNodeParent=(isColumnGroup2(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent();if(null==previousNodeParent){for(let i=from;i<to;i++)topLevelResultCols.push(currentlyIterating[i]);return}const newGroup=this.createColumnGroup(previousNodeParent,idCreator,oldColumnsMapped,pinned,isStandaloneStructure);for(let i=from;i<to;i++)newGroup.addChild(currentlyIterating[i]);groupsOrColsAtCurrentLevel.push(newGroup)};for(let i=1;i<currentlyIterating.length;i++){const thisNode=currentlyIterating[i],thisNodeParent=(isColumnGroup2(thisNode)?thisNode.getProvidedColumnGroup():thisNode).getOriginalParent(),previousNode=currentlyIterating[lastGroupedColIdx];thisNodeParent!==(isColumnGroup2(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent()&&createGroupToIndex(i)}lastGroupedColIdx<currentlyIterating.length&&createGroupToIndex(currentlyIterating.length)}return isStandaloneStructure||this.setupParentsIntoCols(topLevelResultCols,null),topLevelResultCols}createProvidedColumnGroup(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups,source){const groupId=columnKeyCreator.getUniqueKey(colGroupDef.groupId||null,null),colGroupDefMerged=this.createMergedColGroupDef(colGroupDef,groupId),providedGroup=new AgProvidedColumnGroup(colGroupDefMerged,groupId,!1,level);this.createBean(providedGroup);const existingGroupAndIndex=this.findExistingGroup(colGroupDef,existingGroups);existingGroupAndIndex&&existingGroups.splice(existingGroupAndIndex.idx,1);const existingGroup=existingGroupAndIndex?.group;existingGroup&&providedGroup.setExpanded(existingGroup.isExpanded());const children=_recursivelyCreateColumns(this.beans,colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups,source);return providedGroup.setChildren(children),providedGroup}balanceColumnTree(unbalancedTree,currentDept,columnDept,columnKeyCreator){const result=[];for(let i=0;i<unbalancedTree.length;i++){const child=unbalancedTree[i];if(isProvidedColumnGroup(child)){const originalGroup=child,newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{let firstPaddedGroup,currentPaddedGroup;for(let j=columnDept-1;j>=currentDept;j--){const newColId=columnKeyCreator.getUniqueKey(null,null),colGroupDefMerged=this.createMergedColGroupDef(null,newColId),paddedGroup=new AgProvidedColumnGroup(colGroupDefMerged,newColId,!0,currentDept);this.createBean(paddedGroup),currentPaddedGroup&&currentPaddedGroup.setChildren([paddedGroup]),currentPaddedGroup=paddedGroup,firstPaddedGroup||(firstPaddedGroup=currentPaddedGroup)}if(firstPaddedGroup&&currentPaddedGroup){result.push(firstPaddedGroup);if(unbalancedTree.some((leaf=>isProvidedColumnGroup(leaf)))){currentPaddedGroup.setChildren([child]);continue}currentPaddedGroup.setChildren(unbalancedTree);break}result.push(child)}}return result}findDepth(balancedColumnTree){let depth=0,pointer=balancedColumnTree;for(;pointer&&pointer[0]&&isProvidedColumnGroup(pointer[0]);)depth++,pointer=pointer[0].getChildren();return depth}findMaxDepth(treeChildren,depth){let maxDeptThisLevel=depth;for(let i=0;i<treeChildren.length;i++){const abstractColumn=treeChildren[i];if(isProvidedColumnGroup(abstractColumn)){const originalGroup=abstractColumn,newDept=this.findMaxDepth(originalGroup.getChildren(),depth+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}}return maxDeptThisLevel}balanceTreeForAutoCols(autoCols,depth){const tree=[];return autoCols.forEach((col=>{let nextChild=col;for(let i=depth-1;i>=0;i--){const autoGroup=new AgProvidedColumnGroup(null,`FAKE_PATH_${col.getId()}}_${i}`,!0,i);this.createBean(autoGroup),autoGroup.setChildren([nextChild]),nextChild.originalParent=autoGroup,nextChild=autoGroup}0===depth&&(col.originalParent=null),tree.push(nextChild)})),tree}createMergedColGroupDef(colGroupDef,groupId){const colGroupDefMerged={},{gos,validation:validation2}=this.beans;return Object.assign(colGroupDefMerged,gos.get("defaultColGroupDef")),Object.assign(colGroupDefMerged,colGroupDef),validation2?.validateColDef(colGroupDefMerged,groupId),colGroupDefMerged}findExistingGroup(newGroupDef,existingGroups){if(null!=newGroupDef.groupId)for(let i=0;i<existingGroups.length;i++){const existingGroup=existingGroups[i];if(existingGroup.getColGroupDef()&&existingGroup.getId()===newGroupDef.groupId)return{idx:i,group:existingGroup}}}createColumnGroup(providedGroup,groupInstanceIdCreator,oldColumnsMapped,pinned,isStandaloneStructure){const groupId=providedGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId);let columnGroup=oldColumnsMapped[createUniqueColumnGroupId(groupId,instanceId)];return columnGroup&&columnGroup.getProvidedColumnGroup()!==providedGroup&&(columnGroup=null),_exists(columnGroup)?columnGroup.reset():(columnGroup=new AgColumnGroup(providedGroup,groupId,instanceId,pinned),isStandaloneStructure||this.createBean(columnGroup)),columnGroup}mapOldGroupsById(displayedGroups){const result={},recursive=columnsOrGroups=>{columnsOrGroups.forEach((columnOrGroup=>{if(isColumnGroup2(columnOrGroup)){const columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup,recursive(columnGroup.getChildren())}}))};return displayedGroups&&recursive(displayedGroups),result}setupParentsIntoCols(columnsOrGroups,parent){columnsOrGroups.forEach((columnsOrGroup=>{if(columnsOrGroup.parent=parent,isColumnGroup2(columnsOrGroup)){const columnGroup=columnsOrGroup;this.setupParentsIntoCols(columnGroup.getChildren(),columnGroup)}}))}}],apiFunctions:{getAllDisplayedColumnGroups:function getAllDisplayedColumnGroups(beans){return beans.visibleCols.getAllTrees()},getCenterDisplayedColumnGroups:function getCenterDisplayedColumnGroups(beans){return beans.visibleCols.treeCenter},getColumnGroup:function getColumnGroup(beans,name,instanceId){return beans.colGroupSvc?.getColumnGroup(name,instanceId)??null},getColumnGroupState:function getColumnGroupState(beans){return beans.colGroupSvc?.getColumnGroupState()??[]},getDisplayNameForColumnGroup:function getDisplayNameForColumnGroup(beans,columnGroup,location){return beans.colNames.getDisplayNameForColumnGroup(columnGroup,location)||""},getLeftDisplayedColumnGroups:function getLeftDisplayedColumnGroups(beans){return beans.visibleCols.treeLeft},getProvidedColumnGroup:function getProvidedColumnGroup(beans,name){return beans.colGroupSvc?.getProvidedColGroup(name)??null},getRightDisplayedColumnGroups:function getRightDisplayedColumnGroups(beans){return beans.visibleCols.treeRight},resetColumnGroupState:function resetColumnGroupState(beans){beans.colGroupSvc?.resetColumnGroupState("api")},setColumnGroupOpened:function setColumnGroupOpened(beans,group,newValue){beans.colGroupSvc?.setColumnGroupOpened(group,newValue,"api")},setColumnGroupState:function setColumnGroupState(beans,stateItems){beans.colGroupSvc?.setColumnGroupState(stateItems,"api")}}},CheckboxCellRendererModule={moduleName:"CheckboxCellRenderer",version:VERSION,userComponents:{agCheckboxCellRenderer:class extends Component{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null,this.registerCSS(".ag-checkbox-cell{height:100%}")}init(params){this.refresh(params);const{eCheckbox,beans}=this,inputEl=eCheckbox.getInputElement();inputEl.setAttribute("tabindex","-1"),_setAriaLive(inputEl,"polite"),this.addManagedListeners(inputEl,{click:event=>{if(_stopPropagationForAgGrid(event),eCheckbox.isDisabled())return;const isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected)},dblclick:event=>{_stopPropagationForAgGrid(event)}}),this.addManagedElementListeners(params.eGridCell,{keydown:event=>{if(event.key===KeyCode_SPACE&&!eCheckbox.isDisabled()){params.eGridCell===_getActiveDomElement(beans)&&eCheckbox.toggle();const isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected),event.preventDefault()}}})}refresh(params){return this.params=params,this.updateCheckbox(params),!0}updateCheckbox(params){let isSelected,displayed=!0;const{value,column,node}=params;if(node.group&&column)if("boolean"==typeof value)isSelected=value;else{const colId=column.getColId();colId.startsWith(GROUP_AUTO_COLUMN_ID)?isSelected=null==value||""===value?void 0:"true"===value:node.aggData&&void 0!==node.aggData[colId]?isSelected=value??void 0:displayed=!1}else isSelected=value??void 0;const{eCheckbox}=this;if(!displayed)return void eCheckbox.setDisplayed(!1);eCheckbox.setValue(isSelected);const disabled=params.disabled??!column?.isCellEditable(node);eCheckbox.setDisabled(disabled);const translate=this.getLocaleTextFunc(),stateName=_getAriaCheckboxStateName(translate,isSelected),ariaLabel=disabled?stateName:`${translate("ariaToggleCellValue","Press SPACE to toggle cell value")} (${stateName})`;eCheckbox.setInputAriaLabel(ariaLabel)}onCheckboxChanged(isSelected){const{eventSvc,params}=this,{column,node,value}=params,sharedEventParams={column,colDef:column.getColDef(),data:node.data,node,rowIndex:node.rowIndex,rowPinned:node.rowPinned,value};eventSvc.dispatchEvent({type:"cellEditingStarted",...sharedEventParams});const valueChanged=node.setDataValue(column,isSelected,"edit");eventSvc.dispatchEvent({type:"cellEditingStopped",...sharedEventParams,oldValue:value,newValue:isSelected,valueChanged}),valueChanged||this.updateCheckbox(params)}}}};function _deepCloneDefinition(object,keysToSkip){if(!object)return;const obj=object,res={};return Object.keys(obj).forEach((key=>{if(keysToSkip&&keysToSkip.indexOf(key)>=0||SKIP_JS_BUILTINS.has(key))return;const value=obj[key],sourceIsSimpleObject="object"==typeof value&&null!==value&&value.constructor===Object;res[key]=sourceIsSimpleObject?_deepCloneDefinition(value):value})),res}function mergeDataTypeDefinitions(parentDataTypeDefinition,childDataTypeDefinition){const mergedDataTypeDefinition={...parentDataTypeDefinition,...childDataTypeDefinition};return parentDataTypeDefinition.columnTypes&&childDataTypeDefinition.columnTypes&&childDataTypeDefinition.appendColumnTypes&&(mergedDataTypeDefinition.columnTypes=[...convertColumnTypes(parentDataTypeDefinition.columnTypes),...convertColumnTypes(childDataTypeDefinition.columnTypes)]),mergedDataTypeDefinition}function validateDataTypeDefinition(dataTypeDefinition,parentDataTypeDefinition,parentCellDataType){return parentDataTypeDefinition?parentDataTypeDefinition.baseDataType===dataTypeDefinition.baseDataType||(_warn(46),!1):(_warn(45,{parentCellDataType}),!1)}function createGroupSafeValueFormatter(dataTypeDefinition,gos){if(dataTypeDefinition.valueFormatter)return params=>{if(params.node?.group){const aggFunc=(params.colDef.pivotValueColumn??params.column).getAggFunc();if(aggFunc){if("first"===aggFunc||"last"===aggFunc)return dataTypeDefinition.valueFormatter(params);if("number"===dataTypeDefinition.baseDataType&&"count"!==aggFunc){if("number"==typeof params.value)return dataTypeDefinition.valueFormatter(params);if("object"==typeof params.value){if(!params.value)return;if("toNumber"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.toNumber()});if("value"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.value})}}return}if("groupRows"===gos.get("groupDisplayType")&&!gos.get("treeData"))return}else if(gos.get("groupHideOpenParents")&&params.column.isRowGroupActive()&&"string"==typeof params.value&&!dataTypeDefinition.dataTypeMatcher?.(params.value))return;return dataTypeDefinition.valueFormatter(params)}}function doColDefPropsPreventInference(colDef,propsToCheckForInference){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((([prop,comparisonValue])=>function doesColDefPropPreventInference(colDef,checkProps,prop,comparisonValue){if(!checkProps[prop])return!1;const value=colDef[prop];return null===value?(checkProps[prop]=!1,!1):void 0===comparisonValue?!!value:value===comparisonValue}(colDef,propsToCheckForInference,prop,comparisonValue)))}function getUpdatedColumnState(column,columnStateUpdates){const columnState=getColumnStateFromColDef(column);return columnStateUpdates.forEach((key=>{delete columnState[key],"rowGroup"===key?delete columnState.rowGroupIndex:"pivot"===key&&delete columnState.pivotIndex})),columnState}var DataTypeModule={moduleName:"DataType",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(beans){this.colModel=beans.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(event=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(event)}))}processDataTypeDefinitions(){const defaultDataTypes=this.getDefaultDataTypes(),newDataTypeDefinitions={};this.dataTypeDefinitions=newDataTypeDefinitions;const newFormatValueFuncs={};this.formatValueFuncs=newFormatValueFuncs;const generateFormatValueFunc=dataTypeDefinition=>params=>{const{column,node,value}=params;let valueFormatter=column.getColDef().valueFormatter;return valueFormatter===dataTypeDefinition.groupSafeValueFormatter&&(valueFormatter=dataTypeDefinition.valueFormatter),this.beans.valueSvc.formatValue(column,node,value,valueFormatter)};for(const cellDataType of Object.keys(defaultDataTypes)){const dataTypeDefinition=defaultDataTypes[cellDataType],mergedDataTypeDefinition={...dataTypeDefinition,groupSafeValueFormatter:createGroupSafeValueFormatter(dataTypeDefinition,this.gos)};newDataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,newFormatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition)}const dataTypeDefinitions=this.gos.get("dataTypeDefinitions")??{},newDataTypeMatchers={};this.dataTypeMatchers=newDataTypeMatchers;for(const cellDataType of Object.keys(dataTypeDefinitions)){const dataTypeDefinition=dataTypeDefinitions[cellDataType],mergedDataTypeDefinition=this.processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,[cellDataType],defaultDataTypes);mergedDataTypeDefinition&&(newDataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,dataTypeDefinition.dataTypeMatcher&&(newDataTypeMatchers[cellDataType]=dataTypeDefinition.dataTypeMatcher),newFormatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition))}this.checkObjectValueHandlers(defaultDataTypes),["dateString","text","number","boolean","date"].forEach((cellDataType=>{const overriddenDataTypeMatcher=newDataTypeMatchers[cellDataType];overriddenDataTypeMatcher&&delete newDataTypeMatchers[cellDataType],newDataTypeMatchers[cellDataType]=overriddenDataTypeMatcher??defaultDataTypes[cellDataType].dataTypeMatcher}))}processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,alreadyProcessedDataTypes,defaultDataTypes){let mergedDataTypeDefinition;const extendsCellDataType=dataTypeDefinition.extendsDataType;if(dataTypeDefinition.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),dataTypeDefinition.extendsDataType===dataTypeDefinition.baseDataType){let baseDataTypeDefinition=defaultDataTypes[extendsCellDataType];const overriddenBaseDataTypeDefinition=dataTypeDefinitions[extendsCellDataType];if(baseDataTypeDefinition&&overriddenBaseDataTypeDefinition&&(baseDataTypeDefinition=overriddenBaseDataTypeDefinition),!validateDataTypeDefinition(dataTypeDefinition,baseDataTypeDefinition,extendsCellDataType))return;mergedDataTypeDefinition=mergeDataTypeDefinitions(baseDataTypeDefinition,dataTypeDefinition)}else{if(alreadyProcessedDataTypes.includes(extendsCellDataType))return void _warn(44);const extendedDataTypeDefinition=dataTypeDefinitions[extendsCellDataType];if(!validateDataTypeDefinition(dataTypeDefinition,extendedDataTypeDefinition,extendsCellDataType))return;const mergedExtendedDataTypeDefinition=this.processDataTypeDefinition(extendedDataTypeDefinition,dataTypeDefinitions,[...alreadyProcessedDataTypes,extendsCellDataType],defaultDataTypes);if(!mergedExtendedDataTypeDefinition)return;mergedDataTypeDefinition=mergeDataTypeDefinitions(mergedExtendedDataTypeDefinition,dataTypeDefinition)}return{...mergedDataTypeDefinition,groupSafeValueFormatter:createGroupSafeValueFormatter(mergedDataTypeDefinition,this.gos)}}updateColDefAndGetColumnType(colDef,userColDef,colId){let{cellDataType}=userColDef;const{field}=userColDef;if(void 0===cellDataType&&(cellDataType=colDef.cellDataType),null!=cellDataType&&!0!==cellDataType||(cellDataType=!!this.canInferCellDataType(colDef,userColDef)&&this.inferCellDataType(field,colId)),!cellDataType)return void(colDef.cellDataType=!1);const dataTypeDefinition=this.dataTypeDefinitions[cellDataType];if(dataTypeDefinition)return colDef.cellDataType=cellDataType,dataTypeDefinition.groupSafeValueFormatter&&(colDef.valueFormatter=dataTypeDefinition.groupSafeValueFormatter),dataTypeDefinition.valueParser&&(colDef.valueParser=dataTypeDefinition.valueParser),dataTypeDefinition.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId),dataTypeDefinition.columnTypes;_warn(47,{cellDataType})}addColumnListeners(column){if(!this.isPendingInference)return;const columnStateUpdates=this.columnStateUpdatesPendingInference[column.getColId()];if(!columnStateUpdates)return;const columnListener=event=>{columnStateUpdates.add(event.key)};column.__addEventListener("columnStateUpdated",columnListener),this.columnStateUpdateListenerDestroyFuncs.push((()=>column.__removeEventListener("columnStateUpdated",columnListener)))}canInferCellDataType(colDef,userColDef){const{gos}=this;if(!_isClientSideRowModel(gos))return!1;const propsToCheckForInference={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(doColDefPropsPreventInference(userColDef,propsToCheckForInference))return!1;const columnTypes=null===userColDef.type?colDef.type:userColDef.type;if(columnTypes){const columnTypeDefs=gos.get("columnTypes")??{};if(convertColumnTypes(columnTypes).some((columnType=>{const columnTypeDef=columnTypeDefs[columnType.trim()];return columnTypeDef&&doColDefPropsPreventInference(columnTypeDef,propsToCheckForInference)})))return!1}return!doColDefPropsPreventInference(colDef,propsToCheckForInference)}inferCellDataType(field,colId){if(!field)return;let value;const initialData=this.getInitialData();if(initialData){const fieldContainsDots=field.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");value=_getValueUsingField(initialData,field,fieldContainsDots)}else this.initWaitForRowData(colId);return null!=value?Object.keys(this.dataTypeMatchers).find((_cellDataType=>this.dataTypeMatchers[_cellDataType](value)))??"object":void 0}getInitialData(){const rowData=this.gos.get("rowData");if(rowData?.length)return rowData[0];if(this.initialData)return this.initialData;{const rowNodes=this.beans.rowModel.rootNode?.allLeafChildren;if(rowNodes?.length)return rowNodes[0].data}return null}initWaitForRowData(colId){if(this.columnStateUpdatesPendingInference[colId]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const columnTypeOverridesExist=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize,eventSvc}=this.beans;columnTypeOverridesExist&&colAutosize&&(colAutosize.shouldQueueResizeOperations=!0);const[destroyFunc]=this.addManagedEventListeners({rowDataUpdateStarted:event=>{const{firstRowData}=event;firstRowData&&(destroyFunc?.(),this.isPendingInference=!1,this.processColumnsPendingInference(firstRowData,columnTypeOverridesExist),this.columnStateUpdatesPendingInference={},columnTypeOverridesExist&&colAutosize?.processResizeOperations(),eventSvc.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(firstRowData,columnTypeOverridesExist){this.initialData=firstRowData;const state=[];this.destroyColumnStateUpdateListeners();const newRowGroupColumnStateWithoutIndex={},newPivotColumnStateWithoutIndex={};for(const colId of Object.keys(this.columnStateUpdatesPendingInference)){const columnStateUpdates=this.columnStateUpdatesPendingInference[colId],column=this.colModel.getCol(colId);if(!column)return;const oldColDef=column.getColDef();if(!this.resetColDefIntoCol(column,"cellDataTypeInferred"))return;const newColDef=column.getColDef();if(columnTypeOverridesExist&&newColDef.type&&newColDef.type!==oldColDef.type){const updatedColumnState=getUpdatedColumnState(column,columnStateUpdates);updatedColumnState.rowGroup&&null==updatedColumnState.rowGroupIndex&&(newRowGroupColumnStateWithoutIndex[colId]=updatedColumnState),updatedColumnState.pivot&&null==updatedColumnState.pivotIndex&&(newPivotColumnStateWithoutIndex[colId]=updatedColumnState),state.push(updatedColumnState)}}columnTypeOverridesExist&&state.push(...this.generateColumnStateForRowGroupAndPivotIndexes(newRowGroupColumnStateWithoutIndex,newPivotColumnStateWithoutIndex)),state.length&&_applyColumnState(this.beans,{state},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState,updatedPivotColumnState){const existingColumnStateUpdates={},{rowGroupColsSvc,pivotColsSvc}=this.beans;return rowGroupColsSvc?.restoreColumnOrder(existingColumnStateUpdates,updatedRowGroupColumnState),pivotColsSvc?.restoreColumnOrder(existingColumnStateUpdates,updatedPivotColumnState),Object.values(existingColumnStateUpdates)}resetColDefIntoCol(column,source){const userColDef=column.getUserProvidedColDef();if(!userColDef)return!1;const newColDef=_addColumnDefaultAndTypes(this.beans,userColDef,column.getColId());return column.setColDef(newColDef,userColDef,source),!0}checkObjectValueHandlers(defaultDataTypes){const resolvedObjectDataTypeDefinition=this.dataTypeDefinitions.object,defaultObjectDataTypeDefinition=defaultDataTypes.object;this.hasObjectValueParser=resolvedObjectDataTypeDefinition.valueParser!==defaultObjectDataTypeDefinition.valueParser,this.hasObjectValueFormatter=resolvedObjectDataTypeDefinition.valueFormatter!==defaultObjectDataTypeDefinition.valueFormatter}getDateStringTypeDefinition(column){const{dateString}=this.dataTypeDefinitions;return column?this.getDataTypeDefinition(column)??dateString:dateString}getDateParserFunction(column){return this.getDateStringTypeDefinition(column).dateParser}getDateFormatterFunction(column){return this.getDateStringTypeDefinition(column).dateFormatter}getDataTypeDefinition(column){const colDef=column.getColDef();if(colDef.cellDataType)return this.dataTypeDefinitions[colDef.cellDataType]}getBaseDataType(column){return this.getDataTypeDefinition(column)?.baseDataType}checkType(column,value){if(null==value)return!0;const dataTypeMatcher=this.getDataTypeDefinition(column)?.dataTypeMatcher;return!dataTypeMatcher||dataTypeMatcher(value)}validateColDef(colDef){const warning=property=>_warn(48,{property});if("object"===colDef.cellDataType){const{object}=this.dataTypeDefinitions;colDef.valueFormatter!==object.groupSafeValueFormatter||this.hasObjectValueFormatter||warning("Formatter"),colDef.editable&&colDef.valueParser===object.valueParser&&!this.hasObjectValueParser&&warning("Parser")}}getFormatValue(cellDataType){return this.formatValueFuncs[cellDataType]}isColPendingInference(colId){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[colId]}setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId){const formatValue=this.formatValueFuncs[cellDataType];switch(dataTypeDefinition.baseDataType){case"number":colDef.cellEditor="agNumberCellEditor";break;case"boolean":colDef.cellEditor="agCheckboxCellEditor",colDef.cellRenderer="agCheckboxCellRenderer",colDef.suppressKeyboardEvent=params=>!!params.colDef.editable&&params.event.key===KeyCode_SPACE;break;case"date":colDef.cellEditor="agDateCellEditor",colDef.keyCreator=formatValue;break;case"dateString":colDef.cellEditor="agDateStringCellEditor",colDef.keyCreator=formatValue;break;case"object":colDef.cellEditorParams={useFormatter:!0},colDef.comparator=(a,b)=>{const column=this.colModel.getColDefCol(colId),colDef2=column?.getColDef();if(!column||!colDef2)return 0;const valA=null==a?"":formatValue({column,node:null,value:a}),valB=null==b?"":formatValue({column,node:null,value:b});return valA===valB?0:valA>valB?1:-1},colDef.keyCreator=formatValue}this.beans.filterManager?.setColDefPropertiesForDataType(colDef,dataTypeDefinition,formatValue)}getDefaultDataTypes(){const defaultDateFormatMatcher=value=>!!value.match("^\\d{4}-\\d{2}-\\d{2}$"),translate=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:params=>""===params.newValue?.trim?.()?null:Number(params.newValue),valueFormatter:params=>null==params.value?"":"number"!=typeof params.value||isNaN(params.value)?translate("invalidNumber","Invalid Number"):String(params.value),dataTypeMatcher:value=>"number"==typeof value},text:{baseDataType:"text",valueParser:params=>""===params.newValue?null:_toStringOrNull(params.newValue),dataTypeMatcher:value=>"string"==typeof value},boolean:{baseDataType:"boolean",valueParser:params=>null==params.newValue?params.newValue:""===params.newValue?.trim?.()?null:"true"===String(params.newValue).toLowerCase(),valueFormatter:params=>null==params.value?"":String(params.value),dataTypeMatcher:value=>"boolean"==typeof value},date:{baseDataType:"date",valueParser:params=>_parseDateTimeFromString(null==params.newValue?null:String(params.newValue)),valueFormatter:params=>null==params.value?"":params.value instanceof Date&&!isNaN(params.value.getTime())?_serialiseDate(params.value,!1)??"":translate("invalidDate","Invalid Date"),dataTypeMatcher:value=>value instanceof Date},dateString:{baseDataType:"dateString",dateParser:value=>_parseDateTimeFromString(value)??void 0,dateFormatter:value=>_serialiseDate(value??null,!1)??void 0,valueParser:params=>defaultDateFormatMatcher(String(params.newValue))?params.newValue:null,valueFormatter:params=>defaultDateFormatMatcher(String(params.value))?params.value:"",dataTypeMatcher:value=>"string"==typeof value&&defaultDateFormatMatcher(value)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:params=>_toStringOrNull(params.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((destroyFunc=>destroyFunc())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}],dependsOn:[CheckboxCellRendererModule]},ColumnFlexModule={moduleName:"ColumnFlex",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(params={}){const source=params.source??"flex";null!=params.viewportWidth&&(this.flexViewportWidth=params.viewportWidth);const totalSpace=this.flexViewportWidth;if(!totalSpace)return[];const{visibleCols}=this.beans,visibleCenterCols=visibleCols.centerCols;let flexAfterDisplayIndex=-1;if(params.resizingCols){const allResizingCols=new Set(params.resizingCols);for(let i=visibleCenterCols.length-1;i>=0;i--)if(allResizingCols.has(visibleCenterCols[i])){flexAfterDisplayIndex=i;break}}let hasFlexItems=!1;const items=visibleCenterCols.map(((col,i)=>{const flex=col.getFlex(),isFlex=null!=flex&&flex>0&&i>flexAfterDisplayIndex;return hasFlexItems||(hasFlexItems=isFlex),{col,isFlex,flex:Math.max(0,flex??0),initialSize:col.getActualWidth(),min:col.getMinWidth(),max:col.getMaxWidth(),targetSize:0}}));if(!hasFlexItems)return[];let unfrozenItemCount=items.length,unfrozenFlex=items.reduce(((acc,item)=>acc+item.flex),0),unfrozenSpace=totalSpace;const freeze=(item,width)=>{item.frozenSize=width,item.col.setActualWidth(width,source),unfrozenSpace-=width,unfrozenFlex-=item.flex,unfrozenItemCount-=1},isFrozen=item=>null!=item.frozenSize;for(const item of items)item.isFlex||freeze(item,item.initialSize);for(;unfrozenItemCount>0;){const spaceToFill=Math.round(unfrozenFlex<1?unfrozenSpace*unfrozenFlex:unfrozenSpace);let lastUnfrozenItem,actualLeft=0,idealRight=0;for(const item of items){if(isFrozen(item))continue;lastUnfrozenItem=item,idealRight+=spaceToFill*(item.flex/unfrozenFlex);const idealSize=idealRight-actualLeft,roundedSize=Math.round(idealSize);item.targetSize=roundedSize,actualLeft+=roundedSize}lastUnfrozenItem&&(lastUnfrozenItem.targetSize+=spaceToFill-actualLeft);let totalViolation=0;for(const item of items){if(isFrozen(item))continue;const unclampedSize=item.targetSize,clampedSize=Math.min(Math.max(unclampedSize,item.min),item.max);totalViolation+=clampedSize-unclampedSize,item.violationType=clampedSize===unclampedSize?void 0:clampedSize<unclampedSize?"max":"min",item.targetSize=clampedSize}const freezeType=0===totalViolation?"all":totalViolation>0?"min":"max";for(const item of items)isFrozen(item)||"all"!==freezeType&&item.violationType!==freezeType||freeze(item,item.targetSize)}params.skipSetLeft||visibleCols.setLeftValues(source),params.updateBodyWidths&&visibleCols.updateBodyWidths();const unconstrainedFlexColumns=items.filter((item=>item.isFlex&&!item.violationType)).map((item=>item.col));if(params.fireResizedEvent){const changedColumns=items.filter((item=>item.initialSize!==item.frozenSize)).map((item=>item.col)),flexingColumns=items.filter((item=>item.flex)).map((item=>item.col));dispatchColumnResizedEvent(this.eventSvc,changedColumns,!0,source,flexingColumns)}return unconstrainedFlexColumns}initCol(column){const{flex,initialFlex}=column.colDef;void 0!==flex?column.flex=flex:void 0!==initialFlex&&(column.flex=initialFlex)}setColFlex(column,flex){column.flex=flex??null,column.dispatchStateUpdatedEvent("flex")}}]},ColumnApiModule={moduleName:"ColumnApi",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(beans){this.rowGroupColsSvc=beans.rowGroupColsSvc,this.pivotColsSvc=beans.pivotColsSvc}getColumnDefs(colDefColsList,showingPivotResult,lastOrder,colsList){const cols=colDefColsList.slice();showingPivotResult?cols.sort(((a,b)=>lastOrder.indexOf(a)-lastOrder.indexOf(b))):lastOrder&&cols.sort(((a,b)=>colsList.indexOf(a)-colsList.indexOf(b)));const rowGroupColumns=this.rowGroupColsSvc?.columns,pivotColumns=this.pivotColsSvc?.columns;return this.buildColumnDefs(cols,rowGroupColumns,pivotColumns)}buildColumnDefs(cols,rowGroupColumns=[],pivotColumns=[]){const res=[],colGroupDefs={};return cols.forEach((col=>{let addToResult=!0,childDef=this.createDefFromColumn(col,rowGroupColumns,pivotColumns),pointer=col.getOriginalParent(),lastPointer=null;for(;pointer;){let parentDef=null;if(pointer.isPadding()){pointer=pointer.getOriginalParent();continue}const existingParentDef=colGroupDefs[pointer.getGroupId()];if(existingParentDef){existingParentDef.children.push(childDef),addToResult=!1;break}if(parentDef=this.createDefFromGroup(pointer),parentDef&&(parentDef.children=[childDef],colGroupDefs[parentDef.groupId]=parentDef,childDef=parentDef,pointer=pointer.getOriginalParent()),null!=pointer&&lastPointer===pointer){addToResult=!1;break}lastPointer=pointer}addToResult&&res.push(childDef)})),res}createDefFromGroup(group){const defCloned=_deepCloneDefinition(group.getColGroupDef(),["children"]);return defCloned&&(defCloned.groupId=group.getGroupId()),defCloned}createDefFromColumn(col,rowGroupColumns,pivotColumns){const colDefCloned=_deepCloneDefinition(col.getColDef());return colDefCloned.colId=col.getColId(),colDefCloned.width=col.getActualWidth(),colDefCloned.rowGroup=col.isRowGroupActive(),colDefCloned.rowGroupIndex=col.isRowGroupActive()?rowGroupColumns.indexOf(col):null,colDefCloned.pivot=col.isPivotActive(),colDefCloned.pivotIndex=col.isPivotActive()?pivotColumns.indexOf(col):null,colDefCloned.aggFunc=col.isValueActive()?col.getAggFunc():null,colDefCloned.hide=!col.isVisible()||void 0,colDefCloned.pinned=col.isPinned()?col.getPinned():null,colDefCloned.sort=col.getSort()?col.getSort():null,colDefCloned.sortIndex=null!=col.getSortIndex()?col.getSortIndex():null,colDefCloned}}],apiFunctions:{getColumnDef:function getColumnDef(beans,key){const column=beans.colModel.getColDefCol(key);return column?column.getColDef():null},getDisplayNameForColumn:function getDisplayNameForColumn(beans,column,location){return beans.colNames.getDisplayNameForColumn(column,location)||""},getColumn:function getColumn(beans,key){return beans.colModel.getColDefCol(key)},getColumns:function getColumns(beans){return beans.colModel.getColDefCols()},applyColumnState:function applyColumnState(beans,params){return _applyColumnState(beans,params,"api")},getColumnState:function getColumnState(beans){return _getColumnState(beans)},resetColumnState:function resetColumnState(beans){!function _resetColumnState(beans,source){const{colModel,autoColSvc}=beans,primaryCols=colModel.getColDefCols();if(!primaryCols?.length)return;const primaryColumns=_getColumnsFromTree(colModel.getColDefColTree()),columnStates=[];let letRowGroupIndex=1e3,letPivotIndex=1e3,colsToProcess=[];const groupAutoCols=autoColSvc?.getColumns();groupAutoCols&&(colsToProcess=colsToProcess.concat(groupAutoCols)),primaryColumns&&(colsToProcess=colsToProcess.concat(primaryColumns)),colsToProcess.forEach((column=>{const stateItem=getColumnStateFromColDef(column);_missing(stateItem.rowGroupIndex)&&stateItem.rowGroup&&(stateItem.rowGroupIndex=letRowGroupIndex++),_missing(stateItem.pivotIndex)&&stateItem.pivot&&(stateItem.pivotIndex=letPivotIndex++),columnStates.push(stateItem)})),_applyColumnState(beans,{state:columnStates,applyOrder:!0},source)}(beans,"api")},isPinning:function isPinning(beans){return beans.visibleCols.isPinningLeft()||beans.visibleCols.isPinningRight()},isPinningLeft:function isPinningLeft(beans){return beans.visibleCols.isPinningLeft()},isPinningRight:function isPinningRight(beans){return beans.visibleCols.isPinningRight()},getDisplayedColAfter:function getDisplayedColAfter(beans,col){return beans.visibleCols.getColAfter(col)},getDisplayedColBefore:function getDisplayedColBefore(beans,col){return beans.visibleCols.getColBefore(col)},setColumnsVisible:function setColumnsVisible(beans,keys,visible){beans.colModel.setColsVisible(keys,visible,"api")},setColumnsPinned:function setColumnsPinned(beans,keys,pinned){beans.pinnedCols?.setColsPinned(keys,pinned,"api")},getAllGridColumns:function getAllGridColumns(beans){return beans.colModel.getCols()},getDisplayedLeftColumns:function getDisplayedLeftColumns(beans){return beans.visibleCols.leftCols},getDisplayedCenterColumns:function getDisplayedCenterColumns(beans){return beans.visibleCols.centerCols},getDisplayedRightColumns:function getDisplayedRightColumns(beans){return beans.visibleCols.rightCols},getAllDisplayedColumns:function getAllDisplayedColumns(beans){return beans.visibleCols.allCols},getAllDisplayedVirtualColumns:function getAllDisplayedVirtualColumns(beans){return beans.colViewport.getViewportColumns()},getColumnDefs:function getColumnDefs(beans){return beans.colModel.getColumnDefs()}}};var mix,CellRendererFunctionModule={moduleName:"CellRendererFunction",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(type,jsCompFunc){if(!type.cellRenderer)return null;return class Adapter{refresh(){return!1}getGui(){return this.eGui}init(params){const callbackResult=jsCompFunc(params),type2=typeof callbackResult;this.eGui="string"!==type2&&"number"!==type2&&"boolean"!==type2?null!=callbackResult?callbackResult:_loadTemplate("<span></span>"):_loadTemplate("<span>"+callbackResult+"</span>")}}}}]},IS_SSR="object"!=typeof window||!window?.document?.fonts?.forEach,injectionsByContainer=new WeakMap,_injectGlobalCSS=(css,styleContainer,debugId,layer,priority)=>{if(IS_SSR)return;if(FORCE_LEGACY_THEMES)return;layer&&(css=`@layer ${CSS.escape(layer)} { ${css} }`);let injections=injectionsByContainer.get(styleContainer);if(injections||(injections=[],injectionsByContainer.set(styleContainer,injections)),injections.find((i=>i.css===css)))return;const el=document.createElement("style");el.dataset.agGlobalCss=debugId,el.textContent=css;const newInjection={css,el,priority};let insertAfter;for(const injection of injections){if(injection.priority>priority)break;insertAfter=injection}if(insertAfter){insertAfter.el.insertAdjacentElement("afterend",el);const index=injections.indexOf(insertAfter);injections.splice(index+1,0,newInjection)}else styleContainer.insertBefore(el,styleContainer.querySelector(":not(title, meta)")),injections.push(newInjection)},_injectCoreAndModuleCSS=(styleContainer,layer)=>{_injectGlobalCSS(':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',styleContainer,"core",layer,0),Array.from(function _getAllRegisteredModules(){return new Set(allRegisteredModules)}()).sort(((a,b)=>a.moduleName.localeCompare(b.moduleName))).forEach((module=>module.css?.forEach((css=>_injectGlobalCSS(css,styleContainer,`module-${module.moduleName}`,layer,0)))))},gridsUsingThemingAPI=new Set,createPart=args=>new PartImpl(args),defaultModeName="$default",partCounter=0,PartImpl=class{constructor({feature,params,modeParams={},css,cssImports}){this.feature=feature,this.css=css,this.cssImports=cssImports,this.modeParams={[defaultModeName]:{...modeParams.$default??{},...params??{}},...modeParams}}use(styleContainer,layer){let inject=this._inject;if(null==inject){let{css}=this;if(css){const className=`ag-theme-${this.feature??"part"}-${++partCounter}`;"function"==typeof css&&(css=css()),css=`:where(.${className}) {\n${css}\n}\n`;for(const cssImport of this.cssImports??[])css=`@import url(${JSON.stringify(cssImport)});\n${css}`;inject={css,class:className}}else inject=!1;this._inject=inject}return inject&&styleContainer&&_injectGlobalCSS(inject.css,styleContainer,inject.class,layer,1),!!inject&&inject.class}},paramToVariableName=paramName=>{return`--ag-${str=paramName,str.replace(/[A-Z]/g,(m=>`-${m}`)).toLowerCase()}`;var str},paramToVariableExpression=paramName=>`var(${paramToVariableName(paramName)})`,accentMix=mix=>({ref:"accentColor",mix}),foregroundMix=mix=>({ref:"foregroundColor",mix}),foregroundBackgroundMix=mix=>({ref:"foregroundColor",mix,onto:"backgroundColor"}),backgroundColor={ref:"backgroundColor"},foregroundColor={ref:"foregroundColor"},accentColor={ref:"accentColor"},defaultLightColorSchemeParams={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:foregroundMix(.15),chromeBackgroundColor:foregroundBackgroundMix(.02),browserColorScheme:"light"},coreDefaults={...defaultLightColorSchemeParams,textColor:foregroundColor,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:backgroundColor,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:accentColor,rangeSelectionBackgroundColor:accentMix(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:accentMix(.5),rangeHeaderHighlightColor:(mix=.08,{ref:"foregroundColor",mix,onto:"headerBackgroundColor"}),rowNumbersSelectedColor:accentMix(.5),rowHoverColor:accentMix(.08),columnHoverColor:accentMix(.05),selectedRowBackgroundColor:accentMix(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:backgroundColor,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:backgroundColor,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:foregroundMix(.7),focusShadow:{spread:3,color:accentMix(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:foregroundMix(.1),iconButtonActiveColor:accentColor,iconButtonActiveBackgroundColor:accentMix(.28),iconButtonActiveIndicatorColor:accentColor,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:accentColor,toggleButtonOffBackgroundColor:foregroundBackgroundMix(.3),toggleButtonSwitchBackgroundColor:backgroundColor,toggleButtonSwitchInset:2,menuBorder:{color:foregroundMix(.2)},menuBackgroundColor:foregroundBackgroundMix(.03),menuTextColor:foregroundBackgroundMix(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:foregroundMix(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:accentColor},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:foregroundMix(.2)},panelBackgroundColor:backgroundColor,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:foregroundMix(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:foregroundMix(.13)},selectCellBackgroundColor:foregroundMix(.07),selectCellBorder:{color:foregroundMix(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:foregroundMix(.15),statusBarLabelColor:foregroundColor,statusBarLabelFontWeight:500,statusBarValueColor:foregroundColor,statusBarValueFontWeight:500},buttonStyleBaseCSS=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",baseParams={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},buttonStyleBase=(()=>createPart({feature:"buttonStyle",params:baseParams,css:buttonStyleBaseCSS}))(),buttonStyleQuartz=(()=>createPart({feature:"buttonStyle",params:{...baseParams,buttonBackgroundColor:backgroundColor,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:accentColor}},css:buttonStyleBaseCSS}))(),buttonStyleAlpine=(()=>createPart({feature:"buttonStyle",params:{...baseParams,buttonBackgroundColor:backgroundColor,buttonBorder:{color:accentColor},buttonFontWeight:600,buttonTextColor:accentColor,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBackgroundColor:accentColor,buttonActiveTextColor:backgroundColor},css:buttonStyleBaseCSS}))(),buttonStyleBalham=(()=>createPart({feature:"buttonStyle",params:{...baseParams,buttonBorder:{color:foregroundColor,width:2,style:"outset"},buttonActiveBorder:{color:foregroundColor,width:2,style:"inset"},buttonBackgroundColor:foregroundBackgroundMix(.07),buttonHoverBackgroundColor:backgroundColor,buttonVerticalPadding:{calc:"spacing * 0.5"}},css:buttonStyleBaseCSS}))(),columnDropStyleBordered=(()=>createPart({feature:"columnDropStyle",css:".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}"}))(),columnDropStylePlain=(()=>createPart({feature:"columnDropStyle",css:".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}"}))(),paramTypes=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],getParamType=(fn=>{const values=new Map;return a=>{const key=a;return values.has(key)||values.set(key,fn(a)),values.get(key)}})((param=>(param=param.toLowerCase(),paramTypes.find((type=>param.endsWith(type.toLowerCase())))??"length"))),literalToCSS=value=>"object"==typeof value&&value?.ref?paramToVariableExpression(value.ref):"string"==typeof value?value:"number"==typeof value&&String(value),colorValueToCss=value=>{if("string"==typeof value)return value;if(value&&"ref"in value){const colorExpr=paramToVariableExpression(value.ref);if(null==value.mix)return colorExpr;return`color-mix(in srgb, ${value.onto?paramToVariableExpression(value.onto):"transparent"}, ${colorExpr} ${((value,min,max)=>Math.max(min,Math.min(max,value)))(100*value.mix,0,100)}%)`}return!1},lengthValueToCss=value=>{if("string"==typeof value)return value;if("number"==typeof value)return`${value}px`;if(value&&"calc"in value){return`calc(${value.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,(p=>"-"===p[0]?p:` ${paramToVariableExpression(p)} `))})`}return!(!value||!("ref"in value))&&paramToVariableExpression(value.ref)},borderStyleValueToCss=literalToCSS,fontFamilyValueToCss=value=>"string"==typeof value?value:value&&"googleFont"in value?fontFamilyValueToCss(value.googleFont):value&&"ref"in value?paramToVariableExpression(value.ref):!!Array.isArray(value)&&value.map((font=>("object"==typeof font&&"googleFont"in font&&(font=font.googleFont),quoteUnsafeChars(font)))).join(", "),quoteUnsafeChars=font=>/^[\w-]+$|\w\(/.test(font)?font:JSON.stringify(font),fontWeightValueToCss=literalToCSS,imageValueToCss=value=>"string"==typeof value?value:value&&"url"in value?`url(${JSON.stringify(value.url)})`:value&&"svg"in value?imageValueToCss({url:`data:image/svg+xml,${encodeURIComponent(value.svg)}`}):!(!value||!("ref"in value))&&paramToVariableExpression(value.ref),paramValidators={color:colorValueToCss,colorScheme:literalToCSS,length:lengthValueToCss,scale:literalToCSS,border:(value,param)=>"string"==typeof value?value:!0===value?"solid 1px var(--ag-border-color)":!1===value?"columnBorder"===param?"solid 1px transparent":"none":value&&"ref"in value?paramToVariableExpression(value.ref):borderStyleValueToCss(value.style??"solid")+" "+lengthValueToCss(value.width??1)+" "+colorValueToCss(value.color??{ref:"borderColor"}),borderStyle:borderStyleValueToCss,shadow:value=>"string"==typeof value?value:!1===value?"none":value&&"ref"in value?paramToVariableExpression(value.ref):[lengthValueToCss(value.offsetX??0),lengthValueToCss(value.offsetY??0),lengthValueToCss(value.radius??0),lengthValueToCss(value.spread??0),colorValueToCss(value.color??{ref:"foregroundColor"})].join(" "),image:imageValueToCss,fontFamily:fontFamilyValueToCss,fontWeight:fontWeightValueToCss,duration:(value,param)=>"string"==typeof value?value:"number"==typeof value?(value>=10&&_error(104,{value,param}),`${value}s`):!(!value||!("ref"in value))&&paramToVariableExpression(value.ref)},paramValueToCss=(param,value)=>{const type=getParamType(param);return paramValidators[type](value,param)},FORCE_LEGACY_THEMES=!1,createTheme=()=>(new ThemeImpl).withPart(buttonStyleQuartz).withPart(columnDropStyleBordered),ThemeImpl=class _ThemeImpl{constructor(parts=[]){this.parts=parts}withPart(part){return"function"==typeof part&&(part=part()),part instanceof PartImpl?new _ThemeImpl([...this.parts,part]):(_logPreInitErr(259,{part},"Invalid part"),this)}withoutPart(feature){return this.withPart(createPart({feature}))}withParams(params,mode="$default"){return this.withPart(createPart({modeParams:{[mode]:params}}))}_startUse({styleContainer,cssLayer,loadThemeGoogleFonts}){if(IS_SSR)return;if(FORCE_LEGACY_THEMES)return;uninstallLegacyCSS(),_injectCoreAndModuleCSS(styleContainer,cssLayer);const googleFontsUsed=getGoogleFontsUsed(this);if(googleFontsUsed.length>0)for(const googleFont of googleFontsUsed)loadThemeGoogleFonts&&loadGoogleFont(googleFont);for(const part of this.parts)part.use(styleContainer,cssLayer)}_getCssClass(){return FORCE_LEGACY_THEMES?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=deduplicatePartsByFeature(this.parts).map((part=>part.use(void 0,void 0))).filter(Boolean).join(" "))}_getModeParams(){let paramsCache=this._paramsCache;if(!paramsCache){const mergedModeParams={[defaultModeName]:{...coreDefaults}};for(const part of deduplicatePartsByFeature(this.parts))for(const partMode of Object.keys(part.modeParams)){const partParams=part.modeParams[partMode];if(partParams){const mergedParams=mergedModeParams[partMode]??(mergedModeParams[partMode]={}),partParamNames=new Set;for(const partParamName of Object.keys(partParams)){const partParamValue=partParams[partParamName];void 0!==partParamValue&&(mergedParams[partParamName]=partParamValue,partParamNames.add(partParamName))}if("$default"===partMode)for(const mergedMode of Object.keys(mergedModeParams)){const mergedParams2=mergedModeParams[mergedMode];if("$default"!==mergedMode)for(const partParamName of partParamNames)delete mergedParams2[partParamName]}}}this._paramsCache=paramsCache=mergedModeParams}return paramsCache}_getPerGridCss(className){let innerParamsCss=this._paramsCssCache;if(!innerParamsCss){let variablesCss="",inheritanceCss="";const modeParams=this._getModeParams();for(const mode of Object.keys(modeParams)){const params=modeParams[mode];if("$default"!==mode){const wrapPrefix=`:where([data-ag-theme-mode="${"object"==typeof CSS?CSS.escape(mode):mode}"]) & {\n`;variablesCss+=wrapPrefix,inheritanceCss+=wrapPrefix}for(const key of Object.keys(params).sort()){const value=params[key],cssValue=paramValueToCss(key,value);if(!1===cssValue)_error(107,{key,value});else{const cssName=paramToVariableName(key),inheritedName=cssName.replace("--ag-","--ag-inherited-");variablesCss+=`\t${cssName}: var(${inheritedName}, ${cssValue});\n`,inheritanceCss+=`\t${inheritedName}: var(${cssName});\n`}}"$default"!==mode&&(variablesCss+="}\n",inheritanceCss+="}\n")}let css=`##SELECTOR## {\n${variablesCss}}\n`;css+=`:has(> ##SELECTOR##):not(##SELECTOR##) {\n${inheritanceCss}}\n`,this._paramsCssCache=innerParamsCss=css}return innerParamsCss.replaceAll("##SELECTOR##",`:where(.${className})`)}},deduplicatePartsByFeature=parts=>{const lastPartByFeature=new Map;for(const part of parts)lastPartByFeature.set(part.feature,part);const result=[];for(const part of parts)part.feature&&lastPartByFeature.get(part.feature)!==part||result.push(part);return result},getGoogleFontsUsed=theme=>{const googleFontsUsed=new Set,visitParamValue=paramValue=>{if(Array.isArray(paramValue))paramValue.forEach(visitParamValue);else{const googleFont=paramValue?.googleFont;"string"==typeof googleFont&&googleFontsUsed.add(googleFont)}};return Object.values(theme._getModeParams()).flatMap((mv=>Object.values(mv))).forEach(visitParamValue),Array.from(googleFontsUsed).sort()},uninstalledLegacyCSS=!1,uninstallLegacyCSS=()=>{if(!uninstalledLegacyCSS){uninstalledLegacyCSS=!0;for(const style of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))style.remove()}},googleFontsLoaded=new Set,loadGoogleFont=function(){var _ref=(0,_Users_benrei_git_github_extension_packages_ag_grid_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)((function*(font){googleFontsLoaded.add(font);const css=`@import url('https://${googleFontsDomain}/css2?family=${encodeURIComponent(font)}:wght@100;200;300;400;500;600;700;800;900&display=swap');\n`;_injectGlobalCSS(css,document.head,`googleFont:${font}`,void 0,0)}));return function loadGoogleFont(_x){return _ref.apply(this,arguments)}}(),googleFontsDomain="fonts.googleapis.com",checkboxStyleDefault=(()=>createPart({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(.3),checkboxCheckedBackgroundColor:accentColor,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:backgroundColor,checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:backgroundColor,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:'.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}'}))(),darkParams=()=>({...defaultLightColorSchemeParams,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:foregroundBackgroundMix(.05),rowHoverColor:accentMix(.15),selectedRowBackgroundColor:accentMix(.2),menuBackgroundColor:foregroundBackgroundMix(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:foregroundBackgroundMix(.4),toggleButtonOffBackgroundColor:foregroundBackgroundMix(.4)}),darkBlueParams=()=>({...darkParams(),backgroundColor:"#1f2836"}),colorSchemeVariable=(()=>createPart({feature:"colorScheme",params:defaultLightColorSchemeParams,modeParams:{light:defaultLightColorSchemeParams,dark:darkParams(),"dark-blue":darkBlueParams()}}))(),iconSetBalham=createPart({feature:"iconSet",css:".ag-icon-aggregation:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M22 12h-2v-2h-8v.092c.056 1.352 3.426 2.598 4.472 4.404.682 1.174.438 2.754-.572 3.72C14.29 19.618 12 20.924 12 22h8v-2h2v4H10c0-1.586-.098-3.304 1.016-4.314 1.904-1.632 4.89-3.108 3.54-4.42-1.918-1.68-4.464-2.936-4.554-5.12L10 8h12z'/%3E%3C/svg%3E\")}.ag-icon-arrows:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='m6.414 17 2.294 2.292-1.416 1.416L2.586 16l4.706-4.708 1.416 1.416L6.414 15H15V6.414l-2.292 2.294-1.416-1.416L16 2.586l4.708 4.706-1.416 1.416L17 6.414V15h8.586l-2.294-2.292 1.416-1.416L29.414 16l-4.706 4.708-1.416-1.416L25.586 17H17v8.586l2.292-2.294 1.416 1.416L16 29.414l-4.708-4.706 1.416-1.416L15 25.586V17z'/%3E%3C/svg%3E\")}.ag-icon-asc:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E\")}.ag-icon-cancel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 4C9.378 4 4 9.378 4 16s5.378 12 12 12 12-5.378 12-12S22.622 4 16 4m0 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S6 21.52 6 16 10.48 6 16 6m0 8.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-chart:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E\")}.ag-icon-color-picker:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E\")}.ag-icon-columns:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M14 25h-2V7h2zm6 0h-2V7h2zm6 0h-2V7h2zM8 25H6V7h2z'/%3E%3C/svg%3E\")}.ag-icon-contracted:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-copy:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M21.929 27.999h-7.828a5.09 5.09 0 0 1-5.086-5.086v-9.812a5.087 5.087 0 0 1 5.086-5.086h7.828a5.09 5.09 0 0 1 5.086 5.086v9.812a5.087 5.087 0 0 1-5.086 5.086m.16-17.984h-8.088a2.94 2.94 0 0 0-2.938 2.938v10.132a2.94 2.94 0 0 0 2.938 2.938h8.088a2.94 2.94 0 0 0 2.936-2.938V12.953a2.94 2.94 0 0 0-2.936-2.938M7.041 26.013h-2.05a4 4 0 0 1-.006-.228V9.065a5.07 5.07 0 0 1 5.064-5.064h12.812q.069 0 .134.002v2.012H9.915a2.876 2.876 0 0 0-2.874 2.874z'/%3E%3C/svg%3E\")}.ag-icon-cross:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='4 4 24 24'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m16 14.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-csv:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\")}.ag-icon-cut:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14.703 15.096 6.215 4.719a1 1 0 1 1 1.548-1.267l13.058 15.965A5.001 5.001 0 0 1 28 23.916a5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 4.98 4.98 0 0 1 1.23-3.283l-3.238-3.958-3.272 4.001a4.98 4.98 0 0 1 1.265 3.323 5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 5 5 0 0 1 7.13-4.522zM8.991 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M23 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1m-5.723-8.852 1.292 1.579 7.205-8.808a1 1 0 0 0-1.548-1.267z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m17 21.379 4.292-4.294 1.416 1.416L16 25.207l-6.708-6.706 1.416-1.416L15 21.379V6.793h2z'/%3E%3C/svg%3E\")}.ag-icon-excel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\")}.ag-icon-expanded:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\")}.ag-icon-eye-slash:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M9.304 7.89a15.2 15.2 0 0 1 6.404-1.638c.294-.002.292-.002.584 0 5.956.174 11.328 4.088 13.62 9.748 0 0-1.318 3.178-3.224 5.174a13.6 13.6 0 0 1-2.226 1.874L26.414 25 25 26.414l-2.336-2.336C17.866 26.396 11.776 26.15 7.36 22.96a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.218 2.002-3.718a14.6 14.6 0 0 1 3.442-3.334L5.586 7 7 5.586zm-.3 2.528c-2.038 1.344-3.708 3.246-4.724 5.508L4.248 16c2.46 5.762 9.622 9.064 15.63 7.15q.688-.219 1.342-.516l-.912-.912a6.96 6.96 0 0 1-4.19 1.394c-3.862 0-7-3.136-7-7 0-1.57.52-3.022 1.394-4.19zm14.032 11.204a13.25 13.25 0 0 0 4.684-5.548l.032-.074c-1.984-4.646-6.834-7.798-12.006-7.748-1.712.05-3.386.458-4.922 1.158l1.102 1.102a6.97 6.97 0 0 1 4.192-1.396 7.003 7.003 0 0 1 5.606 11.192zm-11.09-8.262a5.003 5.003 0 0 0 6.928 6.928zm8.342 5.514a5.002 5.002 0 0 0-6.928-6.928z'/%3E%3C/svg%3E\")}.ag-icon-eye:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16.292 6.32c5.956.174 11.328 4.086 13.62 9.746 0 0-1.318 3.18-3.224 5.176-4.862 5.088-13.534 5.97-19.328 1.784a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.216 2.002-3.716 2.678-3.64 7.03-5.896 11.618-6.03.294-.004.292-.004.584 0m-.546 2c-4.896.142-9.458 3.202-11.466 7.672l-.032.074c2.46 5.762 9.622 9.066 15.63 7.152 3.458-1.102 6.342-3.738 7.842-7.076l.032-.076C25.768 11.42 20.918 8.27 15.746 8.32m.254.946c3.754 0 6.8 3.048 6.8 6.8 0 3.754-3.046 6.8-6.8 6.8s-6.8-3.046-6.8-6.8c0-3.752 3.046-6.8 6.8-6.8m5 6.768V16c0-2.76-2.24-5-5-5s-5 2.24-5 5v.066c0 2.76 2.24 5 5 5s5-2.24 5-5z'/%3E%3C/svg%3E\")}.ag-icon-filter:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M26 8.184c-.066 2.658-4.058 5.154-6.742 7.974a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h20zM8 8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.066-2.658 4.058-5.154 6.742-7.974.198-.23.258-.538.258-.842z'/%3E%3C/svg%3E\")}.ag-icon-first:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.354 8.708 17.06 16l7.294 7.292-1.416 1.416L14.232 16l8.706-8.708zM9.646 8v16h-2V8z'/%3E%3C/svg%3E\")}.ag-icon-group:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M14 21h-4v-2h4zm12 0H16v-2h10zm-12-4h-4v-2h4zm12 0H16v-2h10zm-16-4H6v-2h4zm16 0H12v-2h14z'/%3E%3C/svg%3E\")}.ag-icon-last:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m17.768 16-8.706 8.708-1.416-1.416L14.94 16 7.646 8.708l1.416-1.416zm6.586 8h-2V8h2z'/%3E%3C/svg%3E\")}.ag-icon-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='m17.621 11-2 2h12.586v6H15.621l2 2-4.414 4.414L3.793 16l9.414-9.414zm-11 5 6.586 6.586L14.793 21l-4-4h15.414v-2H10.793l4-4-1.586-1.586z'/%3E%3C/svg%3E\")}.ag-icon-linked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M17.138 13.418a1.03 1.03 0 0 0-.298.658s.125.096.226.178c1.372 1.114 2.033 3.039 1.582 4.796a4.7 4.7 0 0 1-1.205 2.123c-1.145 1.151-2.296 2.294-3.445 3.441-1.241 1.232-3.185 1.691-4.864 1.105-1.546-.54-2.756-1.938-3.048-3.572-.267-1.496.246-3.108 1.319-4.186l.578-.578-.03-.092a10.5 10.5 0 0 1-.452-2.3v-.005c-.776.775-1.621 1.489-2.275 2.396-1.817 2.522-1.643 6.323.706 8.669 1.813 1.811 4.708 2.462 7.171 1.517a6.75 6.75 0 0 0 2.336-1.518l3.427-3.424c1.939-1.954 2.533-5.126 1.294-7.674a6.8 6.8 0 0 0-2.071-2.481l-.003-.002zM21.265 4a6.8 6.8 0 0 0-4.734 1.964l-3.427 3.424c-1.961 1.977-2.52 5.092-1.32 7.619a6.8 6.8 0 0 0 2.098 2.537l.003.002c.32-.32.643-.637.96-.96.167-.172.27-.401.286-.64l-.204-.167c-1.603-1.287-2.215-3.68-1.316-5.616a4.7 4.7 0 0 1 .918-1.32c1.145-1.151 2.296-2.294 3.445-3.441 1.239-1.23 3.178-1.694 4.864-1.105 1.83.639 3.16 2.498 3.12 4.493a4.8 4.8 0 0 1-1.391 3.265l-.578.578.03.092c.235.743.387 1.519.452 2.3v.005c.732-.731 1.521-1.406 2.162-2.244 1.192-1.559 1.643-3.651 1.204-5.575a6.8 6.8 0 0 0-3.98-4.703 6.8 6.8 0 0 0-2.529-.506h-.061z'/%3E%3C/svg%3E\")}.ag-icon-loading:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z'/%3E%3C/svg%3E\")}.ag-icon-maximize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='m7.54 17.4.1 6.98 6.96.1-2.24-2.24L16 18.6 13.4 16l-3.64 3.64zm16.92-2.8-.1-6.98-6.96-.1 2.24 2.24L16 13.4l2.6 2.6 3.64-3.64z'/%3E%3C/svg%3E\")}.ag-icon-menu:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M26 23H6v-2h20zm0-6H6v-2h20zm0-6H6V9h20z'/%3E%3C/svg%3E\")}.ag-icon-menu-alt:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none'%3E%3Cpath fill='%23000' d='M16 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4'/%3E%3C/svg%3E\")}.ag-icon-minimize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='m14.8 24.26-.1-6.96-6.96-.1 2.24 2.24-3.64 3.64 2.6 2.6 3.64-3.64zm2.4-16.52.1 6.96 6.96.1-2.24-2.24 3.64-3.64-2.6-2.6-3.64 3.64z'/%3E%3C/svg%3E\")}.ag-icon-minus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142m-1.414 6.07h16.97v2.002H7.515z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-next:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-none:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='m10.044 21.258 4.478-4.198L16 18.444 9 25l-7-6.556 1.478-1.384 4.478 4.198V7h2.088zm14 3.742h-2.088V10.742l-4.478 4.198L16 13.556 23 7q3.5 3.28 7 6.556l-1.478 1.384-4.478-4.198z'/%3E%3C/svg%3E\")}.ag-icon-not-allowed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16.186 3.646c8.188.154 14.898 9.796 11.17 17.78-3.298 7.066-13.932 9.374-19.848 3.87-3.9-3.632-5.076-9.896-2.684-14.708 2.082-4.19 6.588-6.974 11.362-6.942m-.298 1.998c-6.922.132-12.578 8.308-9.33 15.052 3.342 6.934 15.246 7.646 18.932 0 3.076-6.386-1.988-15.1-9.602-15.052m7.596 6.422c2.864 5.33-1.744 13.186-8.306 12.536a8.6 8.6 0 0 1-3.232-.998l-1.266-.706L22.778 10.8q.351.633.706 1.266m-9.422 10.276c3.296 1.028 7.246-1.006 8.216-4.418a6.6 6.6 0 0 0-.056-3.742zm2.104-14.696a8.8 8.8 0 0 1 3.936 1.038l1.266.706L9.27 21.488c-3.018-5.41-.99-13.37 6.318-13.834q.289-.01.578-.008m-.31 2c-4.06.154-7.23 4.614-6.03 8.46l8.16-8.16a6.8 6.8 0 0 0-2.13-.3'/%3E%3C/svg%3E\")}.ag-icon-paste:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M20 6.5c0-1-1-3-4-3s-4 2-4 3H8c-2.21 0-4 1.79-4 4v14c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-14c0-2.21-1.79-4-4-4zm-4 .546c.734 0 1.334.572 1.334 1.272S16.734 9.59 16 9.59s-1.334-.572-1.334-1.272.6-1.272 1.334-1.272M24 26.5H8a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h2v4h12v-4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2'/%3E%3C/svg%3E\")}.ag-icon-pin:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038'/%3E%3C/svg%3E\")}.ag-icon-pivot:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008c-1.358-.022-2.714-.026-4.07-.022v4.034h4.07z'/%3E%3C/svg%3E\")}.ag-icon-plus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142M15 15l-.001-7.485h2.002L17 15l7.485-.001v2.002L17 17l.001 7.485h-2.002L15 17l-7.485.001v-2.002z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-previous:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\")}.ag-icon-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m28.207 16-9.414 9.414L14.379 21l2-2H3.793v-6h12.586l-2-2 4.414-4.414zm-11-5 4 4H5.793v2h15.414l-4 4 1.586 1.586L25.379 16l-6.586-6.586z'/%3E%3C/svg%3E\")}.ag-icon-save:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E\")}.ag-icon-small-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E\")}.ag-icon-small-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\")}.ag-icon-small-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-small-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='m24.708 19.645-1.416 1.416L16 13.767l-7.292 7.294-1.416-1.416L16 10.939z'/%3E%3C/svg%3E\")}.ag-icon-tick:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='M24.708 10.855 13 22.561l-5.708-5.706 1.416-1.416L13 19.733 23.292 9.439z'/%3E%3C/svg%3E\")}.ag-icon-tree-closed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\")}.ag-icon-tree-indeterminate:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6 15h20v2H6z'/%3E%3C/svg%3E\")}.ag-icon-tree-open:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E\")}.ag-icon-unlinked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M5.35 3.999a.2.2 0 0 0-.14.058c-.388.38-.768.768-1.152 1.152a.21.21 0 0 0-.002.288c7.459 7.506 14.965 14.965 22.447 22.447a.21.21 0 0 0 .288.002q.576-.574 1.151-1.151a.21.21 0 0 0 .002-.288C20.484 19.002 12.979 11.542 5.497 4.06a.2.2 0 0 0-.146-.061zm.611 12.548c-1.933 1.939-2.538 5.119-1.289 7.688a6.79 6.79 0 0 0 4.891 3.672 6.82 6.82 0 0 0 5.893-1.866l1.984-1.984-1.438-1.438-1.986 1.986c-1.486 1.476-3.993 1.81-5.834.629a4.73 4.73 0 0 1-2.024-2.853 4.76 4.76 0 0 1 1.241-4.393l1.986-1.986-1.438-1.438-1.984 1.984zM21.273 3.999a6.78 6.78 0 0 0-4.727 1.963l-1.984 1.984L16 9.384l1.985-1.985a4.74 4.74 0 0 1 2.776-1.338c1.974-.224 4.045.926 4.845 2.834.712 1.699.329 3.778-1.004 5.12L22.616 16l1.439 1.438q1-1 2-2c2.012-2.031 2.557-5.368 1.112-7.982-1.144-2.07-3.432-3.441-5.834-3.459h-.061z'/%3E%3C/svg%3E\")}.ag-icon-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E\")}.ag-icon-grip:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z'/%3E%3C/svg%3E\")}.ag-icon-settings:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\")}"}),iconSetAlpine=createPart({feature:"iconSet",css:".ag-icon-aggregation:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-arrows:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-asc:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-cancel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-chart:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E\")}.ag-icon-color-picker:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-columns:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E\")}.ag-icon-contracted:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E\")}.ag-icon-copy:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-cross:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E\")}.ag-icon-csv:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\")}.ag-icon-cut:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-excel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\")}.ag-icon-expanded:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E\")}.ag-icon-eye-slash:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E\")}.ag-icon-eye:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-filter:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-first:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-group:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E\")}.ag-icon-last:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-linked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-loading:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E\")}.ag-icon-maximize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E\")}.ag-icon-menu:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E\")}.ag-icon-menu-alt:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E\")}.ag-icon-minimize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E\")}.ag-icon-minus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-next:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E\")}.ag-icon-none:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E\")}.ag-icon-not-allowed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-paste:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-pin:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-pivot:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-plus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-previous:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-save:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E\")}.ag-icon-small-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-small-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-small-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-small-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-tick:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E\")}.ag-icon-tree-closed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-tree-indeterminate:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E\")}.ag-icon-tree-open:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E\")}.ag-icon-unlinked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-grip:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-settings:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\")}"}),iconSetMaterial=createPart({feature:"iconSet",css:".ag-icon-aggregation:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E\")}.ag-icon-arrows:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E\")}.ag-icon-asc:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E\")}.ag-icon-cancel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E\")}.ag-icon-chart:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E\")}.ag-icon-color-picker:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E\")}.ag-icon-columns:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E\")}.ag-icon-contracted:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\")}.ag-icon-copy:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E\")}.ag-icon-cross:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E\")}.ag-icon-csv:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\")}.ag-icon-cut:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E\")}.ag-icon-excel:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\")}.ag-icon-expanded:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E\")}.ag-icon-eye-slash:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E\")}.ag-icon-eye:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E\")}.ag-icon-filter:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E\")}.ag-icon-first:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E\")}.ag-icon-group:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E\")}.ag-icon-last:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E\")}.ag-icon-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E\")}.ag-icon-linked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E\")}.ag-icon-loading:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E\")}.ag-icon-maximize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E\")}.ag-icon-menu:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E\")}.ag-icon-menu-alt:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E\")}.ag-icon-minimize:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E\")}.ag-icon-minus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-next:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\")}.ag-icon-none:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E\")}.ag-icon-not-allowed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E\")}.ag-icon-paste:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E\")}.ag-icon-pin:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E\")}.ag-icon-pivot:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E\")}.ag-icon-plus:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E\")}.ag-icon-previous:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E\")}.ag-icon-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E\")}.ag-icon-save:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E\")}.ag-icon-small-down:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E\")}.ag-icon-small-left:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E\")}.ag-icon-small-right:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E\")}.ag-icon-small-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E\")}.ag-icon-tick:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E\")}.ag-icon-tree-closed:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\")}.ag-icon-tree-indeterminate:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E\")}.ag-icon-tree-open:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E\")}.ag-icon-unlinked:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E\")}.ag-icon-up:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E\")}.ag-icon-grip:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E\")}.ag-icon-settings:before{mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\")}"}),iconNameToSvgFragment={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},iconNameToFullSvg={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},quartzIconSvg=(name,strokeWidth=1.5)=>{const fullSVG=iconNameToFullSvg[name];if(fullSVG)return fullSVG;const svgFragment=iconNameToSvgFragment[name];if(!svgFragment)throw new Error(`Missing icon data for ${name}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${strokeWidth}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+svgFragment+"</svg>"},iconSetQuartz=(args={})=>createPart({feature:"iconSet",css:()=>((args={})=>{let result="";for(const iconName of[...Object.keys(iconNameToSvgFragment),...Object.keys(iconNameToFullSvg)]){const iconSvg=quartzIconSvg(iconName,args.strokeWidth);result+=`.ag-icon-${iconName}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(iconSvg)}'); }\n`}return result})(args)}),iconSetQuartzRegular=iconSetQuartz(),inputStyleBaseCSS=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',baseParams2={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},inputStyleBordered=(()=>createPart({feature:"inputStyle",params:{...baseParams2,inputBackgroundColor:backgroundColor,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:accentColor},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:foregroundBackgroundMix(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>inputStyleBaseCSS+":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}"}))(),inputStyleUnderlined=(()=>createPart({feature:"inputStyle",params:{...baseParams2,inputBackgroundColor:"transparent",inputBorder:{width:2,color:foregroundMix(.3)},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}},css:()=>inputStyleBaseCSS+":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}"}))(),tabStyleBaseCSS='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',baseParams3={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},tabStyleQuartz=(()=>createPart({feature:"tabStyle",params:{...baseParams3,tabBarBorder:!0,tabBarBackgroundColor:foregroundMix(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:backgroundColor},css:tabStyleBaseCSS}))(),tabStyleMaterial=(()=>createPart({feature:"tabStyle",params:{...baseParams3,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0},css:tabStyleBaseCSS}))(),tabStyleAlpine=(()=>createPart({feature:"tabStyle",params:{...baseParams3,tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:accentColor,tabSelectedTextColor:accentColor,tabSelectedUnderlineColor:accentColor,tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"},css:tabStyleBaseCSS}))(),tabStyleRolodex=(()=>createPart({feature:"tabStyle",params:{...baseParams3,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:backgroundColor},css:()=>tabStyleBaseCSS+".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:none;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}"}))(),themeQuartz=(()=>createTheme().withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetQuartzRegular).withPart(tabStyleQuartz).withPart(inputStyleBordered).withPart(columnDropStyleBordered).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}))(),themeAlpine=(()=>createTheme().withPart(buttonStyleAlpine).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetAlpine).withPart(tabStyleAlpine).withPart(inputStyleBordered).withPart(columnDropStyleBordered).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:accentMix(.3),inputFocusBorder:{color:accentMix(.4)},focusShadow:{radius:2,spread:1.6,color:accentMix(.4)},iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",checkboxUncheckedBorderColor:foregroundBackgroundMix(.45),checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(.45),checkboxIndeterminateBorderColor:foregroundBackgroundMix(.45),checkboxBorderWidth:2,checkboxBorderRadius:2,fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:accentColor,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sideButtonSelectedUnderlineColor:accentColor,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,sideButtonSelectedBorder:!1,sideButtonBarTopPadding:{calc:"spacing * 3"},sideButtonSelectedBackgroundColor:"transparent",sideButtonHoverTextColor:accentColor,iconButtonHoverColor:accentColor,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:foregroundBackgroundMix(.45)}))(),themeBalham=(()=>createTheme().withPart(buttonStyleBalham).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetBalham).withPart(tabStyleRolodex).withPart(inputStyleBordered).withPart(columnDropStylePlain).withParams({accentColor:"#0091ea",borderColor:foregroundMix(.2),spacing:4,widgetVerticalSpacing:{calc:"max(8px, spacing)"},borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},checkboxBorderRadius:2,checkboxBorderWidth:1,checkboxUncheckedBackgroundColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(.5),checkboxCheckedBackgroundColor:backgroundColor,checkboxCheckedBorderColor:accentColor,checkboxCheckedShapeColor:accentColor,checkboxIndeterminateBackgroundColor:backgroundColor,checkboxIndeterminateBorderColor:foregroundBackgroundMix(.5),checkboxIndeterminateShapeColor:foregroundBackgroundMix(.5),focusShadow:{radius:2,spread:1,color:accentColor},headerTextColor:foregroundMix(.6),iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",fontSize:12,tabSelectedBackgroundColor:backgroundColor,headerFontWeight:"bold",toggleButtonWidth:32,toggleButtonHeight:16,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:foregroundBackgroundMix(.5),sideButtonBorder:!0,sideButtonBarTopPadding:{calc:"spacing * 4"},popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)",statusBarLabelColor:foregroundMix(.54),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,panelTitleBarIconColor:foregroundColor}))(),styleMaterial=(()=>{const sharedParams={tabSelectedUnderlineColor:{ref:"primaryColor"},sideButtonSelectedUnderlineColor:{ref:"primaryColor"},buttonTextColor:{ref:"primaryColor"},rangeSelectionBackgroundColor:{ref:"primaryColor",mix:.2},rangeSelectionBorderColor:{ref:"primaryColor"},rangeSelectionHighlightColor:{ref:"primaryColor",mix:.5},rangeHeaderHighlightColor:{ref:"foregroundColor",mix:.08},rowNumbersSelectedColor:{ref:"primaryColor",mix:.5},inputFocusBorder:{width:2,color:{ref:"primaryColor"}},pickerButtonFocusBorder:{width:1,color:{ref:"primaryColor"}},cellEditingBorder:{color:{ref:"primaryColor"}},menuBackgroundColor:{ref:"backgroundColor"},sideButtonBarBackgroundColor:backgroundColor,sideButtonSelectedBackgroundColor:"transparent",sideButtonBarTopPadding:{calc:"spacing * 4"},headerColumnResizeHandleColor:"none",headerBackgroundColor:{ref:"backgroundColor"},rowHoverColor:foregroundMix(.08),columnHoverColor:foregroundMix(.08),headerCellHoverBackgroundColor:foregroundMix(.05),statusBarLabelColor:foregroundMix(.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:"#00acc1",panelTitleBarIconColor:foregroundColor,advancedFilterBuilderButtonBarBorder:!1},lightParams={...sharedParams,primaryColor:"#3f51b5",foregroundColor:"#000D",headerTextColor:"#0008",accentColor:"#ff4081",checkboxUncheckedBorderColor:foregroundColor,checkboxIndeterminateBackgroundColor:foregroundColor,toggleButtonOffBackgroundColor:foregroundColor,selectedRowBackgroundColor:"rgba(33, 150, 243, 0.3)"},darkParams2={...sharedParams,primaryColor:"#3f51b5",foregroundColor:"#fffD",headerTextColor:"#fff8",accentColor:"#bb86fc",checkboxUncheckedBorderColor:foregroundBackgroundMix(.5),checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(.5),toggleButtonOffBackgroundColor:foregroundBackgroundMix(.5),selectedRowBackgroundColor:"#bb86fc33"};return createPart({feature:"styleMaterial",css:".ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-header-row,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:1px solid var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-primary-color)}",params:lightParams,modeParams:{light:lightParams,dark:darkParams2,"dark-blue":darkParams2}})})(),themeMaterial=(()=>createTheme().withPart(buttonStyleBase).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetMaterial).withPart(tabStyleMaterial).withPart(inputStyleUnderlined).withPart(columnDropStylePlain).withPart(styleMaterial).withParams({rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale"},widgetVerticalSpacing:{calc:"spacing * 1.75"},cellHorizontalPadding:{calc:"spacing * 3"},buttonHorizontalPadding:{ref:"spacing"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 2"},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:!1,menuBorder:!1,dialogBorder:!1,panelTitleBarBorder:!1,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sidePanelBorder:!1,sideButtonSelectedBorder:!1,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,buttonBorder:!1,buttonDisabledBorder:!1,focusShadow:{spread:4,color:foregroundMix(.16)},fontFamily:[{googleFont:"Roboto"},"-apple-system","BlinkMacSystemFont","Segoe UI","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],inputHeight:{calc:"max(iconSize, fontSize) + spacing * 3"},pickerButtonBorder:{width:1,color:"transparent"},headerFontWeight:600,checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)"}))(),ROW_HEIGHT={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HEADER_HEIGHT={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},LIST_ITEM_HEIGHT={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},ROW_BORDER_WIDTH={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},paramsId=0,NO_VALUE_SENTINEL=15538;function isAnyChildSpanningHeaderHeight(columnGroup){return!!columnGroup&&columnGroup.getLeafColumns().some((col=>col.isSpanHeaderHeight()))}function getHeaderIndexToFocus(column,currentIndex){let nextColumn;if(isColumnGroup2(column)&&isAnyChildSpanningHeaderHeight(column)&&column.isPadding()){const targetColumn=column;nextColumn=targetColumn.getLeafColumns()[0];let col=nextColumn;for(;col!==targetColumn;)currentIndex++,col=col.getParent()}return{column:nextColumn||column,headerRowIndex:currentIndex}}var ALWAYS_SYNC_GLOBAL_EVENTS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),GRID_OPTION_DEFAULTS={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},changeSetId=0,gridInstanceSequence=0;var ColumnHeaderCompModule={moduleName:"ColumnHeaderComp",version:VERSION,userComponents:{agColumnHeader:class extends Component{constructor(){super(...arguments),this.eFilter=null,this.eFilterButton=null,this.eSortIndicator=null,this.eMenu=null,this.eLabel=null,this.eText=null,this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.isLoadingInnerComponent=!1}refresh(params){const oldParams=this.params;return this.params=params,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&params.enableSorting==this.currentSort&&(null==this.currentSuppressMenuHide||this.shouldSuppressMenuHide()==this.currentSuppressMenuHide)&&oldParams.enableFilterButton==params.enableFilterButton&&oldParams.enableFilterIcon==params.enableFilterIcon&&(this.innerHeaderComponent?this.innerHeaderComponent.refresh?.(params):this.setDisplayName(params),!0)}workOutTemplate(){const{params,beans}=this,template=params.template??function getHeaderCompTemplate(includeSortIndicator){return`<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            ${includeSortIndicator?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}\n        </div>\n    </div>`}(!!beans.sortSvc);return template?.trim?template.trim():template}init(params){this.params=params;const{sortSvc,touchSvc,rowNumbersSvc,userCompFactory}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,sortSvc?[sortSvc.getSortIndicatorSelector()]:void 0),touchSvc?.setupForHeader(this),this.setMenu(),this.setupSort(),rowNumbersSvc?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(userCompFactory,params),this.setDisplayName(params)}workOutInnerHeaderComponent(userCompFactory,params){const userCompDetails=function _getInnerHeaderCompDetails(userCompFactory,headerCompParams,params){return userCompFactory.getCompDetails(headerCompParams,InnerHeaderComponent,void 0,params)}(userCompFactory,params,params);userCompDetails&&(this.isLoadingInnerComponent=!0,userCompDetails.newAgStackInstance().then((comp=>{this.isLoadingInnerComponent=!1,comp&&(this.isAlive()?(this.innerHeaderComponent=comp,this.eText.appendChild(comp.getGui())):this.destroyBean(comp))})))}setDisplayName(params){const{displayName}=params,oldDisplayName=this.currentDisplayName;if(this.currentDisplayName=displayName,oldDisplayName===displayName||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const displayNameSanitised=_escapeString(displayName,!0);this.eText.textContent=displayNameSanitised}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=_createIconNoSpan(iconName,this.beans,column);eIcon&&eParent.appendChild(eIcon)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return _removeFromParent(this.eMenu),void(this.eMenu=void 0);const{gos,eMenu,params}=this,isLegacyMenu=_isLegacyMenuEnabled(gos);this.addInIcon(isLegacyMenu?"menu":"menuAlt",eMenu,params.column),eMenu.classList.toggle("ag-header-menu-icon",!isLegacyMenu);const currentSuppressMenuHide=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=currentSuppressMenuHide,this.addManagedElementListeners(eMenu,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(currentSuppressMenuHide)}toggleMenuAlwaysShow(alwaysShow){this.eMenu?.classList.toggle("ag-header-menu-always-show",alwaysShow)}showColumnMenu(element){const{currentSuppressMenuHide,params}=this;currentSuppressMenuHide||this.toggleMenuAlwaysShow(!0),params.showColumnMenu(element,(()=>{currentSuppressMenuHide||this.toggleMenuAlwaysShow(!1)}))}onMenuKeyboardShortcut(isFilterShortcut){const{params,gos,beans,eMenu,eFilterButton}=this,column=params.column,isLegacyMenuEnabled=_isLegacyMenuEnabled(gos);if(isFilterShortcut&&!isLegacyMenuEnabled){if(beans.menuSvc?.isFilterMenuInHeaderEnabled(column))return params.showFilter(eFilterButton??eMenu??this.getGui()),!0}else if(params.enableMenu)return this.showColumnMenu(eMenu??eFilterButton??this.getGui()),!0;return!1}setupSort(){const{sortSvc}=this.beans;if(!sortSvc)return;const{enableSorting,column}=this.params;if(this.currentSort=enableSorting,!this.eSortIndicator){this.eSortIndicator=this.createBean(sortSvc.createSortIndicator(!0));const{eSortIndicator,eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone}=this;eSortIndicator.attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone)}this.eSortIndicator.setupSort(column),this.currentSort&&sortSvc.setupHeader(this,column,this.eLabel)}setupFilterIcon(){const{eFilter,params}=this;eFilter&&this.configureFilter(params.enableFilterIcon,eFilter,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton,params}=this;if(!eFilterButton)return;this.configureFilter(params.enableFilterButton,eFilterButton,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(eFilterButton,{click:()=>params.showFilter(eFilterButton)}):this.eFilterButton=void 0}configureFilter(enabled,element,filterChangedCallback,icon){if(!enabled)return _removeFromParent(element),!1;const column=this.params.column;return this.addInIcon(icon,element,column),this.addManagedListeners(column,{filterChanged:filterChangedCallback}),filterChangedCallback(),!0}onFilterChangedIcon(){const filterPresent=this.params.column.isFilterActive();_setDisplayed(this.eFilter,filterPresent,{skipAriaHidden:!0})}onFilterChangedButton(){const filterPresent=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",filterPresent)}getAnchorElementForMenu(isFilter){const{eFilterButton,eMenu}=this;return isFilter?eFilterButton??eMenu??this.getGui():eMenu??eFilterButton??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}}},icons:{menu:"menu",menuAlt:"menu-alt"}},ColumnGroupHeaderCompModule={moduleName:"ColumnGroupHeaderComp",version:VERSION,userComponents:{agColumnGroupHeader:class extends Component{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=null,this.agClosed=null,this.agLabel=null,this.isLoadingInnerComponent=!1}init(params){const{userCompFactory}=this.beans;this.params=params,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(userCompFactory,params),this.setupLabel(params),this.addGroupExpandIcon(params),this.setupExpandIcons()}checkWarnings(){this.params.template&&_warn(89)}workOutInnerHeaderGroupComponent(userCompFactory,params){const userCompDetails=function _getInnerHeaderGroupCompDetails(userCompFactory,headerGroupCompParams,params){return userCompFactory.getCompDetails(headerGroupCompParams,InnerHeaderGroupComponent,void 0,params)}(userCompFactory,params,params);userCompDetails&&(this.isLoadingInnerComponent=!0,userCompDetails.newAgStackInstance().then((comp=>{this.isLoadingInnerComponent=!1,comp&&(this.isAlive()?(this.innerHeaderGroupComponent=comp,this.agLabel.appendChild(comp.getGui())):this.destroyBean(comp))})))}setupExpandIcons(){const{agOpened,agClosed,params:{columnGroup},beans}=this;this.addInIcon("columnGroupOpened",agOpened),this.addInIcon("columnGroupClosed",agClosed);const expandAction=event=>{if(_isStopPropagationForAgGrid(event))return;const newExpandedValue=!columnGroup.isExpanded();beans.colGroupSvc.setColumnGroupOpened(columnGroup.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")};this.addTouchAndClickListeners(beans,agClosed,expandAction),this.addTouchAndClickListeners(beans,agOpened,expandAction);const stopPropagationAction=event=>{_stopPropagationForAgGrid(event)};this.addManagedElementListeners(agClosed,{dblclick:stopPropagationAction}),this.addManagedElementListeners(agOpened,{dblclick:stopPropagationAction}),this.addManagedElementListeners(this.getGui(),{dblclick:expandAction}),this.updateIconVisibility();const providedColumnGroup=columnGroup.getProvidedColumnGroup(),updateIcon=this.updateIconVisibility.bind(this);this.addManagedListeners(providedColumnGroup,{expandedChanged:updateIcon,expandableChanged:updateIcon})}addTouchAndClickListeners(beans,eElement,action){beans.touchSvc?.setupForHeaderGroup(this,eElement,action),this.addManagedElementListeners(eElement,{click:action})}updateIconVisibility(){const{agOpened,agClosed,params:{columnGroup}}=this;if(columnGroup.isExpandable()){const expanded=columnGroup.isExpanded();_setDisplayed(agOpened,expanded),_setDisplayed(agClosed,!expanded)}else _setDisplayed(agOpened,!1),_setDisplayed(agClosed,!1)}addInIcon(iconName,element){const eIcon=_createIconNoSpan(iconName,this.beans,null);eIcon&&element.appendChild(eIcon)}addGroupExpandIcon(params){if(!params.columnGroup.isExpandable()){const{agOpened,agClosed}=this;return _setDisplayed(agOpened,!1),void _setDisplayed(agClosed,!1)}}setupLabel(params){const{displayName,columnGroup}=params,hasInnerComponent=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(_exists(displayName)&&!hasInnerComponent){const displayNameSanitised=_escapeString(displayName,!0);this.agLabel.textContent=displayNameSanitised}this.addOrRemoveCssClass("ag-sticky-label",!columnGroup.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}}},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},AnimationFrameModule={moduleName:"AnimationFrame",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(scrollTop){const{gos,pagination}=this.beans,isPaginationActive=gos.get("pagination");if(this.scrollGoingDown=scrollTop>=this.lastScrollTop,isPaginationActive&&0===scrollTop){const currentPage=pagination?.getCurrentPage()??0;currentPage!==this.lastPage&&(this.lastPage=currentPage,this.scrollGoingDown=!0)}this.lastScrollTop=scrollTop}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(methodName){!1===this.active&&_warn(92,{methodName})}createTask(task,index,list){this.verifyAnimationFrameOn(list);const taskItem={task,index,createOrder:++this.taskCount};this.addTaskToList(this[list],taskItem),this.schedule()}cancelTask(task){this.cancelledTasks.add(task)}addTaskToList(taskList,task){taskList.list.push(task),taskList.sorted=!1}sortTaskList(taskList){if(taskList.sorted)return;const sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort(((a,b)=>a.index!==b.index?sortDirection*(b.index-a.index):b.createOrder-a.createOrder)),taskList.sorted=!0}addDestroyTask(task){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(task),this.schedule()}executeFrame(millis){this.verifyAnimationFrameOn("executeFrame");const p1TaskList=this.createTasksP1,p1Tasks=p1TaskList.list,p2TaskList=this.createTasksP2,p2Tasks=p2TaskList.list,destroyTasks=this.destroyTasks,frameStart=(new Date).getTime();let duration=(new Date).getTime()-frameStart;const noMaxMillis=millis<=0,scrollFeature=this.beans.ctrlsSvc.getScrollFeature();for(;noMaxMillis||duration<millis;){if(!scrollFeature.scrollGridIfNeeded()){let task;if(p1Tasks.length)this.sortTaskList(p1TaskList),task=p1Tasks.pop().task;else if(p2Tasks.length)this.sortTaskList(p2TaskList),task=p2Tasks.pop().task;else{if(!destroyTasks.length){this.cancelledTasks.clear();break}task=destroyTasks.pop()}this.cancelledTasks.has(task)||task()}duration=(new Date).getTime()-frameStart}p1Tasks.length||p2Tasks.length||destroyTasks.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const callback=this.executeFrame.bind(this,60);_requestAnimationFrame(this.beans,callback)}isQueueEmpty(){return!this.ticking}}]},TouchModule={moduleName:"Touch",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eBodyViewport,listener)}mockHeaderContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eGui,listener)}mockRowContextMenu(ctrl){if(!_isIOSUserAgent())return;this.mockContextMenu(ctrl,ctrl.element,((mouseListener,touch,touchEvent)=>{const{rowCtrl,cellCtrl}=ctrl.getControlsForEventTarget(touchEvent?.target??null);cellCtrl?.column&&cellCtrl.dispatchCellContextMenuEvent(touchEvent??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,touchEvent,rowCtrl,cellCtrl)}))}handleCellDoubleClick(ctrl,mouseEvent){return!!(()=>{if(!_isIOSUserAgent()||_isEventSupported("dblclick"))return!1;const nowMillis=(new Date).getTime(),res=nowMillis-ctrl.lastIPadMouseClickEvent<200;return ctrl.lastIPadMouseClickEvent=nowMillis,res})()&&(ctrl.onCellDoubleClicked(mouseEvent),mouseEvent.preventDefault(),!0)}setupForHeader(comp){const{gos,sortSvc}=this.beans;if(gos.get("suppressTouch"))return;const{params,eMenu,eFilterButton}=comp,touchListener=new TouchListener(comp.getGui(),!0),suppressMenuHide=comp.shouldSuppressMenuHide(),tapMenuButton=suppressMenuHide&&_exists(eMenu),menuTouchListener=tapMenuButton?new TouchListener(eMenu,!0):touchListener;if(params.enableMenu){const eventType=tapMenuButton?"tap":"longTap",showMenuFn=event=>params.showColumnMenuAfterMouseClick(event.touchStart);comp.addManagedListeners(menuTouchListener,{[eventType]:showMenuFn})}if(params.enableSorting){const tapListener=event=>{const target=event.touchStart.target;suppressMenuHide&&(eMenu?.contains(target)||eFilterButton?.contains(target))||sortSvc?.progressSort(params.column,!1,"uiColumnSorted")};comp.addManagedListeners(touchListener,{tap:tapListener})}if(params.enableFilterButton&&eFilterButton){const filterButtonTouchListener=new TouchListener(eFilterButton,!0);comp.addManagedListeners(filterButtonTouchListener,{tap:()=>params.showFilter(eFilterButton)}),comp.addDestroyFunc((()=>filterButtonTouchListener.destroy()))}comp.addDestroyFunc((()=>touchListener.destroy())),tapMenuButton&&comp.addDestroyFunc((()=>menuTouchListener.destroy()))}setupForHeaderGroup(comp,eElement,action){const touchListener=new TouchListener(eElement,!0);comp.addManagedListeners(touchListener,{tap:action}),comp.addDestroyFunc((()=>touchListener.destroy()))}mockContextMenu(ctrl,element,listener){if(!_isIOSUserAgent())return;const touchListener=new TouchListener(element);ctrl.addManagedListeners(touchListener,{longTap:event=>{listener(void 0,event.touchStart,event.touchEvent)}}),ctrl.addDestroyFunc((()=>touchListener.destroy()))}}]};function getVScroll(beans){return beans.ctrlsSvc.getScrollFeature().getVScrollPosition()}var KeyboardNavigationModule={moduleName:"KeyboardNavigation",version:VERSION,beans:[class extends BeanStub{constructor(){super(),this.beanName="navigation",this.onPageDown=_throttle(this.onPageDown,100),this.onPageUp=_throttle(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}))}handlePageScrollingKey(event,fromFullWidth=!1){const key=event.key,alt=event.altKey,ctrl=event.ctrlKey||event.metaKey,rangeServiceShouldHandleShift=!!this.beans.rangeSvc&&event.shiftKey,currentCell=function _getCellPositionForEvent(gos,event){return _getCellCtrlForEventTarget(gos,event.target)?.getFocusedCellPosition()??null}(this.gos,event);let processed=!1;switch(key){case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:ctrl||alt||(this.onHomeOrEndKey(key),processed=!0);break;case KeyCode_LEFT:case KeyCode_RIGHT:case KeyCode_UP:case KeyCode_DOWN:if(!currentCell)return!1;!ctrl||alt||rangeServiceShouldHandleShift||(this.onCtrlUpDownLeftRight(key,currentCell),processed=!0);break;case KeyCode_PAGE_DOWN:case KeyCode_PAGE_UP:ctrl||alt||(processed=this.handlePageUpDown(key,currentCell,fromFullWidth))}return processed&&event.preventDefault(),processed}handlePageUpDown(key,currentCell,fromFullWidth){return fromFullWidth&&(currentCell=this.beans.focusSvc.getFocusedCell()),!!currentCell&&(key===KeyCode_PAGE_UP?this.onPageUp(currentCell):this.onPageDown(currentCell),!0)}navigateTo(navigateParams){const{scrollIndex,scrollType,scrollColumn,focusIndex,focusColumn}=navigateParams,{scrollFeature}=this.gridBodyCon;_exists(scrollColumn)&&!scrollColumn.isPinned()&&scrollFeature.ensureColumnVisible(scrollColumn),_exists(scrollIndex)&&scrollFeature.ensureIndexVisible(scrollIndex,scrollType),navigateParams.isAsync||scrollFeature.ensureIndexVisible(focusIndex);const{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:focusIndex,column:focusColumn,rowPinned:null,forceBrowserFocus:!0}),rangeSvc?.setRangeToCell({rowIndex:focusIndex,rowPinned:null,column:focusColumn})}onPageDown(gridCell){const beans=this.beans,scrollPosition=getVScroll(beans),pixelsInOnePage=this.getViewportHeight(),{pageBounds,rowModel,rowAutoHeight}=beans,pagingPixelOffset=pageBounds.getPixelOffset(),currentPageBottomPixel=scrollPosition.top+pixelsInOnePage,currentPageBottomRow=rowModel.getRowIndexAtPixel(currentPageBottomPixel+pagingPixelOffset);rowAutoHeight?.active?this.navigateToNextPageWithAutoHeight(gridCell,currentPageBottomRow):this.navigateToNextPage(gridCell,currentPageBottomRow)}onPageUp(gridCell){const beans=this.beans,scrollPosition=getVScroll(beans),{pageBounds,rowModel,rowAutoHeight}=beans,pagingPixelOffset=pageBounds.getPixelOffset(),currentPageTopPixel=scrollPosition.top,currentPageTopRow=rowModel.getRowIndexAtPixel(currentPageTopPixel+pagingPixelOffset);rowAutoHeight?.active?this.navigateToNextPageWithAutoHeight(gridCell,currentPageTopRow,!0):this.navigateToNextPage(gridCell,currentPageTopRow,!0)}navigateToNextPage(gridCell,scrollIndex,up=!1){const{pageBounds,rowModel}=this.beans,pixelsInOnePage=this.getViewportHeight(),firstRow=pageBounds.getFirstRow(),lastRow=pageBounds.getLastRow(),pagingPixelOffset=pageBounds.getPixelOffset(),currentRowNode=rowModel.getRow(gridCell.rowIndex),rowPixelDiff=up?currentRowNode?.rowHeight-pixelsInOnePage-pagingPixelOffset:pixelsInOnePage-pagingPixelOffset,nextCellPixel=currentRowNode?.rowTop+rowPixelDiff;let scrollType,focusIndex=rowModel.getRowIndexAtPixel(nextCellPixel+pagingPixelOffset);if(focusIndex===gridCell.rowIndex){const diff=up?-1:1;scrollIndex=focusIndex=gridCell.rowIndex+diff}up?(scrollType="bottom",focusIndex<firstRow&&(focusIndex=firstRow),scrollIndex<firstRow&&(scrollIndex=firstRow)):(scrollType="top",focusIndex>lastRow&&(focusIndex=lastRow),scrollIndex>lastRow&&(scrollIndex=lastRow)),this.isRowTallerThanView(rowModel.getRow(focusIndex))&&(scrollIndex=focusIndex,scrollType="top"),this.navigateTo({scrollIndex,scrollType,scrollColumn:null,focusIndex,focusColumn:gridCell.column})}navigateToNextPageWithAutoHeight(gridCell,scrollIndex,up=!1){this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex:scrollIndex,focusColumn:gridCell.column}),setTimeout((()=>{const focusIndex=this.getNextFocusIndexForAutoHeight(gridCell,up);this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex,focusColumn:gridCell.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(gridCell,up=!1){const step=up?-1:1,pixelsInOnePage=this.getViewportHeight(),{pageBounds,rowModel}=this.beans,lastRowIndex=pageBounds.getLastRow();let pixelSum=0,currentIndex=gridCell.rowIndex;for(;currentIndex>=0&&currentIndex<=lastRowIndex;){const currentCell=rowModel.getRow(currentIndex);if(currentCell){const currentCellHeight=currentCell.rowHeight??0;if(pixelSum+currentCellHeight>pixelsInOnePage)break;pixelSum+=currentCellHeight}currentIndex+=step}return Math.max(0,Math.min(currentIndex,lastRowIndex))}getViewportHeight(){const beans=this.beans,scrollPosition=getVScroll(beans),scrollbarWidth=this.beans.scrollVisibleSvc.getScrollbarWidth();let pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;return beans.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth),pixelsInOnePage}isRowTallerThanView(rowNode){if(!rowNode)return!1;const rowHeight=rowNode.rowHeight;return"number"==typeof rowHeight&&rowHeight>this.getViewportHeight()}onCtrlUpDownLeftRight(key,gridCell){const cellToFocus=this.beans.cellNavigation.getNextCellToFocus(key,gridCell,!0),{rowIndex}=cellToFocus,column=cellToFocus.column;this.navigateTo({scrollIndex:rowIndex,scrollType:null,scrollColumn:column,focusIndex:rowIndex,focusColumn:column})}onHomeOrEndKey(key){const homeKey=key===KeyCode_PAGE_HOME,{visibleCols,pageBounds,rowModel}=this.beans,allColumns=visibleCols.allCols,scrollIndex=homeKey?pageBounds.getFirstRow():pageBounds.getLastRow(),rowNode=rowModel.getRow(scrollIndex);if(!rowNode)return;const columnToSelect=(homeKey?allColumns:[...allColumns].reverse()).find((col=>!col.isSuppressNavigable(rowNode)));columnToSelect&&this.navigateTo({scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:scrollIndex,focusColumn:columnToSelect})}onTabKeyDown(previous,keyboardEvent){const backwards=keyboardEvent.shiftKey,movedToNextCell=this.tabToNextCellCommon(previous,backwards,keyboardEvent),beans=this.beans,{ctrlsSvc,pageBounds,focusSvc,gos}=beans;if(!1===movedToNextCell)if(backwards){const{rowIndex,rowPinned}=previous.getRowPosition();(rowPinned?0===rowIndex:rowIndex===pageBounds.getFirstRow())&&(0===gos.get("headerHeight")||_isHeaderFocusSuppressed(beans)?_focusNextGridCoreContainer(beans,!0,!0):(keyboardEvent.preventDefault(),focusSvc.focusPreviousFromFirstCell(keyboardEvent)))}else previous instanceof CellCtrl&&previous.focusCell(!0),(!backwards&&focusSvc.focusOverlay(!1)||_focusNextGridCoreContainer(beans,backwards))&&keyboardEvent.preventDefault();else movedToNextCell?keyboardEvent.preventDefault():null===movedToNextCell&&ctrlsSvc.get("gridCtrl").allowFocusForNextCoreContainer(backwards)}tabToNextCell(backwards,event){const beans=this.beans,{focusSvc,rowRenderer}=beans,focusedCell=focusSvc.getFocusedCell();if(!focusedCell)return!1;let cellOrRow=_getCellByPosition(beans,focusedCell);return!!(cellOrRow||(cellOrRow=rowRenderer.getRowByPosition(focusedCell),cellOrRow&&cellOrRow.isFullWidth()))&&!!this.tabToNextCellCommon(cellOrRow,backwards,event)}tabToNextCellCommon(previous,backwards,event){let res,editing=previous.editing;if(!editing&&previous instanceof CellCtrl){const row=previous.rowCtrl;row&&(editing=row.editing)}return res=editing?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(previous,backwards,event):this.moveToNextEditingCell(previous,backwards,event):this.moveToNextCellNotEditing(previous,backwards),null===res?res:res||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(previousCell,backwards,event=null){const previousPos=previousCell.cellPosition;previousCell.eGui.focus(),previousCell.stopEditing();const nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);return!1===nextCell?null:null!=nextCell&&(this.beans.editSvc?.startEditing(nextCell,null,!0,event),nextCell.focusCell(!1),!0)}moveToNextEditingRow(previousCell,backwards,event=null){const previousPos=previousCell.cellPosition,nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);if(!1===nextCell)return null;if(null==nextCell)return!1;const nextPos=nextCell.cellPosition,previousEditable=this.isCellEditable(previousPos),nextEditable=this.isCellEditable(nextPos),rowsMatch=nextPos&&previousPos.rowIndex===nextPos.rowIndex&&previousPos.rowPinned===nextPos.rowPinned,{editSvc,rowEditSvc}=this.beans;if(previousEditable&&editSvc?.setFocusOutOnEditor(previousCell),!rowsMatch){const pRow=previousCell.rowCtrl;editSvc?.stopRowEditing(pRow);const nRow=nextCell.rowCtrl;rowEditSvc?.startEditing(nRow,void 0,void 0,event)}return nextEditable?(editSvc?.setFocusInOnEditor(nextCell),nextCell.focusCell()):nextCell.focusCell(!0),!0}moveToNextCellNotEditing(previousCell,backwards){const displayedColumns=this.beans.visibleCols.allCols;let cellPos;cellPos=previousCell instanceof RowCtrl?{...previousCell.getRowPosition(),column:backwards?displayedColumns[0]:_last(displayedColumns)}:previousCell.getFocusedCellPosition();const nextCell=this.findNextCellToFocusOn(cellPos,backwards,!1);if(!1===nextCell)return null;if(nextCell instanceof CellCtrl)nextCell.focusCell(!0);else if(nextCell)return this.tryToFocusFullWidthRow(nextCell.getRowPosition(),backwards);return _exists(nextCell)}findNextCellToFocusOn(previousPosition,backwards,startEditing){let nextPosition=previousPosition;const beans=this.beans,{cellNavigation,gos,focusSvc,rowRenderer,rangeSvc}=beans;for(;;){previousPosition!==nextPosition&&(previousPosition=nextPosition),backwards||(nextPosition=this.getLastCellOfColSpan(nextPosition)),nextPosition=cellNavigation.getNextTabbedCell(nextPosition,backwards);const userFunc=gos.getCallback("tabToNextCell");if(_exists(userFunc)){const userResult=userFunc({backwards,editing:startEditing,previousCellPosition:previousPosition,nextCellPosition:nextPosition||null});if(!0===userResult)nextPosition=previousPosition;else{if(!1===userResult)return!1;nextPosition={rowIndex:userResult.rowIndex,column:userResult.column,rowPinned:userResult.rowPinned}}}if(!nextPosition)return null;if(nextPosition.rowIndex<0){const headerLen=getFocusHeaderRowCount(beans);return focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextPosition.rowIndex,column:nextPosition.column},fromCell:!0}),null}const fullRowEdit="fullRow"===gos.get("editType");if(startEditing&&!fullRowEdit){if(!this.isCellEditable(nextPosition))continue}this.ensureCellVisible(nextPosition);const nextCell=_getCellByPosition(beans,nextPosition);if(!nextCell){const row=rowRenderer.getRowByPosition(nextPosition);if(!row||!row.isFullWidth()||startEditing)continue;return row}if(!cellNavigation.isSuppressNavigable(nextCell.column,nextCell.rowNode))return nextCell.setFocusedCellPosition(nextPosition),rangeSvc?.setRangeToCell(nextPosition),nextCell}}isCellEditable(cell){const rowNode=this.lookupRowNodeForCell(cell);return!!rowNode&&cell.column.isCellEditable(rowNode)}lookupRowNodeForCell({rowIndex,rowPinned}){const{pinnedRowModel,rowModel}=this.beans;return"top"===rowPinned?pinnedRowModel?.getPinnedTopRow(rowIndex):"bottom"===rowPinned?pinnedRowModel?.getPinnedBottomRow(rowIndex):rowModel.getRow(rowIndex)}navigateToNextCell(event,key,currentCell,allowUserOverride){let nextCell=currentCell,hitEdgeOfGrid=!1;const beans=this.beans,{cellNavigation,focusSvc,gos}=beans;for(;nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell));)gos.get("enableRtl")?key===KeyCode_LEFT&&(nextCell=this.getLastCellOfColSpan(nextCell)):key===KeyCode_RIGHT&&(nextCell=this.getLastCellOfColSpan(nextCell)),nextCell=cellNavigation.getNextCellToFocus(key,nextCell),hitEdgeOfGrid=_missing(nextCell);if(hitEdgeOfGrid&&event&&event.key===KeyCode_UP&&(nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column}),allowUserOverride){const userFunc=gos.getCallback("navigateToNextCell");if(_exists(userFunc)){const userCell=userFunc({key,previousCellPosition:currentCell,nextCellPosition:nextCell||null,event});nextCell=_exists(userCell)?{rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column}:null}}if(!nextCell)return;if(nextCell.rowIndex<0){const headerLen=getFocusHeaderRowCount(beans);return void focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column},event:event||void 0,fromCell:!0})}const normalisedPosition=this.getNormalisedPosition(nextCell);normalisedPosition?this.focusPosition(normalisedPosition):this.tryToFocusFullWidthRow(nextCell)}getNormalisedPosition(cellPosition){if(!!this.beans.spannedRowRenderer?.getCellByPosition(cellPosition))return cellPosition;this.ensureCellVisible(cellPosition);const cellCtrl=_getCellByPosition(this.beans,cellPosition);return cellCtrl?(cellPosition=cellCtrl.getFocusedCellPosition(),this.ensureCellVisible(cellPosition),cellPosition):null}tryToFocusFullWidthRow(position,backwards){const{visibleCols,rowRenderer,focusSvc,eventSvc}=this.beans,displayedColumns=visibleCols.allCols,rowComp=rowRenderer.getRowByPosition(position);if(!rowComp||!rowComp.isFullWidth())return!1;const currentCellFocused=focusSvc.getFocusedCell(),cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?_last(displayedColumns):displayedColumns[0])};this.focusPosition(cellPosition);const fromBelow=null==backwards?null!=currentCellFocused&&function _isRowBefore(rowA,rowB){switch(rowA.rowPinned){case"top":if("top"!==rowB.rowPinned)return!0;break;case"bottom":if("bottom"!==rowB.rowPinned)return!1;break;default:if(_exists(rowB.rowPinned))return"top"!==rowB.rowPinned}return rowA.rowIndex<rowB.rowIndex}(cellPosition,currentCellFocused):backwards;return eventSvc.dispatchEvent({type:"fullWidthRowFocused",rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned,column:cellPosition.column,isFullWidthCell:!0,fromBelow}),!0}focusPosition(cellPosition){const{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0}),rangeSvc?.setRangeToCell(cellPosition)}isValidNavigateCell(cell){return!!_getRowNode(this.beans,cell)}getLastCellOfColSpan(cell){const cellCtrl=_getCellByPosition(this.beans,cell);if(!cellCtrl)return cell;const colSpanningList=cellCtrl.getColSpanningList();return 1===colSpanningList.length?cell:{rowIndex:cell.rowIndex,column:_last(colSpanningList),rowPinned:cell.rowPinned}}ensureCellVisible(gridCell){const isGroupStickyEnabled=_isGroupRowsSticky(this.gos),rowNode=this.beans.rowModel.getRow(gridCell.rowIndex),skipScrollToRow=isGroupStickyEnabled&&rowNode?.sticky,{scrollFeature}=this.gridBodyCon;!skipScrollToRow&&_missing(gridCell.rowPinned)&&scrollFeature.ensureIndexVisible(gridCell.rowIndex),gridCell.column.isPinned()||scrollFeature.ensureColumnVisible(gridCell.column)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(beans){this.rowSpanSvc=beans.rowSpanSvc}getNextCellToFocus(key,focusedCell,ctrlPressed=!1){return ctrlPressed?this.getNextCellToFocusWithCtrlPressed(key,focusedCell):this.getNextCellToFocusWithoutCtrlPressed(key,focusedCell)}getNextCellToFocusWithCtrlPressed(key,focusedCell){const upKey=key===KeyCode_UP,downKey=key===KeyCode_DOWN,leftKey=key===KeyCode_LEFT;let column,rowIndex;const{pageBounds,gos,visibleCols}=this.beans;if(upKey||downKey)rowIndex=upKey?pageBounds.getFirstRow():pageBounds.getLastRow(),column=focusedCell.column;else{const isRtl=gos.get("enableRtl");rowIndex=focusedCell.rowIndex;column=(leftKey!==isRtl?visibleCols.allCols:[...visibleCols.allCols].reverse()).find((col=>this.isCellGoodToFocusOn({rowIndex,rowPinned:null,column:col})))}return column?{rowIndex,rowPinned:null,column}:null}getNextCellToFocusWithoutCtrlPressed(key,focusedCell){let pointer=focusedCell,finished=!1;for(;!finished;){switch(key){case KeyCode_UP:pointer=this.getCellAbove(pointer);break;case KeyCode_DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode_RIGHT:pointer=this.gos.get("enableRtl")?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode_LEFT:pointer=this.gos.get("enableRtl")?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null,_warn(8,{key})}finished=!pointer||this.isCellGoodToFocusOn(pointer)}return pointer}isCellGoodToFocusOn(gridCell){const column=gridCell.column;let rowNode;const{pinnedRowModel,rowModel}=this.beans;switch(gridCell.rowPinned){case"top":rowNode=pinnedRowModel?.getPinnedTopRow(gridCell.rowIndex);break;case"bottom":rowNode=pinnedRowModel?.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=rowModel.getRow(gridCell.rowIndex)}if(!rowNode)return!1;return!this.isSuppressNavigable(column,rowNode)}getCellToLeft(lastCell){if(!lastCell)return null;const colToLeft=this.beans.visibleCols.getColBefore(lastCell.column);return colToLeft?{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned}:null}getCellToRight(lastCell){if(!lastCell)return null;const colToRight=this.beans.visibleCols.getColAfter(lastCell.column);return colToRight?{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned}:null}getRowBelow(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;let ignoreSticky=!1;const{pageBounds,pinnedRowModel,rowModel}=this.beans;if(this.isLastRowInContainer(rowPosition))switch(pinned){case"bottom":return null;case"top":return rowModel.isRowsToRender()?{rowIndex:pageBounds.getFirstRow(),rowPinned:null}:pinnedRowModel?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return pinnedRowModel?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else pinned&&(ignoreSticky=!0);const rowNode=rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=ignoreSticky?void 0:this.getNextStickyPosition(rowNode);return nextStickyPosition||{rowIndex:index+1,rowPinned:pinned}}getNextStickyPosition(rowNode,up){const{gos,rowRenderer}=this.beans;if(!_isGroupRowsSticky(gos)||!rowNode||!rowNode.sticky)return;let stickyRowCtrls=[];stickyRowCtrls=rowRenderer.getStickyTopRowCtrls().some((ctrl=>ctrl.rowNode.rowIndex===rowNode.rowIndex))?[...rowRenderer.getStickyTopRowCtrls()].sort(((a,b)=>a.rowNode.rowIndex-b.rowNode.rowIndex)):[...rowRenderer.getStickyBottomRowCtrls()].sort(((a,b)=>b.rowNode.rowIndex-a.rowNode.rowIndex));const diff=up?-1:1,idx=stickyRowCtrls.findIndex((ctrl=>ctrl.rowNode.rowIndex===rowNode.rowIndex)),nextCtrl=stickyRowCtrls[idx+diff];return nextCtrl?{rowIndex:nextCtrl.rowNode.rowIndex,rowPinned:null}:void 0}getCellBelow(lastCell){if(!lastCell)return null;const adjustedLastCell=this.rowSpanSvc?.getCellEnd(lastCell)??lastCell,rowBelow=this.getRowBelow(adjustedLastCell);return rowBelow?{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned}:null}isLastRowInContainer(rowPosition){const pinned=rowPosition.rowPinned,index=rowPosition.rowIndex,{pinnedRowModel,pageBounds}=this.beans;if("top"===pinned){return(pinnedRowModel?.getPinnedTopRowCount()??-1)<=index}if("bottom"===pinned){return(pinnedRowModel?.getPinnedBottomRowCount()??-1)<=index}return pageBounds.getLastRow()<=index}getRowAbove(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned,{pageBounds,pinnedRowModel,rowModel}=this.beans;let ignoreSticky=!1;const getLastFloatingTopRow=()=>({rowIndex:pinnedRowModel?.getPinnedTopRowCount()??-1,rowPinned:"top"});if(pinned?0===index:index===pageBounds.getFirstRow()){if("top"===pinned)return null;if(!pinned)return pinnedRowModel?.isRowsToRender("top")?getLastFloatingTopRow():null;if(rowModel.isRowsToRender()){return{rowIndex:pageBounds.getLastRow(),rowPinned:null}}return pinnedRowModel?.isRowsToRender("top")?getLastFloatingTopRow():null}pinned&&(ignoreSticky=!0);const rowNode=rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=ignoreSticky?void 0:this.getNextStickyPosition(rowNode,!0);return nextStickyPosition||{rowIndex:index-1,rowPinned:pinned}}getCellAbove(lastCell){if(!lastCell)return null;const adjustedLastCell=this.rowSpanSvc?.getCellStart(lastCell)??lastCell,rowAbove=this.getRowAbove({rowIndex:adjustedLastCell.rowIndex,rowPinned:adjustedLastCell.rowPinned});return rowAbove?{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned}:null}getNextTabbedCell(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)}getNextTabbedCellForwards(gridCell){const{visibleCols,pagination}=this.beans,displayedColumns=visibleCols.allCols;let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=visibleCols.getColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];const rowBelow=this.getRowBelow(gridCell);if(_missing(rowBelow))return null;if(!rowBelow.rowPinned&&!(pagination?.isRowInPage(rowBelow)??1))return null;newRowIndex=rowBelow?rowBelow.rowIndex:null,newFloating=rowBelow?rowBelow.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}getNextTabbedCellBackwards(gridCell){const{visibleCols,pagination}=this.beans,displayedColumns=visibleCols.allCols;let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=visibleCols.getColBefore(gridCell.column);if(!newColumn){newColumn=_last(displayedColumns);const rowAbove=this.getRowAbove({rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned});if(_missing(rowAbove))return null;if(!rowAbove.rowPinned&&!(pagination?.isRowInPage(rowAbove)??1))return null;newRowIndex=rowAbove?rowAbove.rowIndex:null,newFloating=rowAbove?rowAbove.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}isSuppressNavigable(column,rowNode){const{suppressNavigable}=column.colDef;if("boolean"==typeof suppressNavigable)return suppressNavigable;if("function"==typeof suppressNavigable){return suppressNavigable(column.createColumnFunctionCallbackParams(rowNode))}return!1}},class extends BeanStub{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const beans=this.beans;beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}));const eDocument=_getDocument(beans);this.addManagedElementListeners(eDocument,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(colKey,floatingFilter){let column;const{colModel,colGroupSvc,ctrlsSvc}=this.beans;if("string"==typeof colKey?(column=colModel.getCol(colKey),column||(column=colGroupSvc?.getColumnGroup(colKey)??null)):column=colKey,!column)return null;const centerHeaderContainer=ctrlsSvc.getHeaderRowContainerCtrl(),allCtrls=centerHeaderContainer?.getAllCtrls(),isFloatingFilterVisible="filter"===_last(allCtrls||[]).type,headerRowCount=getFocusHeaderRowCount(this.beans)-1;let row=-1,col=column;for(;col;)row++,col=col.getParent();let headerRowIndex=row;return floatingFilter&&isFloatingFilterVisible&&headerRowIndex===headerRowCount-1&&headerRowIndex++,-1===headerRowIndex?null:{headerRowIndex,column}}navigateVertically(direction,fromHeader,event){const focusSvc=this.beans.focusSvc;if(fromHeader||(fromHeader=focusSvc.focusedHeader),!fromHeader)return!1;const{headerRowIndex}=fromHeader,column=fromHeader.column,rowLen=getFocusHeaderRowCount(this.beans),isUp="UP"===direction,currentRowType=this.getHeaderRowType(headerRowIndex);let{headerRowIndex:nextRow,column:nextFocusColumn,headerRowIndexWithoutSpan}=isUp?function getColumnVisibleParent(currentRowType,currentColumn,currentIndex){const isFloatingFilter="filter"===currentRowType,isColumn2="column"===currentRowType;let nextFocusColumn=isFloatingFilter?currentColumn:currentColumn.getParent(),nextRow=currentIndex-1,headerRowIndexWithoutSpan=nextRow;if(isColumn2&&isAnyChildSpanningHeaderHeight(currentColumn.getParent())){for(;nextFocusColumn&&nextFocusColumn.isPadding();)nextFocusColumn=nextFocusColumn.getParent(),nextRow--;headerRowIndexWithoutSpan=nextRow,nextRow<0&&(nextFocusColumn=currentColumn,nextRow=currentIndex,headerRowIndexWithoutSpan=void 0)}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan}}(currentRowType,column,headerRowIndex):function getColumnVisibleChild(currentRowType,column,currentIndex,direction="After"){let nextFocusColumn=column,nextRow=currentIndex+1;const headerRowIndexWithoutSpan=nextRow;if("group"===currentRowType){const leafColumns=column.getDisplayedLeafColumns(),leafColumn="After"===direction?leafColumns[0]:_last(leafColumns),columnsInTheWay=[];let currentColumn=leafColumn;for(;currentColumn.getParent()!==column;)currentColumn=currentColumn.getParent(),columnsInTheWay.push(currentColumn);if(nextFocusColumn=leafColumn,leafColumn.isSpanHeaderHeight())for(let i=columnsInTheWay.length-1;i>=0;i--){const colToFocus=columnsInTheWay[i];if(!colToFocus.isPadding()){nextFocusColumn=colToFocus;break}nextRow++}else nextFocusColumn=_last(columnsInTheWay),nextFocusColumn||(nextFocusColumn=leafColumn)}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan}}(currentRowType,column,headerRowIndex),skipColumn=!1;return nextRow<0&&(nextRow=0,nextFocusColumn=column,skipColumn=!0),nextRow>=rowLen?(nextRow=-1,this.currentHeaderRowWithoutSpan=-1):void 0!==headerRowIndexWithoutSpan&&(this.currentHeaderRowWithoutSpan=headerRowIndexWithoutSpan),!(!skipColumn&&!nextFocusColumn)&&focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:nextRow,column:nextFocusColumn},allowUserOverride:!0,event})}navigateHorizontally(direction,fromTab=!1,event){const{focusSvc,gos}=this.beans,focusedHeader=focusSvc.focusedHeader;let nextHeader,normalisedDirection;if(-1!==this.currentHeaderRowWithoutSpan?focusedHeader.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=focusedHeader.headerRowIndex,"LEFT"===direction!==gos.get("enableRtl")?(normalisedDirection="Before",nextHeader=this.findHeader(focusedHeader,normalisedDirection)):(normalisedDirection="After",nextHeader=this.findHeader(focusedHeader,normalisedDirection)),nextHeader||!fromTab)return focusSvc.focusHeaderPosition({headerPosition:nextHeader,direction:normalisedDirection,fromTab,allowUserOverride:!0,event});if(fromTab){const userFunc=gos.getCallback("tabToNextHeader");if(userFunc)return focusSvc.focusHeaderPositionFromUserFunc({userFunc,headerPosition:nextHeader,direction:normalisedDirection})}return this.focusNextHeaderRow(focusedHeader,normalisedDirection,event)}focusNextHeaderRow(focusedHeader,direction,event){const currentIndex=focusedHeader.headerRowIndex;let nextRowIndex,nextPosition=null;const beans=this.beans;if("Before"===direction?currentIndex>0&&(nextRowIndex=currentIndex-1,this.currentHeaderRowWithoutSpan-=1,nextPosition=this.findColAtEdgeForHeaderRow(nextRowIndex,"end")):(nextRowIndex=currentIndex+1,this.currentHeaderRowWithoutSpan<getFocusHeaderRowCount(beans)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,nextPosition=this.findColAtEdgeForHeaderRow(nextRowIndex,"start")),!nextPosition)return!1;const{column,headerRowIndex}=getHeaderIndexToFocus(nextPosition.column,nextPosition?.headerRowIndex);return beans.focusSvc.focusHeaderPosition({headerPosition:{column,headerRowIndex},direction,fromTab:!0,allowUserOverride:!0,event})}scrollToColumn(column,direction="After"){if(column.getPinned())return;let columnToScrollTo;if(isColumnGroup2(column)){const columns=column.getDisplayedLeafColumns();columnToScrollTo="Before"===direction?_last(columns):columns[0]}else columnToScrollTo=column;this.gridBodyCon.scrollFeature.ensureColumnVisible(columnToScrollTo)}findHeader(focusedHeader,direction){let nextColumn,getColMethod;const{colGroupSvc,visibleCols}=this.beans;if(isColumnGroup2(focusedHeader.column)?nextColumn=colGroupSvc?.getGroupAtDirection(focusedHeader.column,direction)??void 0:(getColMethod=`getCol${direction}`,nextColumn=visibleCols[getColMethod](focusedHeader.column)),!nextColumn)return;const{headerRowIndex}=focusedHeader;if("filter"!==this.getHeaderRowType(headerRowIndex)){const columnsInPath=[nextColumn];for(;nextColumn.getParent();)nextColumn=nextColumn.getParent(),columnsInPath.push(nextColumn);nextColumn=columnsInPath[Math.max(0,columnsInPath.length-1-headerRowIndex)]}const{column,headerRowIndex:indexToFocus}=getHeaderIndexToFocus(nextColumn,headerRowIndex);return{column,headerRowIndex:indexToFocus}}getHeaderRowType(rowIndex){const centerHeaderContainer=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(centerHeaderContainer)return centerHeaderContainer.getRowType(rowIndex)}findColAtEdgeForHeaderRow(level,position){const{visibleCols,ctrlsSvc,colGroupSvc}=this.beans,displayedColumns=visibleCols.allCols,column=displayedColumns["start"===position?0:displayedColumns.length-1];if(!column)return;const childContainer=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned()),type=childContainer?.getRowType(level);if("group"==type){const columnGroup=colGroupSvc?.getColGroupAtLevel(column,level);return{headerRowIndex:level,column:columnGroup}}return{headerRowIndex:null==type?-1:level,column}}}],apiFunctions:{getFocusedCell:function getFocusedCell(beans){return beans.focusSvc.getFocusedCell()},clearFocusedCell:function clearFocusedCell(beans){return beans.focusSvc.clearFocusedCell()},setFocusedCell:function setFocusedCell(beans,rowIndex,colKey,rowPinned){beans.focusSvc.setFocusedCell({rowIndex,column:colKey,rowPinned,forceBrowserFocus:!0})},setFocusedHeader:function setFocusedHeader(beans,colKey,floatingFilter=!1){const headerPosition=beans.headerNavigation?.getHeaderPositionForColumn(colKey,floatingFilter);headerPosition&&beans.focusSvc.focusHeaderPosition({headerPosition})},tabToNextCell:function tabToNextCell(beans,event){return beans.navigation?.tabToNextCell(!1,event)??!1},tabToPreviousCell:function tabToPreviousCell(beans,event){return beans.navigation?.tabToNextCell(!0,event)??!1}}},SetPinnedWidthFeature=class extends BeanStub{constructor(isLeft,elements){super(),this.isLeft=isLeft,this.elements=elements,this.getWidth=isLeft?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[(this.isLeft?"left":"right")+"PinnedWidthChanged"]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const width=this.getWidth(),displayed=width>0;for(const element of this.elements)element&&(_setDisplayed(element,displayed),_setFixedWidth(element,width))}},PinnedColumnModule={moduleName:"PinnedColumn",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl}));const listener=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:listener,displayedColumnsWidthChanged:listener}),this.addManagedPropertyListener("domLayout",listener)}checkContainerWidths(){const{gos,visibleCols,eventSvc}=this.beans,printLayout=_isDomLayout(gos,"print"),newLeftWidth=printLayout?0:visibleCols.getColsLeftWidth(),newRightWidth=printLayout?0:visibleCols.getDisplayedColumnsRightWidth();newLeftWidth!=this.leftWidth&&(this.leftWidth=newLeftWidth,eventSvc.dispatchEvent({type:"leftPinnedWidthChanged"})),newRightWidth!=this.rightWidth&&(this.rightWidth=newRightWidth,eventSvc.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const bodyWidth=_getInnerWidth(this.gridBodyCtrl.eBodyViewport);if(bodyWidth<=50)return;const processedColumnsToRemove=this.getPinnedColumnsOverflowingViewport(bodyWidth-50),processUnpinnedColumns=this.gos.getCallback("processUnpinnedColumns"),{columns,hasLockedPinned}=processedColumnsToRemove;let columnsToRemove=columns;if(columnsToRemove.length||hasLockedPinned){if(processUnpinnedColumns){columnsToRemove=processUnpinnedColumns({columns:columnsToRemove,viewportWidth:bodyWidth})}columnsToRemove&&columnsToRemove.length&&(columnsToRemove=columnsToRemove.filter((col=>!isRowNumberCol(col))),this.setColsPinned(columnsToRemove,null,"viewportSizeFeature"))}}createPinnedWidthFeature(isLeft,...elements){return new SetPinnedWidthFeature(isLeft,elements)}setColsPinned(keys,pinned,source){const{colModel,colAnimation,visibleCols,gos}=this.beans;if(!colModel.cols)return;if(!keys?.length)return;if(_isDomLayout(gos,"print"))return void _warn(37);let actualPinned;colAnimation?.start(),actualPinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null;const updatedCols=[];keys.forEach((key=>{if(!key)return;const column=colModel.getCol(key);column&&column.getPinned()!==actualPinned&&(this.setColPinned(column,actualPinned),updatedCols.push(column))})),updatedCols.length&&(visibleCols.refresh(source),dispatchColumnPinnedEvent(this.eventSvc,updatedCols,source)),colAnimation?.finish()}initCol(column){const{pinned,initialPinned}=column.colDef;void 0!==pinned?this.setColPinned(column,pinned):this.setColPinned(column,initialPinned)}setColPinned(column,pinned){column.pinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null,column.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(ctrl){const{scrollVisibleSvc}=this.beans;if(null==ctrl.pinned)return;const pinningLeft="left"===ctrl.pinned,pinningRight="right"===ctrl.pinned;ctrl.hidden=!0;const listener=()=>{const width=pinningLeft?this.leftWidth:this.rightWidth;if(null==width)return;const hidden=0==width,hiddenChanged=ctrl.hidden!==hidden,isRtl=this.gos.get("enableRtl"),scrollbarWidth=scrollVisibleSvc.getScrollbarWidth(),widthWithPadding=scrollVisibleSvc.verticalScrollShowing&&(isRtl&&pinningLeft||!isRtl&&pinningRight)?width+scrollbarWidth:width;ctrl.comp.setPinnedContainerWidth(`${widthWithPadding}px`),ctrl.comp.setDisplayed(!hidden),hiddenChanged&&(ctrl.hidden=hidden,ctrl.refresh())};ctrl.addManagedEventListeners({leftPinnedWidthChanged:listener,rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener})}getHeaderResizeDiff(diff,column){if(column.getPinned()){const{leftWidth,rightWidth}=this,bodyWidth=_getInnerWidth(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(leftWidth+rightWidth+diff>bodyWidth){if(!(bodyWidth>leftWidth+rightWidth))return 0;diff=bodyWidth-leftWidth-rightWidth}}return diff}getPinnedColumnsOverflowingViewport(viewportWidth){const totalPinnedWidth=(this.rightWidth??0)+(this.leftWidth??0);let hasLockedPinned=!1;if(totalPinnedWidth<viewportWidth)return{columns:[],hasLockedPinned};const{visibleCols}=this.beans,pinnedLeftColumns=[...visibleCols.leftCols],pinnedRightColumns=[...visibleCols.rightCols];let indexRight=0,indexLeft=0;const columnsToRemove=[];let spaceNecessary=totalPinnedWidth-0-viewportWidth;for(;(indexLeft<pinnedLeftColumns.length||indexRight<pinnedRightColumns.length)&&spaceNecessary>0;){if(indexRight<pinnedRightColumns.length){const currentColumn=pinnedRightColumns[indexRight++];if(currentColumn.colDef.lockPinned){hasLockedPinned=!0;continue}spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}if(indexLeft<pinnedLeftColumns.length&&spaceNecessary>0){const currentColumn=pinnedLeftColumns[indexLeft++];if(currentColumn.colDef.lockPinned){hasLockedPinned=!0;continue}spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}}return{columns:columnsToRemove,hasLockedPinned}}}],css:[".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}"]},AriaModule={moduleName:"Aria",version:VERSION,beans:[class extends BeanStub{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=_debounce(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const beans=this.beans,eDocument=_getDocument(beans),div=this.descriptionContainer=eDocument.createElement("div");div.classList.add("ag-aria-description-container"),_setAriaLive(div,"polite"),function _setAriaRelevant(element,relevant){_toggleAriaAttribute(element,"relevant",relevant)}(div,"additions text"),function _setAriaAtomic(element,atomic){_toggleAriaAttribute(element,"atomic",atomic)}(div,!0),beans.eGridDiv.appendChild(div)}announceValue(value,key){this.pendingAnnouncements.set(key,value),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const value=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout((()=>{if(this.isAlive()&&this.descriptionContainer){let valueToAnnounce=value;this.lastAnnouncement===valueToAnnounce&&(valueToAnnounce=`${valueToAnnounce}.`),this.lastAnnouncement=valueToAnnounce,this.descriptionContainer.textContent=valueToAnnounce}}),50)}destroy(){super.destroy();const{descriptionContainer}=this;descriptionContainer&&(_clearElement(descriptionContainer),descriptionContainer.parentElement?.removeChild(descriptionContainer)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}}]};var OverlayWrapperComponent=class extends Component{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=null,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}")}handleKeyDown(e){if(e.key!==KeyCode_TAB||e.defaultPrevented||_isStopPropagationForAgGrid(e))return;const beans=this.beans;if(_findNextFocusableElement(beans,this.eOverlayWrapper,!1,e.shiftKey))return;let isFocused=!1;isFocused=e.shiftKey?beans.focusSvc.focusGridView({column:_last(beans.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):_focusNextGridCoreContainer(beans,!1),isFocused&&e.preventDefault()}updateLayoutClasses(cssClass,params){const overlayWrapperClassList=this.eOverlayWrapper.classList,{AUTO_HEIGHT,NORMAL,PRINT}=LayoutCssClasses;overlayWrapperClassList.toggle(AUTO_HEIGHT,params.autoHeight),overlayWrapperClassList.toggle(NORMAL,params.normal),overlayWrapperClassList.toggle(PRINT,params.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(overlayWrapperCssClass){const overlayWrapperClassList=this.eOverlayWrapper.classList;this.activeCssClass&&overlayWrapperClassList.toggle(this.activeCssClass,!1),this.activeCssClass=overlayWrapperCssClass,overlayWrapperClassList.toggle(overlayWrapperCssClass,!0)}showOverlay(overlayComponentPromise,overlayWrapperCssClass,exclusive,gridOption){if(this.setWrapperTypeClass(overlayWrapperCssClass),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=overlayComponentPromise,overlayComponentPromise){if(this.setDisplayed(!0,{skipAriaHidden:!0}),exclusive&&this.isGridFocused()){const activeElement=_getActiveDomElement(this.beans);activeElement&&!_isNothingFocused(this.beans)&&(this.elToFocusAfter=activeElement)}overlayComponentPromise.then((comp=>{if(this.activePromise===overlayComponentPromise){if(this.activePromise=null,comp){if(this.activeOverlay!==comp&&(this.eOverlayWrapper.appendChild(comp.getGui()),this.activeOverlay=comp,gridOption)){const component=comp;this.updateListenerDestroyFunc=this.addManagedPropertyListener(gridOption,(({currentValue})=>{component.refresh?.(_addGridCommonParams(this.gos,{...currentValue??{}}))}))}exclusive&&this.isGridFocused()&&_focusInto(this.eOverlayWrapper)}}else this.activeOverlay!==comp&&(this.destroyBean(comp),comp=null)}))}}updateOverlayWrapperPaddingTop(padding){this.eOverlayWrapper.style.setProperty("padding-top",`${padding}px`)}destroyActiveOverlay(){this.activePromise=null;const activeOverlay=this.activeOverlay;if(!activeOverlay)return;let elementToFocus=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,elementToFocus&&!this.isGridFocused()&&(elementToFocus=null);const updateListenerDestroyFunc=this.updateListenerDestroyFunc;updateListenerDestroyFunc&&(updateListenerDestroyFunc(),this.updateListenerDestroyFunc=null),this.destroyBean(activeOverlay),_clearElement(this.eOverlayWrapper),elementToFocus?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const activeEl=_getActiveDomElement(this.beans);return!!activeEl&&this.beans.eGridDiv.contains(activeEl)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},OverlayWrapperSelector={selector:"AG-OVERLAY-WRAPPER",component:OverlayWrapperComponent},OverlayModule={moduleName:"Overlay",version:VERSION,userComponents:{agLoadingOverlay:class extends OverlayComponent{init(){const customTemplate=_makeNull(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(customTemplate??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!customTemplate){const localeTextFunc=this.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=localeTextFunc("loadingOoo","Loading...")}))}}},agNoRowsOverlay:class extends OverlayComponent{init(){const customTemplate=_makeNull(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(customTemplate??'<span class="ag-overlay-no-rows-center"></span>'),!customTemplate){const localeTextFunc=this.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=localeTextFunc("noRowsToShow","No Rows To Show")}))}}}},apiFunctions:{showLoadingOverlay:function showLoadingOverlay(beans){beans.overlays?.showLoadingOverlay()},showNoRowsOverlay:function showNoRowsOverlay(beans){beans.overlays?.showNoRowsOverlay()},hideOverlay:function hideOverlay(beans){beans.overlays?.hideOverlay()}},beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos),this.isServerSide=!this.isClientSide&&_isServerSideRowModel(this.gos);const updateOverlayVisibility=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:updateOverlayVisibility,rowDataUpdated:updateOverlayVisibility,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",updateOverlayVisibility)}setOverlayWrapperComp(overlayWrapperComp){this.eWrapper=overlayWrapperComp,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.eWrapper}isExclusive(){return 1===this.state&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const gos=this.gos,loading=gos.get("loading");(loading||void 0===loading&&!gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const gos=this.gos;gos.get("loading")||gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?_warn(99):this.doHideOverlay()}getOverlayWrapperSelector(){return OverlayWrapperSelector}getOverlayWrapperCompClass(){return OverlayWrapperComponent}updateOverlayVisibility(){if(!this.eWrapper)return void(this.state=0);const{state,isClientSide,isServerSide,beans:{gos,colModel,rowModel}}=this;let loading=this.gos.get("loading");void 0!==loading&&(this.showInitialOverlay=!1),this.showInitialOverlay&&void 0===loading&&!gos.get("suppressLoadingOverlay")&&(loading=!gos.get("columnDefs")||!colModel.ready||!gos.get("rowData")&&isClientSide),loading?1!==state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,isClientSide&&rowModel.isEmpty()&&!gos.get("suppressNoRowsOverlay")?2!==state&&this.doShowNoRowsOverlay():(1===state||!isServerSide&&0!==state)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(function _getLoadingOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(LoadingOverlayComponent,"agLoadingOverlay",params,!0)}(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(function _getNoRowsOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(NoRowsOverlayComponent,"agNoRowsOverlay",params,!0)}(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(compDetails,wrapperCssClass,gridOption){const promise=compDetails?.newAgStackInstance()??null;this.eWrapper?.showOverlay(promise,wrapperCssClass,this.isExclusive(),gridOption),this.refreshWrapperPadding()}updateExclusive(){const wasExclusive=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==wasExclusive&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const eWrapper=this.eWrapper;if(!eWrapper)return;let newPadding=0;if(2===this.state){const headerCtrl=this.beans.ctrlsSvc.get("gridHeaderCtrl");newPadding=headerCtrl?.headerHeight||0}else 0!==this.wrapperPadding&&(newPadding=0);this.wrapperPadding!==newPadding&&(this.wrapperPadding=newPadding,eWrapper.updateOverlayWrapperPaddingTop(newPadding))}}]},RowCtrlCache=class{constructor(maxCount){this.entriesMap={},this.entriesList=[],this.maxCount=maxCount}addRow(rowCtrl){if(this.entriesMap[rowCtrl.rowNode.id]=rowCtrl,this.entriesList.push(rowCtrl),rowCtrl.setCached(!0),this.entriesList.length>this.maxCount){const rowCtrlToDestroy=this.entriesList[0];rowCtrlToDestroy.destroyFirstPass(),rowCtrlToDestroy.destroySecondPass(),this.removeFromCache(rowCtrlToDestroy)}}getRow(rowNode){if(null==rowNode||null==rowNode.id)return null;const res=this.entriesMap[rowNode.id];if(!res)return null;this.removeFromCache(res),res.setCached(!1);return res.rowNode!=rowNode?null:res}has(rowNode){return null!=this.entriesMap[rowNode.id]}removeRow(rowNode){const rowNodeId=rowNode.id,ctrl=this.entriesMap[rowNodeId];delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,ctrl)}removeFromCache(rowCtrl){const rowNodeId=rowCtrl.rowNode.id;delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,rowCtrl)}getEntries(){return this.entriesList}};function mapRowNodes(rowNodes){if(!rowNodes)return;const res={top:{},bottom:{},normal:{}};return rowNodes.forEach((rowNode=>{const id=rowNode.id;switch(rowNode.rowPinned){case"top":res.top[id]=rowNode;break;case"bottom":res.bottom[id]=rowNode;break;default:res.normal[id]=rowNode}})),res}function isRowInMap(rowNode,rowIdsMap){const id=rowNode.id;switch(rowNode.rowPinned){case"top":return null!=rowIdsMap.top[id];case"bottom":return null!=rowIdsMap.bottom[id];default:return null!=rowIdsMap.normal[id]}}function makeSpan(dataRefSuffix,classSuffix){return`<span data-ref="eSort${dataRefSuffix}" class="ag-sort-indicator-icon ag-sort-${classSuffix} ag-hidden" aria-hidden="true"></span>`}var SortIndicatorTemplate=`<span class="ag-sort-indicator-container">\n        ${makeSpan("Order","order")}\n        ${makeSpan("Asc","ascending-icon")}\n        ${makeSpan("Desc","descending-icon")}\n        ${makeSpan("Mixed","mixed-icon")}\n        ${makeSpan("None","none-icon")}\n    </span>`,SortIndicatorComp=class extends Component{constructor(skipTemplate){super(),this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,skipTemplate||this.setTemplate(SortIndicatorTemplate)}attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone){this.eSortOrder=eSortOrder,this.eSortAsc=eSortAsc,this.eSortDesc=eSortDesc,this.eSortMixed=eSortMixed,this.eSortNone=eSortNone}setupSort(column,suppressOrder=!1){if(this.column=column,this.suppressOrder=suppressOrder,this.setupMultiSortIndicator(),!column.isSortable()&&!column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,column),this.addInIcon("sortDescending",this.eSortDesc,column),this.addInIcon("sortUnSort",this.eSortNone,column);const updateIcons=this.updateIcons.bind(this),sortUpdated=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",updateIcons),this.addManagedEventListeners({newColumnsLoaded:updateIcons,sortChanged:sortUpdated,columnRowGroupChanged:sortUpdated}),this.onSortChanged()}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=_createIconNoSpan(iconName,this.beans,column);eIcon&&eParent.appendChild(eIcon)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc,eSortDesc,eSortNone,column,gos,beans}=this,sortDirection=beans.sortSvc.getDisplaySortForColumn(column);if(eSortAsc){_setDisplayed(eSortAsc,"asc"===sortDirection,{skipAriaHidden:!0})}if(eSortDesc){_setDisplayed(eSortDesc,"desc"===sortDirection,{skipAriaHidden:!0})}if(eSortNone){_setDisplayed(eSortNone,!(!column.getColDef().unSortIcon&&!gos.get("unSortIcon"))&&null==sortDirection,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed,column,gos}=this;this.addInIcon("sortUnSort",eSortMixed,column);const isColumnShowingRowGroup=column.getColDef().showRowGroup;_isColumnsSortingCoupledToGroup(gos)&&isColumnShowingRowGroup&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed,beans,column}=this;if(eSortMixed){_setDisplayed(eSortMixed,"mixed"===beans.sortSvc.getDisplaySortForColumn(column),{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder,column,beans:{sortSvc}}=this;if(!eSortOrder)return;const allColumnsWithSorting=sortSvc.getColumnsWithSortingOrdered(),indexThisCol=sortSvc.getDisplaySortIndexForColumn(column)??-1,moreThanOneColSorting=allColumnsWithSorting.some((col=>sortSvc.getDisplaySortIndexForColumn(col)??!1));_setDisplayed(eSortOrder,indexThisCol>=0&&moreThanOneColSorting,{skipAriaHidden:!0}),indexThisCol>=0?eSortOrder.textContent=(indexThisCol+1).toString():_clearElement(eSortOrder)}},SortIndicatorSelector={selector:"AG-SORT-INDICATOR",component:SortIndicatorComp},DEFAULT_SORTING_ORDER=["asc","desc",null],SortModule={moduleName:"Sort",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(column,multiSort,source){const nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source)}progressSortFromEvent(column,event){const multiSort="ctrl"===this.gos.get("multiSortKey")?event.ctrlKey||event.metaKey:event.shiftKey;this.progressSort(column,multiSort,"uiColumnSorted")}setSortForColumn(column,sort,multiSort,source){"asc"!==sort&&"desc"!==sort&&(sort=null);const{gos,showRowGroupCols}=this.beans;let columnsToUpdate=[column];if(_isColumnsSortingCoupledToGroup(gos)&&column.getColDef().showRowGroup){const rowGroupColumns=showRowGroupCols?.getSourceColumnsForGroupColumn?.(column),sortableRowGroupColumns=rowGroupColumns?.filter((col=>col.isSortable()));sortableRowGroupColumns&&(columnsToUpdate=[column,...sortableRowGroupColumns])}columnsToUpdate.forEach((col=>this.setColSort(col,sort,source)));const updatedColumns=[];if(!((multiSort||gos.get("alwaysMultiSort"))&&!gos.get("suppressMultiSort"))){const clearedColumns=this.clearSortBarTheseColumns(columnsToUpdate,source);updatedColumns.push(...clearedColumns)}this.updateSortIndex(column),updatedColumns.push(...columnsToUpdate),this.dispatchSortChangedEvents(source,updatedColumns)}updateSortIndex(lastColToChange){const{gos,colModel,showRowGroupCols}=this.beans,isCoupled=_isColumnsSortingCoupledToGroup(gos),groupParent=showRowGroupCols?.getShowRowGroupCol(lastColToChange.getId()),lastSortIndexCol=isCoupled&&groupParent||lastColToChange,allSortedCols=this.getColumnsWithSortingOrdered();colModel.getAllCols().forEach((col=>this.setColSortIndex(col,null)));const allSortedColsWithoutChangesOrGroups=allSortedCols.filter((col=>(!isCoupled||!col.getColDef().showRowGroup)&&col!==lastSortIndexCol));(lastSortIndexCol.getSort()?[...allSortedColsWithoutChangesOrGroups,lastSortIndexCol]:allSortedColsWithoutChangesOrGroups).forEach(((col,idx)=>this.setColSortIndex(col,idx)))}onSortChanged(source,columns){this.dispatchSortChangedEvents(source,columns)}isSortActive(){const sortedCols=this.beans.colModel.getAllCols().filter((column=>!!column.getSort()));return sortedCols&&sortedCols.length>0}dispatchSortChangedEvents(source,columns){const event={type:"sortChanged",source};columns&&(event.columns=columns),this.eventSvc.dispatchEvent(event)}clearSortBarTheseColumns(columnsToSkip,source){const clearedColumns=[];return this.beans.colModel.getAllCols().forEach((columnToClear=>{columnsToSkip.includes(columnToClear)||(columnToClear.getSort()&&clearedColumns.push(columnToClear),this.setColSort(columnToClear,void 0,source))})),clearedColumns}getNextSortDirection(column){const sortingOrder=column.getColDef().sortingOrder??this.gos.get("sortingOrder")??DEFAULT_SORTING_ORDER,currentIndex=sortingOrder.indexOf(column.getSort()),notInArray=currentIndex<0,lastItemInArray=currentIndex==sortingOrder.length-1;return notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1]}getIndexedSortMap(){const{gos,colModel,showRowGroupCols,rowGroupColsSvc}=this.beans;let allSortedCols=colModel.getAllCols().filter((col=>!!col.getSort()));if(colModel.isPivotMode()){const isSortingLinked=_isColumnsSortingCoupledToGroup(gos);allSortedCols=allSortedCols.filter((col=>{const isAggregated=!!col.getAggFunc(),isSecondary=!col.isPrimary(),isGroup=isSortingLinked?showRowGroupCols?.getShowRowGroupCol(col.getId()):col.getColDef().showRowGroup;return isAggregated||isSecondary||isGroup}))}const sortedRowGroupCols=rowGroupColsSvc?.columns.filter((col=>!!col.getSort()))??[],allColsIndexes={};allSortedCols.forEach(((col,index)=>allColsIndexes[col.getId()]=index)),allSortedCols.sort(((a,b)=>{const iA=a.getSortIndex(),iB=b.getSortIndex();if(null!=iA&&null!=iB)return iA-iB;if(null==iA&&null==iB){return allColsIndexes[a.getId()]>allColsIndexes[b.getId()]?1:-1}return null==iB?-1:1}));const isSortLinked=_isColumnsSortingCoupledToGroup(gos)&&!!sortedRowGroupCols.length;isSortLinked&&(allSortedCols=[...new Set(allSortedCols.map((col=>showRowGroupCols?.getShowRowGroupCol(col.getId())??col)))]);const indexMap=new Map;return allSortedCols.forEach(((col,idx)=>indexMap.set(col,idx))),isSortLinked&&sortedRowGroupCols.forEach((col=>{const groupDisplayCol=showRowGroupCols.getShowRowGroupCol(col.getId());indexMap.set(col,indexMap.get(groupDisplayCol))})),indexMap}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((([col1,idx1],[col2,idx2])=>idx1-idx2)).map((([col])=>col))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),colId:column.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),column})))}canColumnDisplayMixedSort(column){const isColumnSortCouplingActive=_isColumnsSortingCoupledToGroup(this.gos),isGroupDisplayColumn=!!column.getColDef().showRowGroup;return isColumnSortCouplingActive&&isGroupDisplayColumn}getDisplaySortForColumn(column){const linkedColumns=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(column);if(!this.canColumnDisplayMixedSort(column)||!linkedColumns?.length)return column.getSort();const sortableColumns=null!=column.getColDef().field||!!column.getColDef().valueGetter?[column,...linkedColumns]:linkedColumns,firstSort=sortableColumns[0].getSort();return sortableColumns.every((col=>col.getSort()==firstSort))?firstSort:"mixed"}getDisplaySortIndexForColumn(column){return this.getIndexedSortMap().get(column)}setupHeader(comp,column,clickElement){let lastMovingChanged=0;comp.addManagedListeners(column,{movingChanged:()=>{lastMovingChanged=(new Date).getTime()}}),clickElement&&comp.addManagedElementListeners(clickElement,{click:event=>{const moving=column.isMoving(),nowTime=(new Date).getTime();moving||nowTime-lastMovingChanged<50||this.progressSortFromEvent(column,event)}});const onSortingChanged=()=>{const sort=column.getSort();if(comp.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===sort),comp.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===sort),comp.addOrRemoveCssClass("ag-header-cell-sorted-none",!sort),column.getColDef().showRowGroup){const sourceColumns=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(column),sortDirectionsMatch=sourceColumns?.every((sourceCol=>column.getSort()==sourceCol.getSort())),isMultiSorting=!sortDirectionsMatch;comp.addOrRemoveCssClass("ag-header-cell-sorted-mixed",isMultiSorting)}};comp.addManagedEventListeners({sortChanged:onSortingChanged,columnRowGroupChanged:onSortingChanged})}initCol(column){const{sort,initialSort,sortIndex,initialSortIndex}=column.colDef;void 0!==sort?"asc"!==sort&&"desc"!==sort||(column.sort=sort):"asc"!==initialSort&&"desc"!==initialSort||(column.sort=initialSort),void 0!==sortIndex?null!==sortIndex&&(column.sortIndex=sortIndex):null!==initialSortIndex&&(column.sortIndex=initialSortIndex)}updateColSort(column,sort,source){void 0!==sort&&("desc"===sort||"asc"===sort?this.setColSort(column,sort,source):this.setColSort(column,void 0,source))}setColSort(column,sort,source){column.sort!==sort&&(column.sort=sort,column.dispatchColEvent("sortChanged",source)),column.dispatchStateUpdatedEvent("sort")}setColSortIndex(column,sortOrder){column.sortIndex=sortOrder,column.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(skipTemplate){return new SortIndicatorComp(skipTemplate)}getSortIndicatorSelector(){return SortIndicatorSelector}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos}=this;this.isAccentedSort=gos.get("accentedSort"),this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos),this.addManagedPropertyListener("accentedSort",(propChange=>this.isAccentedSort=propChange.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos)))}doFullSort(rowNodes,sortOptions){const sortedRowNodes=rowNodes.map(((rowNode,currentPos)=>({currentPos,rowNode})));return sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions)),sortedRowNodes.map((item=>item.rowNode))}compareRowNodes(sortOptions,sortedNodeA,sortedNodeB){const nodeA=sortedNodeA.rowNode,nodeB=sortedNodeB.rowNode;for(let i=0,len=sortOptions.length;i<len;i++){const sortOption=sortOptions[i],isDescending="desc"===sortOption.sort,valueA=this.getValue(nodeA,sortOption.column),valueB=this.getValue(nodeB,sortOption.column);let comparatorResult;const providedComparator=this.getComparator(sortOption,nodeA);comparatorResult=providedComparator?providedComparator(valueA,valueB,nodeA,nodeB,isDescending):_defaultComparator(valueA,valueB,this.isAccentedSort);if(!isNaN(comparatorResult)&&0!==comparatorResult)return"asc"===sortOption.sort?comparatorResult:-1*comparatorResult}return sortedNodeA.currentPos-sortedNodeB.currentPos}getComparator(sortOption,rowNode){const column=sortOption.column,comparatorOnCol=column.getColDef().comparator;if(null!=comparatorOnCol)return comparatorOnCol;if(!column.getColDef().showRowGroup)return;const groupLeafField=!rowNode.group&&column.getColDef().field;if(!groupLeafField)return;const primaryColumn=this.beans.colModel.getColDefCol(groupLeafField);return primaryColumn?primaryColumn.getColDef().comparator:void 0}getValue(node,column){const{valueSvc,colModel,showRowGroupCols,gos}=this.beans;if(!this.primaryColumnsSortGroups)return valueSvc.getValue(column,node,!1);if(node.rowGroupColumn===column){if(_isGroupUseEntireRow(gos,colModel.isPivotActive())){const leafChild=node.allLeafChildren?.[0];return leafChild?valueSvc.getValue(column,leafChild,!1):void 0}const displayCol=showRowGroupCols?.getShowRowGroupCol(column.getId());if(!displayCol)return;return node.groupData?.[displayCol.getId()]}return node.group&&column.getColDef().showRowGroup?void 0:valueSvc.getValue(column,node,!1)}}],apiFunctions:{onSortChanged:function onSortChanged(beans){beans.sortSvc?.onSortChanged("api")}},userComponents:{agSortIndicator:SortIndicatorComp},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}};var ChangedPath=class{constructor(keepingColumns,rootNode){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=keepingColumns,this.pathRoot={rowNode:rootNode,children:null},this.mapToItems[rootNode.id]=this.pathRoot}depthFirstSearchChangedPath(pathItem,callback){const{rowNode,children}=pathItem;if(children)for(let i=0;i<children.length;++i)this.depthFirstSearchChangedPath(children[i],callback);callback(rowNode)}depthFirstSearchEverything(rowNode,callback,traverseEverything){const childrenAfterGroup=rowNode.childrenAfterGroup;if(childrenAfterGroup)for(let i=0,len=childrenAfterGroup.length;i<len;++i){const childNode=childrenAfterGroup[i];childNode.childrenAfterGroup?this.depthFirstSearchEverything(childNode,callback,traverseEverything):traverseEverything&&callback(childNode)}callback(rowNode)}forEachChangedNodeDepthFirst(callback,traverseLeafNodes=!1,includeUnchangedNodes=!1){this.active&&!includeUnchangedNodes?this.depthFirstSearchChangedPath(this.pathRoot,callback):this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes)}executeFromRootNode(callback){callback(this.pathRoot.rowNode)}createPathItems(rowNode){let pointer=rowNode,newEntryCount=0;for(;!this.mapToItems[pointer.id];){const newEntry={rowNode:pointer,children:null};this.mapToItems[pointer.id]=newEntry,newEntryCount++,pointer=pointer.parent}return newEntryCount}populateColumnsMap(rowNode,columns){if(!this.keepingColumns||!columns)return;let pointer=rowNode;for(;pointer;)this.nodeIdsToColumns[pointer.id]||(this.nodeIdsToColumns[pointer.id]={}),columns.forEach((col=>this.nodeIdsToColumns[pointer.id][col.getId()]=!0)),pointer=pointer.parent}linkPathItems(rowNode,newEntryCount){let pointer=rowNode;for(let i=0;i<newEntryCount;i++){const thisItem=this.mapToItems[pointer.id],parentItem=this.mapToItems[pointer.parent.id];parentItem.children||(parentItem.children=[]),parentItem.children.push(thisItem),pointer=pointer.parent}}addParentNode(rowNode,columns){if(!rowNode||rowNode.isRowPinned())return;const newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount),this.populateColumnsMap(rowNode,columns)}canSkip(rowNode){return this.active&&!this.mapToItems[rowNode.id]}getValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return valueColumns;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>colsForThisNode[col.getId()]))}getNotValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return null;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>!colsForThisNode[col.getId()]))}},ValueCacheModule={moduleName:"ValueCache",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const gos=this.gos;this.active=gos.get("valueCache"),this.neverExpires=gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(rowNode,colId,value){if(this.active){const cacheVersion=this.cacheVersion;rowNode.__cacheVersion!==cacheVersion&&(rowNode.__cacheVersion=cacheVersion,rowNode.__cacheData={}),rowNode.__cacheData[colId]=value}}getValue(rowNode,colId){if(this.active&&rowNode.__cacheVersion===this.cacheVersion)return rowNode.__cacheData[colId]}}],apiFunctions:{expireValueCache:function expireValueCache(beans){beans.valueCache?.expire()}}},ExpressionModule={moduleName:"Expression",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(expression,params){if("string"==typeof expression)return this.evaluateExpression(expression,params);_error(15,{expression})}evaluateExpression(expression,params){try{const javaScriptFunction=this.createExpressionFunction(expression);return javaScriptFunction(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue,params.column,params.columnGroup)}catch(e){return _error(16,{expression,params,e}),null}}createExpressionFunction(expression){const expressionToFunctionCache=this.cache;if(expressionToFunctionCache[expression])return expressionToFunctionCache[expression];const functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",functionBody);return expressionToFunctionCache[expression]=theFunction,theFunction}createFunctionBody(expression){return expression.indexOf("return")>=0?expression:"return "+expression+";"}}]},ChangeDetectionModule={moduleName:"ChangeDetection",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos,rowModel}=this.beans;_isClientSideRowModel(gos)&&(this.clientSideRowModel=rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(event){const{gos,rowRenderer}=this.beans;if("paste"===event.source||gos.get("suppressChangeDetection"))return;const rowNode=event.node,nodesToRefresh=[rowNode],clientSideRowModel=this.clientSideRowModel,rootNode=clientSideRowModel?.rootNode;if(rootNode&&!rowNode.isRowPinned()){const onlyChangedColumns=gos.get("aggregateOnlyChangedColumns"),changedPath=new ChangedPath(onlyChangedColumns,rootNode);changedPath.addParentNode(rowNode.parent,[event.column]),clientSideRowModel.doAggregate(changedPath),changedPath.forEachChangedNodeDepthFirst((rowNode2=>{nodesToRefresh.push(rowNode2)}))}rowRenderer.refreshCells({rowNodes:nodesToRefresh})}}]},CellApiModule={moduleName:"CellApi",version:VERSION,apiFunctions:{getCellValue:function getCellValue(beans,params){const{colKey,rowNode,useFormatter}=params,column=beans.colModel.getColDefCol(colKey)??beans.colModel.getCol(colKey);if(_missing(column))return null;const value=beans.valueSvc.getValueForDisplay(column,rowNode);if(useFormatter){return beans.valueSvc.formatValue(column,rowNode,value)??_escapeString(value,!0)}return value}}},CommunityCoreModule={moduleName:"CommunityCore",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc,ctrlsSvc,context}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:stateSvc?.getState()??{}}),this.destroyCalled=!0,ctrlsSvc.get("gridCtrl")?.destroyGridUi(),context.destroy(),super.destroy()}},class extends BeanStub{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new GridApiClass,this.fns={...defaultFns,dispatchEvent},this.preDestroyLink="";const{api}=this;for(const key of Object.keys(gridApiFunctionsMap))api[key]=this.makeApi(key)[key]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(functionName,func){const{fns,beans}=this;fns!==defaultFns&&(fns[functionName]=beans?.validation?.validateApiFunction(functionName,func)??func)}makeApi(apiName){return{[apiName]:(...args)=>{const{beans,fns:{[apiName]:fn}}=this;return fn?fn(beans,...args):this.apiNotFound(apiName)}}}apiNotFound(fnName){const{beans,gos,preDestroyLink}=this;if(beans){const module=gridApiFunctionsMap[fnName];gos.assertModuleRegistered(module,`api.${fnName}`)&&_warn(27,{fnName,module})}else _warn(26,{fnName,preDestroyLink})}destroy(){super.destroy(),this.fns=defaultFns,this.beans=null}},class extends BeanStub{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const comps=this.gos.get("components");if(null!=comps)for(const key of Object.keys(comps))this.jsComps[key]=comps[key]}registerModule(module){const{icons,userComponents,dynamicBeans,selectors}=module;if(userComponents){const registerUserComponent=(name,component,params)=>{this.agGridDefaults[name]=component,params&&(this.agGridDefaultParams[name]=params)};for(const name of Object.keys(userComponents)){const comp=userComponents[name];"object"==typeof comp?registerUserComponent(name,comp.classImp,comp.params):registerUserComponent(name,comp)}}if(dynamicBeans)for(const name of Object.keys(dynamicBeans))this.dynamicBeans[name]=dynamicBeans[name];if(selectors?.forEach((selector=>{this.selectors[selector.selector]=selector})),icons)for(const name of Object.keys(icons))this.icons[name]=icons[name]}getUserComponent(propertyName,name){const createResult=(component,componentFromFramework,params)=>({componentFromFramework,component,params}),{frameworkOverrides}=this.beans,registeredViaFrameworkComp=frameworkOverrides.frameworkComponent(name,this.gos.get("components"));if(null!=registeredViaFrameworkComp)return createResult(registeredViaFrameworkComp,!0);const jsComponent=this.jsComps[name];if(jsComponent){return createResult(jsComponent,frameworkOverrides.isFrameworkComponent(jsComponent))}const defaultComponent=this.agGridDefaults[name];return defaultComponent?createResult(defaultComponent,!1,this.agGridDefaultParams[name]):(this.beans.validation?.missingUserComponent(propertyName,name,this.agGridDefaults,this.jsComps),null)}createDynamicBean(name,mandatory,...args){const BeanClass=this.dynamicBeans[name];if(null!=BeanClass)return new BeanClass(...args);if(mandatory)throw new Error(_errMsg(256))}getSelector(name){return this.selectors[name]}getIcon(name){return this.icons[name]}},class extends BeanStub{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(beans){this.agCompUtils=beans.agCompUtils,this.registry=beans.registry,this.frameworkCompWrapper=beans.frameworkCompWrapper,this.gridOptions=beans.gridOptions}getCompDetailsFromGridOptions(type,defaultName,params,mandatory=!1){return this.getCompDetails(this.gridOptions,type,defaultName,params,mandatory)}getCompDetails(defObject,type,defaultName,params,mandatory=!1){const{name,cellRenderer}=type;let defaultCompParams,{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}=_getUserCompKeys(this.beans.frameworkOverrides,defObject,type,params);const lookupFromRegistry=key=>{const item=this.registry.getUserComponent(name,key);item&&(jsComp=item.componentFromFramework?void 0:item.component,fwComp=item.componentFromFramework?item.component:void 0,defaultCompParams=item.params)};if(null!=compName&&lookupFromRegistry(compName),null==jsComp&&null==fwComp&&null!=defaultName&&lookupFromRegistry(defaultName),jsComp&&cellRenderer&&!function doesImplementIComponent(candidate){return!!candidate&&candidate.prototype&&"getGui"in candidate.prototype}(jsComp)&&(jsComp=this.agCompUtils?.adaptFunction(type,jsComp)),!jsComp&&!fwComp){const{validation:validation2}=this.beans;return void(!mandatory||compName===defaultName&&defaultName?defaultName&&!validation2&&_error(146,{comp:defaultName}):compName?validation2?.isProvidedUserComp(compName)||_error(50,{compName}):defaultName?validation2||_error(260,{...this.gos.getModuleErrorParams(),propName:name,compName:defaultName}):_error(216,{name}))}const paramsMerged=this.mergeParams(defObject,type,params,paramsFromSelector,defaultCompParams),componentFromFramework=null==jsComp,componentClass=jsComp??fwComp;return{componentFromFramework,componentClass,params:paramsMerged,type,popupFromSelector,popupPositionFromSelector,newAgStackInstance:()=>this.newAgStackInstance(componentClass,componentFromFramework,paramsMerged,type)}}newAgStackInstance(ComponentClass,componentFromFramework,params,type){let instance;instance=!componentFromFramework?new ComponentClass:this.frameworkCompWrapper.wrap(ComponentClass,type.mandatoryMethods,type.optionalMethods,type),this.createBean(instance);const deferredInit=instance.init?.(params);return null==deferredInit?AgPromise.resolve(instance):deferredInit.then((()=>instance))}mergeParams(defObject,type,paramsFromGrid,paramsFromSelector=null,defaultCompParams){const params={...paramsFromGrid,...defaultCompParams},userParams=defObject&&defObject[type.name+"Params"];if("function"==typeof userParams){_mergeDeep(params,userParams(paramsFromGrid))}else"object"==typeof userParams&&_mergeDeep(params,userParams);return _mergeDeep(params,paramsFromSelector),params}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function _getMaxDivHeight(){if(void 0!==maxDivHeight)return maxDivHeight;if(!document.body)return-1;let res=1e6;const testUpTo=_isBrowserFirefox()?6e6:1e9,div=document.createElement("div");for(document.body.appendChild(div);;){const test=2*res;if(div.style.height=test+"px",test>testUpTo||div.clientHeight!==test)break;res=test}return document.body.removeChild(div),maxDivHeight=res,res}(),_logIfDebug(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const newScrollY=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,newBodyHeight=this.getUiBodyHeight();(newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight)&&(this.scrollY=newScrollY,this.uiBodyHeight=newBodyHeight,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const scrollPercent=this.scrollY/this.maxScrollY,divStretchOffset=scrollPercent*this.pixelsToShave;_logIfDebug(this.gos,`RowContainerHeightService - Div Stretch Offset = ${divStretchOffset} (${this.pixelsToShave} * ${scrollPercent})`),this.setDivStretchOffset(divStretchOffset)}setUiContainerHeight(height){height!==this.uiContainerHeight&&(this.uiContainerHeight=height,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(newOffset){const newOffsetFloor="number"==typeof newOffset?Math.floor(newOffset):null;this.divStretchOffset!==newOffsetFloor&&(this.divStretchOffset=newOffsetFloor,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(modelHeight){this.modelHeight=modelHeight,this.stretching=null!=modelHeight&&this.maxDivHeight>0&&modelHeight>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(modelPixel){return modelPixel-this.divStretchOffset}getUiBodyHeight(){const pos=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return pos.bottom-pos.top}getScrollPositionForPixel(rowTop){if(this.pixelsToShave<=0)return rowTop;const scrollPercent=rowTop/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*scrollPercent}},class extends BeanStub{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(source,skipTreeBuild=!1){const{colModel,colGroupSvc,colViewport}=this.beans;skipTreeBuild||this.buildTrees(colModel,colGroupSvc),colGroupSvc?.updateOpenClosedVisibility();const leftCols=pickDisplayedCols(this.treeLeft);this.leftCols=leftCols,this.centerCols=pickDisplayedCols(this.treeCenter);const rightCols=pickDisplayedCols(this.treeRight);this.rightCols=rightCols,this.joinColsAriaOrder(colModel),this.joinCols(),this.setLeftValues(source),this.autoHeightCols=this.allCols.filter((col=>col.isAutoHeight())),this.beans.colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),colViewport.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(colModel,leftCols,rightCols,source),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source})}updateBodyWidths(){const newBodyWidth=getWidthOfColsInList(this.centerCols),newLeftWidth=getWidthOfColsInList(this.leftCols),newRightWidth=getWidthOfColsInList(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==newBodyWidth;(this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth)&&(this.bodyWidth=newBodyWidth,this.leftWidth=newLeftWidth,this.rightWidth=newRightWidth,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(source){this.setLeftValuesOfCols(source),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(colModel,leftCols,rightCols,source){let lastLeft,firstRight;this.gos.get("enableRtl")?(lastLeft=leftCols?leftCols[0]:null,firstRight=rightCols?_last(rightCols):null):(lastLeft=leftCols?_last(leftCols):null,firstRight=rightCols?rightCols[0]:null),colModel.getCols().forEach((col=>{col.setLastLeftPinned(col===lastLeft,source),col.setFirstRightPinned(col===firstRight,source)}))}buildTrees(colModel,columnGroupSvc){const cols=colModel.getColsToShow(),leftCols=cols.filter((col=>"left"==col.getPinned())),rightCols=cols.filter((col=>"right"==col.getPinned())),centerCols=cols.filter((col=>"left"!=col.getPinned()&&"right"!=col.getPinned())),idCreator=new GroupInstanceIdCreator,createGroups=params=>columnGroupSvc?columnGroupSvc.createColumnGroups(params):params.columns;this.treeLeft=createGroups({columns:leftCols,idCreator,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=createGroups({columns:rightCols,idCreator,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=createGroups({columns:centerCols,idCreator,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(colModel){const allColumns=colModel.getCols(),pinnedLeft=[],center=[],pinnedRight=[];for(const col of allColumns){const pinned=col.getPinned();pinned?!0===pinned||"left"===pinned?pinnedLeft.push(col):pinnedRight.push(col):center.push(col)}this.ariaOrderColumns=pinnedLeft.concat(center).concat(pinnedRight)}getAriaColIndex(colOrGroup){let col;return col=isColumnGroup2(colOrGroup)?colOrGroup.getLeafColumns()[0]:colOrGroup,this.ariaOrderColumns.indexOf(col)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((columns=>{columns.forEach((column=>{if(isColumnGroup2(column)){column.checkLeft()}}))}))}setLeftValuesOfCols(source){const{colModel}=this.beans;if(!colModel.getColDefCols())return;const allColumns=colModel.getCols().slice(0),doingRtl=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach((columns=>{if(doingRtl){let left=getWidthOfColsInList(columns);columns.forEach((column=>{left-=column.getActualWidth(),column.setLeft(left,source)}))}else{let left=0;columns.forEach((column=>{column.setLeft(left,source),left+=column.getActualWidth()}))}!function _removeAllFromUnorderedArray(array,toRemove){for(let i=0;i<toRemove.length;i++){const index=array.indexOf(toRemove[i]);index>=0&&(array[index]=array[array.length-1],array.pop())}}(allColumns,columns)})),allColumns.forEach((column=>{column.setLeft(null,source)}))}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(column){return this.allCols.indexOf(column)>=0}getLeftColsForRow(rowNode){const{leftCols,beans:{colModel}}=this;return colModel.colSpanActive?this.getColsForRow(rowNode,leftCols):leftCols}getRightColsForRow(rowNode){const{rightCols,beans:{colModel}}=this;return colModel.colSpanActive?this.getColsForRow(rowNode,rightCols):rightCols}getColsForRow(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){const result=[];let lastConsideredCol=null;for(let i=0;i<displayedColumns.length;i++){const col=displayedColumns[i],maxAllowedColSpan=displayedColumns.length-i,colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan),columnsToCheckFilter=[col];if(colSpan>1){const colsToRemove=colSpan-1;for(let j=1;j<=colsToRemove;j++)columnsToCheckFilter.push(displayedColumns[i+j]);i+=colsToRemove}let filterPasses;if(filterCallback?(filterPasses=!1,columnsToCheckFilter.forEach((colForFilter=>{filterCallback(colForFilter)&&(filterPasses=!0)}))):filterPasses=!0,filterPasses){if(0===result.length&&lastConsideredCol){!!emptySpaceBeforeColumn&&emptySpaceBeforeColumn(col)&&result.push(lastConsideredCol)}result.push(col)}lastConsideredCol=col}return result}getContainerWidth(pinned){switch(pinned){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(col){const allDisplayedColumns=this.allCols,oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const func=child=>{this.colsAndGroupsMap[child.getUniqueId()]=child};depthFirstAllColumnTreeSearch(this.treeCenter,!1,func),depthFirstAllColumnTreeSearch(this.treeLeft,!1,func),depthFirstAllColumnTreeSearch(this.treeRight,!1,func)}isVisible(item){return this.colsAndGroupsMap[item.getUniqueId()]===item}getFirstColumn(){const isRtl=this.gos.get("enableRtl"),queryOrder=["leftCols","centerCols","rightCols"];isRtl&&queryOrder.reverse();for(let i=0;i<queryOrder.length;i++){const container=this[queryOrder[i]];if(container.length)return isRtl?_last(container):container[0]}return null}getColAfter(col){const allDisplayedColumns=this.allCols,oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null}getColsLeftWidth(){return getWidthOfColsInList(this.leftCols)}getDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.rightCols)}isColAtEdge(col,edge){const allColumns=this.allCols;if(!allColumns.length)return!1;const isFirst="first"===edge;let columnToCompare;if(isColumnGroup2(col)){const leafColumns=col.getDisplayedLeafColumns();if(!leafColumns.length)return!1;columnToCompare=isFirst?leafColumns[0]:_last(leafColumns)}else columnToCompare=col;return(isFirst?allColumns[0]:_last(allColumns))===columnToCompare}},class extends BeanStub{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new LocalEventService}postConstruct(){const{globalListener,globalSyncListener}=this.beans;globalListener&&this.addGlobalListener(globalListener,!0),globalSyncListener&&this.addGlobalListener(globalSyncListener,!1)}addEventListener(eventType,listener,async){this.globalEventService.addEventListener(eventType,listener,async)}removeEventListener(eventType,listener,async){this.globalEventService.removeEventListener(eventType,listener,async)}addGlobalListener(listener,async=!1){this.globalEventService.addGlobalListener(listener,async)}removeGlobalListener(listener,async=!1){this.globalEventService.removeGlobalListener(listener,async)}dispatchLocalEvent(){}dispatchEvent(event){this.globalEventService.dispatchEvent(_addGridCommonParams(this.gos,event))}dispatchEventOnce(event){this.globalEventService.dispatchEventOnce(_addGridCommonParams(this.gos,event))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=gridInstanceSequence++,this.propEventSvc=new LocalEventService,this.globalEventHandlerFactory=restrictToSyncOnly=>(eventName,event)=>{if(!this.isAlive())return;const alwaysSync=ALWAYS_SYNC_GLOBAL_EVENTS.has(eventName);if(alwaysSync&&!restrictToSyncOnly||!alwaysSync&&restrictToSyncOnly)return;const eventHandlerName=_getCallbackForEvent(eventName),eventHandler=this.gridOptions[eventHandlerName];"function"==typeof eventHandler&&this.beans.frameworkOverrides.wrapOutgoing((()=>{eventHandler(event)}))}}wireBeans(beans){this.gridOptions=beans.gridOptions,this.validation=beans.validation,this.api=beans.gridApi,this.gridId=beans.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options})=>{this.updateGridOptions({options,force:!0,source:"gridOptionsUpdated"})}})}get(property){return this.gridOptions[property]??GRID_OPTION_DEFAULTS[property]}getCallback(property){return this.mergeGridCommonParams(this.gridOptions[property])}exists(property){return _exists(this.gridOptions[property])}mergeGridCommonParams(callback){if(callback){return callbackParams=>callback(this.addGridCommonParams(callbackParams))}return callback}updateGridOptions({options,force,source="api"}){const changeSet={id:changeSetId++,properties:[]},events=[],{gridOptions,validation:validation2}=this;for(const key of Object.keys(options)){const value=options[key];validation2?.warnOnInitialPropertyUpdate(source,key);const shouldForce=force||"object"==typeof value&&"api"===source,previousValue=gridOptions[key];if(shouldForce||previousValue!==value){gridOptions[key]=value;const event={type:key,currentValue:value,previousValue,changeSet,source};events.push(event)}}validation2?.processGridOptions(this.gridOptions),changeSet.properties=events.map((event=>event.type)),events.forEach((event=>{_logIfDebug(this,`Updated property ${event.type} from`,event.previousValue," to ",event.currentValue),this.propEventSvc.dispatchEvent(event)}))}addPropertyEventListener(key,listener){this.propEventSvc.addEventListener(key,listener)}removePropertyEventListener(key,listener){this.propEventSvc.removeEventListener(key,listener)}getDomDataKey(){return this.domDataKey}addGridCommonParams(params){return params.api=this.api,params.context=this.gridOptionsContext,params}assertModuleRegistered(moduleName,reasonOrId){const registered=Array.isArray(moduleName)?moduleName.some((modName=>this.isModuleRegistered(modName))):this.isModuleRegistered(moduleName);return registered||_error(200,{...this.getModuleErrorParams(),moduleName,reasonOrId}),registered}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:_areModulesGridScoped(),rowModelType:this.get("rowModelType"),isUmd}}isModuleRegistered(moduleName){return _isModuleRegistered(moduleName,this.gridId,this.get("rowModelType"))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(event=>this.refreshAll(_convertColumnEventSourceType(event.source)))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",(event=>this.setPivotMode(this.gos.get("pivotMode"),_convertColumnEventSourceType(event.source))))}createColsFromColDefs(source){const{beans}=this,{valueCache,colAutosize,rowGroupColsSvc,pivotColsSvc,valueColsSvc,visibleCols,colViewport,eventSvc}=beans,dispatchEventsFunc=this.colDefs?_compareColumnStatesAndDispatchEvents(beans,source):void 0;valueCache?.expire();const oldCols=this.colDefCols?.list,oldTree=this.colDefCols?.tree,newTree=_createColumnTree(beans,this.colDefs,!0,oldTree,source);_destroyColumnTree(beans,this.colDefCols?.tree,newTree.columnTree);const tree=newTree.columnTree,treeDepth=newTree.treeDept,list=_getColumnsFromTree(tree),map={};list.forEach((col=>map[col.getId()]=col)),this.colDefCols={tree,treeDepth,list,map},rowGroupColsSvc?.extractCols(source,oldCols),pivotColsSvc?.extractCols(source,oldCols),valueColsSvc?.extractCols(source,oldCols),this.ready=!0,this.refreshCols(!0),visibleCols.refresh(source),colViewport.checkViewportColumns(),eventSvc.dispatchEvent({type:"columnEverythingChanged",source}),dispatchEventsFunc&&(this.changeEventsDispatching=!0,dispatchEventsFunc(),this.changeEventsDispatching=!1),eventSvc.dispatchEvent({type:"newColumnsLoaded",source}),"gridInitializing"===source&&colAutosize?.applyAutosizeStrategy()}refreshCols(newColDefs){if(!this.colDefCols)return;const prevColTree=this.cols?.tree;this.saveColOrder();const{autoColSvc,selectionColSvc,rowNumbersSvc,quickFilter,pivotResultCols,showRowGroupCols,rowAutoHeight,visibleCols,colViewport,eventSvc}=this.beans,cols=this.selectCols(pivotResultCols,this.colDefCols);this.createColumnsForService([autoColSvc,selectionColSvc,rowNumbersSvc],cols);const shouldSortNewColDefs=function _shouldMaintainColumnOrder(gos,isPivotColumns){return isPivotColumns?!gos.get("enableStrictPivotColumnOrder"):gos.get("maintainColumnOrder")}(this.gos,this.showingPivotResult);newColDefs&&!shouldSortNewColDefs||this.restoreColOrder(cols),this.positionLockedCols(cols),showRowGroupCols?.refresh(),quickFilter?.refreshCols(),this.setColSpanActive(),rowAutoHeight?.setAutoHeightActive(cols),visibleCols.clear(),colViewport.clear();!_areEqual(prevColTree,this.cols.tree)&&eventSvc.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(services,cols){for(const service of services)service&&(service.createColumns(cols,(updateOrder=>{this.lastOrder=updateOrder(this.lastOrder),this.lastPivotOrder=updateOrder(this.lastPivotOrder)})),service.addColumns(cols))}selectCols(pivotResultColsSvc,colDefCols){const pivotResultCols=pivotResultColsSvc?.getPivotResultCols()??null;this.showingPivotResult=null!=pivotResultCols;const{map,list,tree,treeDepth}=pivotResultCols??colDefCols;if(this.cols={list:list.slice(),map:{...map},tree:tree.slice(),treeDepth},pivotResultCols){pivotResultCols.list.some((col=>void 0!==this.cols?.map[col.getColId()]))||(this.lastPivotOrder=null)}return this.cols}getColsToShow(){if(!this.cols)return[];const showAutoGroupAndValuesOnly=this.isPivotMode()&&!this.showingPivotResult,valueColumns=this.beans.valueColsSvc?.columns;return this.cols.list.filter((col=>{const isAutoGroupCol=isColumnGroupAutoCol(col);if(showAutoGroupAndValuesOnly){const isValueCol=valueColumns?.includes(col);return isAutoGroupCol||isValueCol}return isAutoGroupCol||col.isVisible()}))}refreshAll(source){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(source))}setColsVisible(keys,visible=!1,source){_applyColumnState(this.beans,{state:keys.map((key=>({colId:"string"==typeof key?key:key.getColId(),hide:!visible})))},source)}restoreColOrder(cols){const lastOrder=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!lastOrder)return;const lastOrderMapped=new Map(lastOrder.map(((col,index)=>[col,index])));if(!cols.list.some((col=>lastOrderMapped.has(col))))return;const colsMap=new Map(cols.list.map((col=>[col,!0]))),lastOrderFiltered=lastOrder.filter((col=>colsMap.has(col))),lastOrderFilteredMap=new Map(lastOrderFiltered.map((col=>[col,!0]))),missingFromLastOrder=cols.list.filter((col=>!lastOrderFilteredMap.has(col))),res=lastOrderFiltered.slice();missingFromLastOrder.forEach((newCol=>{let parent=newCol.getOriginalParent();if(!parent)return void res.push(newCol);const siblings=[];for(;!siblings.length&&parent;){parent.getLeafColumns().forEach((leafCol=>{const presentInNewCols=res.indexOf(leafCol)>=0,notYetInSiblings=siblings.indexOf(leafCol)<0;presentInNewCols&&notYetInSiblings&&siblings.push(leafCol)})),parent=parent.getOriginalParent()}if(!siblings.length)return void res.push(newCol);const indexes=siblings.map((col=>res.indexOf(col))),lastIndex=Math.max(...indexes);res.splice(lastIndex+1,0,newCol)})),cols.list=res}positionLockedCols(cols){cols.list=placeLockedColumns(cols.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some((col=>null!=col.getColDef().colSpan))}isPivotMode(){return this.pivotMode}setPivotMode(pivotMode,source){if(pivotMode===this.pivotMode)return;if(this.pivotMode=pivotMode,!this.ready)return;this.refreshCols(!1);const{visibleCols,eventSvc}=this.beans;visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const pivotColumns=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!pivotColumns?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const source=_convertColumnEventSourceType(e.source);this.createColsFromColDefs(source)}setColumnDefs(columnDefs,source){this.colDefs=columnDefs,this.createColsFromColDefs(source)}destroy(){_destroyColumnTree(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}getAllCols(){const{pivotResultCols,autoColSvc,selectionColSvc}=this.beans,pivotResultColsList=pivotResultCols?.getPivotResultCols()?.list;return[this.colDefCols?.list??[],autoColSvc?.columns?.list??[],selectionColSvc?.columns?.list??[],pivotResultColsList??[]].flat()}getColsForKeys(keys){return keys?keys.map((key=>this.getCol(key))).filter((col=>null!=col)):[]}getColDefCol(key){return this.colDefCols?.list?this.getColFromCollection(key,this.colDefCols):null}getCol(key){return null==key?null:this.getColFromCollection(key,this.cols)}getColFromCollection(key,cols){if(null==cols)return null;const{map,list}=cols;if("string"==typeof key&&map[key])return map[key];for(let i=0;i<list.length;i++)if(_columnsMatch(list[i],key))return list[i];return this.beans.autoColSvc?.getColumn(key)??this.beans.selectionColSvc?.getColumn(key)??null}},class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds,bottomRowBounds}=this;return topRowBounds&&bottomRowBounds?Math.max(bottomRowBounds.rowTop+bottomRowBounds.rowHeight-topRowBounds.rowTop,0):0}getCurrentPagePixelRange(){const{topRowBounds,bottomRowBounds}=this;return{pageFirstPixel:topRowBounds?.rowTop??0,pageLastPixel:bottomRowBounds?bottomRowBounds.rowTop+bottomRowBounds.rowHeight:0}}calculateBounds(topDisplayedRowIndex,bottomDisplayedRowIndex){const{rowModel}=this.beans,topRowBounds=rowModel.getRowBounds(topDisplayedRowIndex);topRowBounds&&(topRowBounds.rowIndex=topDisplayedRowIndex),this.topRowBounds=topRowBounds;const bottomRowBounds=rowModel.getRowBounds(bottomDisplayedRowIndex);bottomRowBounds&&(bottomRowBounds.rowIndex=bottomDisplayedRowIndex),this.bottomRowBounds=bottomRowBounds,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const value=this.topRowBounds?.rowTop??0;this.pixelOffset!==value&&(this.pixelOffset=value,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(modelUpdatedEvent){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:modelUpdatedEvent?.animate??!1,newData:modelUpdatedEvent?.newData??!1,newPage:modelUpdatedEvent?.newPage??!1,newPageSize:modelUpdatedEvent?.newPageSize??!1,keepRenderedRows:modelUpdatedEvent?.keepRenderedRows??!1})}calculatePages(){const{pageBounds,pagination,rowModel}=this.beans;pagination?pagination.calculatePages():pageBounds.calculateBounds(0,rowModel.getRowCount()-1)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const onCellSelectionChanged=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellSelectionChanged()))},onColumnMovedPinnedVisible=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))},addCellSelectionListeners=()=>{this.eventSvc.addEventListener("cellSelectionChanged",onCellSelectionChanged),this.eventSvc.addEventListener("columnMoved",onColumnMovedPinnedVisible),this.eventSvc.addEventListener("columnPinned",onColumnMovedPinnedVisible),this.eventSvc.addEventListener("columnVisible",onColumnMovedPinnedVisible)},removeCellSelectionListeners=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",onCellSelectionChanged),this.eventSvc.removeEventListener("columnMoved",onColumnMovedPinnedVisible),this.eventSvc.removeEventListener("columnPinned",onColumnMovedPinnedVisible),this.eventSvc.removeEventListener("columnVisible",onColumnMovedPinnedVisible)};this.addDestroyFunc((()=>removeCellSelectionListeners())),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{_isCellSelectionEnabled(this.gos)?addCellSelectionListeners():removeCellSelectionListeners()}));_isCellSelectionEnabled(this.gos)&&addCellSelectionListeners()}}wireBeans(beans){this.pageBounds=beans.pageBounds,this.colModel=beans.colModel,this.pinnedRowModel=beans.pinnedRowModel,this.rowModel=beans.rowModel,this.focusSvc=beans.focusSvc,this.rowContainerHeight=beans.rowContainerHeight,this.ctrlsSvc=beans.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.initialise()}))}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListener("suppressCellFocus",(e=>this.onSuppressCellFocusChanged(e.currentValue))),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.addManagedPropertyListener("cellSelection",(({currentValue,previousValue})=>{(!previousValue&&currentValue||previousValue&&!currentValue)&&this.redrawRows()}));const{stickyRowSvc,gos}=this.beans;if(stickyRowSvc)this.stickyRowFeature=stickyRowSvc.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const gridBodyCtrl=this.gridBodyCtrl;gridBodyCtrl.setStickyTopHeight(0),gridBodyCtrl.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=_isDomLayout(gos,"print"),this.embedFullWidthRows=this.printLayout||gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const countProp=this.getKeepDetailRowsCount(),count=null!=countProp?countProp:3;this.cachedRowCtrls=new RowCtrlCache(count)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const liveList=Object.values(this.rowCtrlsByRowIndex),zombieList=Object.values(this.zombieRowCtrls),cachedList=this.cachedRowCtrls?.getEntries()??[];zombieList.length>0||cachedList.length>0?this.allRowCtrls=[...liveList,...zombieList,...cachedList]:this.allRowCtrls=liveList}onCellFocusChanged(event){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellFocused(event))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onFullWidthRowFocused(event)))}onSuppressCellFocusChanged(suppressCellFocus){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onSuppressCellFocusChanged(suppressCellFocus))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onSuppressCellFocusChanged(suppressCellFocus)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:event=>{this.onCellFocusChanged(event)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:event=>{const{cellFlashSvc}=this.beans;cellFlashSvc&&this.getAllCellCtrls().forEach((cellCtrl=>cellFlashSvc.onFlashCells(cellCtrl,event)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((func=>func())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.colModel.getCols().forEach((col=>{const forEachCellWithThisCol=callback=>{this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.column===col&&callback(cellCtrl)}))},leftChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLeftChanged()))},widthChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onWidthChanged()))},firstRightPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onFirstRightPinnedChanged()))},lastLeftPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLastLeftPinnedChanged()))},colDefChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onColDefChanged()))};col.__addEventListener("leftChanged",leftChangedListener),col.__addEventListener("widthChanged",widthChangedListener),col.__addEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.__addEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.__addEventListener("colDefChanged",colDefChangedListener),this.destroyFuncsForColumnListeners.push((()=>{col.__removeEventListener("leftChanged",leftChangedListener),col.__removeEventListener("widthChanged",widthChangedListener),col.__removeEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.__removeEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.__removeEventListener("colDefChanged",colDefChangedListener)}))}))}onDomLayoutChanged(){const printLayout=_isDomLayout(this.gos,"print"),embedFullWidthRows=printLayout||this.gos.get("embedFullWidthRows"),destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout,this.embedFullWidthRows=embedFullWidthRows,destroyRows&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove)}onPageLoaded(event){const params={recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,onlyBody:!0};this.redrawAfterModelUpdate(params)}getAllCellsNotSpanningForColumn(column){const res=[];return this.getAllRowCtrls().forEach((rowCtrl=>{const eCell=rowCtrl.getCellCtrl(column,!0)?.eGui;eCell&&res.push(eCell)})),res}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(rowCtrls,floating){const{pinnedRowModel,beans,printLayout}=this,rowCtrlMap=Object.fromEntries(rowCtrls.map((ctrl=>[ctrl.rowNode.id,ctrl])));pinnedRowModel?.forEachPinnedRow(floating,((node,i)=>{const rowCtrl=rowCtrls[i];rowCtrl&&void 0===pinnedRowModel.getPinnedRowById(rowCtrl.rowNode.id,floating)&&(rowCtrl.destroyFirstPass(),rowCtrl.destroySecondPass()),node.id in rowCtrlMap?(rowCtrls[i]=rowCtrlMap[node.id],delete rowCtrlMap[node.id]):rowCtrls[i]=new RowCtrl(node,beans,!1,!1,printLayout)}));const rowNodeCount=("top"===floating?pinnedRowModel?.getPinnedTopRowCount():pinnedRowModel?.getPinnedBottomRowCount())??0;rowCtrls.length=rowNodeCount}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(rowNode,suppressEvent=!1){if(rowNode.sticky)this.stickyRowFeature?.refreshStickyNode(rowNode);else{if(this.cachedRowCtrls?.has(rowNode))return void this.cachedRowCtrls.removeRow(rowNode);{const destroyAndRecreateCtrl=dataStruct=>{const ctrl=dataStruct[rowNode.rowIndex];ctrl&&ctrl.rowNode===rowNode&&(ctrl.destroyFirstPass(),ctrl.destroySecondPass(),dataStruct[rowNode.rowIndex]=this.createRowCon(rowNode,!1,!1))};switch(rowNode.rowPinned){case"top":destroyAndRecreateCtrl(this.topRowCtrls);break;case"bottom":destroyAndRecreateCtrl(this.bottomRowCtrls);break;default:destroyAndRecreateCtrl(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}suppressEvent||this.dispatchDisplayedRowsChanged(!1)}redrawRows(rowNodes){if(null!=rowNodes)return rowNodes?.forEach((node=>this.redrawRow(node,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(params){const focusedCell=params?.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(null==focusedCell)return null;const activeElement=_getActiveDomElement(this.beans),cellDomData=_getDomData(this.gos,activeElement,DOM_DATA_KEY_CELL_CTRL),rowDomData=_getDomData(this.gos,activeElement,"renderedRow");return cellDomData||rowDomData?focusedCell:null}redrawAfterModelUpdate(params={}){this.getLockOnRefresh();const focusedCell=this.getCellToRestoreFocusToAfterRefresh(params);this.updateContainerHeights(),this.scrollToTopIfNewData(params);const recycleRows=!params.domLayoutChanged&&!!params.recycleRows,animate=params.animate&&_isAnimateRows(this.gos),rowsToRecycle=recycleRows?this.getRowsToRecycle():null;recycleRows||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature}=this;if(stickyRowFeature){stickyRowFeature.checkStickyRows();const extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;extraHeight&&this.updateContainerHeights(extraHeight)}this.recycleRows(rowsToRecycle,animate),this.gridBodyCtrl.updateRowCount(),params.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=focusedCell&&this.restoreFocusedCell(focusedCell),this.releaseLockOnRefresh()}scrollToTopIfNewData(params){const scrollToTop=params.newData||params.newPage,suppressScrollToTop=this.gos.get("suppressScrollOnNewData");scrollToTop&&!suppressScrollToTop&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(additionalHeight=0){const{rowContainerHeight}=this;if(this.printLayout)return void rowContainerHeight.setModelHeight(null);let containerHeight=this.pageBounds.getCurrentPageHeight();0===containerHeight&&(containerHeight=1),rowContainerHeight.setModelHeight(containerHeight+additionalHeight)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(_errMsg(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(cellPosition){cellPosition&&this.focusSvc.restoreFocusedCell(cellPosition,(()=>{this.onCellFocusChanged(_addGridCommonParams(this.gos,{rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}getAllCellCtrls(){const res=[],rowCtrls=this.getAllRowCtrls(),rowCtrlsLength=rowCtrls.length;for(let i=0;i<rowCtrlsLength;i++){const cellCtrls=rowCtrls[i].getAllCellCtrls(),cellCtrlsLength=cellCtrls.length;for(let j=0;j<cellCtrlsLength;j++)res.push(cellCtrls[j])}return res}getAllRowCtrls(){const{spannedRowRenderer}=this.beans,stickyTopRowCtrls=this.getStickyTopRowCtrls(),stickyBottomRowCtrls=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...stickyTopRowCtrls,...stickyBottomRowCtrls,...spannedRowRenderer?.getCtrls("top")??[],...spannedRowRenderer?.getCtrls("bottom")??[],...spannedRowRenderer?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(eventName,rowIndex,callback){const rowComp=this.rowCtrlsByRowIndex[rowIndex];rowComp&&rowComp.addEventListener(eventName,callback)}refreshCells(params={}){const refreshCellParams={forceRefresh:params.force,newData:!1,suppressFlash:params.suppressFlash};for(const cellCtrl of this.getCellCtrls(params.rowNodes,params.columns))cellCtrl.refreshOrDestroyCell(refreshCellParams);this.refreshFullWidth(params.rowNodes)}refreshFullWidth(rowNodes){if(!rowNodes)return;let cellFocused=null;this.stickyRowFeature&&(cellFocused=this.getCellToRestoreFocusToAfterRefresh()||null);for(const rowCtrl of this.getRowCtrls(rowNodes)){if(!rowCtrl.isFullWidth())continue;rowCtrl.refreshFullWidth()||this.redrawRow(rowCtrl.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),cellFocused&&this.restoreFocusedCell(cellFocused)}getRowCtrls(rowNodes){const rowIdsMap=mapRowNodes(rowNodes),allRowCtrls=this.getAllRowCtrls();return rowNodes&&rowIdsMap?allRowCtrls.filter((rowCtrl=>isRowInMap(rowCtrl.rowNode,rowIdsMap))):allRowCtrls}getCellCtrls(rowNodes,columns){let colIdsMap;_exists(columns)&&(colIdsMap={},columns.forEach((colKey=>{const column=this.colModel.getCol(colKey);_exists(column)&&(colIdsMap[column.getId()]=!0)})));const res=[];return this.getRowCtrls(rowNodes).forEach((rowCtrl=>{rowCtrl.getAllCellCtrls().forEach((cellCtrl=>{const colId=cellCtrl.column.getId();colIdsMap&&!colIdsMap[colId]||res.push(cellCtrl)}))})),res}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(suppressAnimation=!1){const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove,suppressAnimation),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const stubNodeIndexes=[];for(const index of Object.keys(this.rowCtrlsByRowIndex)){null==this.rowCtrlsByRowIndex[index].rowNode.id&&stubNodeIndexes.push(index)}this.removeRowCtrls(stubNodeIndexes);const ctrlsByIdMap={};for(const rowCtrl of Object.values(this.rowCtrlsByRowIndex)){ctrlsByIdMap[rowCtrl.rowNode.id]=rowCtrl}return this.rowCtrlsByRowIndex={},ctrlsByIdMap}removeRowCtrls(rowsToRemove,suppressAnimation=!1){rowsToRemove.forEach((indexToRemove=>{const rowCtrl=this.rowCtrlsByRowIndex[indexToRemove];rowCtrl&&(rowCtrl.destroyFirstPass(suppressAnimation),rowCtrl.destroySecondPass()),delete this.rowCtrlsByRowIndex[indexToRemove]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(params={}){const{afterScroll}=params;let cellFocused;const stickyRowFeature=this.stickyRowFeature;stickyRowFeature&&(cellFocused=this.getCellToRestoreFocusToAfterRefresh()||void 0);const oldFirstRow=this.firstRenderedRow,oldLastRow=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let hasStickyRowChanges=!1;if(stickyRowFeature){hasStickyRowChanges=stickyRowFeature.checkStickyRows();const extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;extraHeight&&this.updateContainerHeights(extraHeight)}const rangeChanged=this.firstRenderedRow!==oldFirstRow||this.lastRenderedRow!==oldLastRow;if((!afterScroll||hasStickyRowChanges||rangeChanged)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,afterScroll),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(afterScroll&&!hasStickyRowChanges),null!=cellFocused)){const newFocusedCell=this.getCellToRestoreFocusToAfterRefresh();null!=cellFocused&&null==newFocusedCell&&(this.beans.animationFrameSvc?.flushAllFrames(),this.restoreFocusedCell(cellFocused))}}removeRowCompsNotToDraw(indexesToDraw,suppressAnimation){const indexesToDrawMap={};indexesToDraw.forEach((index=>indexesToDrawMap[index]=!0));const indexesNotToDraw=Object.keys(this.rowCtrlsByRowIndex).filter((index=>!indexesToDrawMap[index]));this.removeRowCtrls(indexesNotToDraw,suppressAnimation)}calculateIndexesToDraw(rowsToRecycle){const indexesToDraw=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)indexesToDraw.push(i);const checkRowToDraw=rowComp=>{const index=rowComp.rowNode.rowIndex;null!=index&&(index<this.firstRenderedRow||index>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(rowComp)&&indexesToDraw.push(index)};for(const rowCtrl of Object.values(this.rowCtrlsByRowIndex))checkRowToDraw(rowCtrl);if(rowsToRecycle)for(const rowCtrl of Object.values(rowsToRecycle))checkRowToDraw(rowCtrl);indexesToDraw.sort(((a,b)=>a-b));const ret=[];for(let i=0;i<indexesToDraw.length;i++){const currRow=indexesToDraw[i],rowNode=this.rowModel.getRow(currRow);rowNode&&!rowNode.sticky&&ret.push(currRow)}return ret}recycleRows(rowsToRecycle,animate=!1,afterScroll=!1){const indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);(this.printLayout||afterScroll)&&(animate=!1),this.removeRowCompsNotToDraw(indexesToDraw,!animate);const rowCtrls=[];if(indexesToDraw.forEach((rowIndex=>{const rowCtrl=this.createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll);_exists(rowCtrl)&&rowCtrls.push(rowCtrl)})),rowsToRecycle){const{animationFrameSvc}=this.beans;animationFrameSvc&&afterScroll&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?animationFrameSvc.addDestroyTask((()=>{this.destroyRowCtrls(rowsToRecycle,animate),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(rowsToRecycle,animate)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(afterScroll=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll})}onDisplayedColumnsChanged(){const{visibleCols}=this.beans,pinningLeft=visibleCols.isPinningLeft(),pinningRight=visibleCols.isPinningRight();(this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight)&&(this.pinningLeft=pinningLeft,this.pinningRight=pinningRight,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const rowsToRemove=[];this.getFullWidthRowCtrls().forEach((fullWidthCtrl=>{const rowIndex=fullWidthCtrl.rowNode.rowIndex;rowsToRemove.push(rowIndex.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(rowsToRemove),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(rowNodes){const rowNodesMap=mapRowNodes(rowNodes);return this.getAllRowCtrls().filter((rowCtrl=>{if(!rowCtrl.isFullWidth())return!1;const rowNode=rowCtrl.rowNode;return!(null!=rowNodesMap&&!isRowInMap(rowNode,rowNodesMap))}))}createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll){let rowNode,rowCtrl=this.rowCtrlsByRowIndex[rowIndex];rowCtrl||(rowNode=this.rowModel.getRow(rowIndex),_exists(rowNode)&&_exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered&&(rowCtrl=rowsToRecycle[rowNode.id],rowsToRecycle[rowNode.id]=null));if(!rowCtrl){if(rowNode||(rowNode=this.rowModel.getRow(rowIndex)),!_exists(rowNode))return;rowCtrl=this.createRowCon(rowNode,animate,afterScroll)}return rowNode&&(rowNode.alreadyRendered=!0),this.rowCtrlsByRowIndex[rowIndex]=rowCtrl,rowCtrl}destroyRowCtrls(rowCtrlsMap,animate){const executeInAWhileFuncs=[];if(rowCtrlsMap)for(const rowCtrl of Object.values(rowCtrlsMap))if(rowCtrl)if(this.cachedRowCtrls&&rowCtrl.isCacheable())this.cachedRowCtrls.addRow(rowCtrl);else if(rowCtrl.destroyFirstPass(!animate),animate){const instanceId=rowCtrl.instanceId;this.zombieRowCtrls[instanceId]=rowCtrl,executeInAWhileFuncs.push((()=>{rowCtrl.destroySecondPass(),delete this.zombieRowCtrls[instanceId]}))}else rowCtrl.destroySecondPass();animate&&(executeInAWhileFuncs.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),window.setTimeout((()=>executeInAWhileFuncs.forEach((func=>func()))),400))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*_getRowHeightAsNumber(this.beans)}workOutFirstAndLastRowsToRender(){const{rowContainerHeight,pageBounds,rowModel}=this;let newFirst,newLast;if(rowContainerHeight.updateOffset(),rowModel.isRowsToRender())if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),newFirst=pageBounds.getFirstRow(),newLast=pageBounds.getLastRow();else{const bufferPixels=this.getRowBufferInPixels(),scrollFeature=this.ctrlsSvc.getScrollFeature(),suppressRowVirtualisation=this.gos.get("suppressRowVirtualisation");let firstPixel,lastPixel,rowHeightsChanged=!1;do{const paginationOffset=pageBounds.getPixelOffset(),{pageFirstPixel,pageLastPixel}=pageBounds.getCurrentPagePixelRange(),divStretchOffset=rowContainerHeight.divStretchOffset,bodyVRange=scrollFeature.getVScrollPosition(),bodyTopPixel=bodyVRange.top,bodyBottomPixel=bodyVRange.bottom;suppressRowVirtualisation?(firstPixel=pageFirstPixel+divStretchOffset,lastPixel=pageLastPixel+divStretchOffset):(firstPixel=Math.max(bodyTopPixel+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset,lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset),this.firstVisibleVPixel=Math.max(bodyTopPixel+paginationOffset,pageFirstPixel)+divStretchOffset,this.lastVisibleVPixel=Math.min(bodyBottomPixel+paginationOffset,pageLastPixel)+divStretchOffset,rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel)}while(rowHeightsChanged);let firstRowIndex=rowModel.getRowIndexAtPixel(firstPixel),lastRowIndex=rowModel.getRowIndexAtPixel(lastPixel);const pageFirstRow=pageBounds.getFirstRow(),pageLastRow=pageBounds.getLastRow();firstRowIndex<pageFirstRow&&(firstRowIndex=pageFirstRow),lastRowIndex>pageLastRow&&(lastRowIndex=pageLastRow),newFirst=firstRowIndex,newLast=lastRowIndex}else newFirst=0,newLast=-1;const rowLayoutNormal=_isDomLayout(this.gos,"normal"),suppressRowCountRestriction=this.gos.get("suppressMaxRenderedRowRestriction"),rowBufferMaxSize=Math.max(this.getRowBuffer(),500);rowLayoutNormal&&!suppressRowCountRestriction&&newLast-newFirst>rowBufferMaxSize&&(newLast=newFirst+rowBufferMaxSize);const firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;(firstDiffers||lastDiffers)&&(this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:newFirst,lastRow:newLast}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,_requestAnimationFrame(this.beans,(()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})})))}ensureAllRowsInRangeHaveHeightsCalculated(topPixel,bottomPixel){const pinnedRowHeightsChanged=this.pinnedRowModel?.ensureRowHeightsValid(),stickyHeightsChanged=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds,rowModel}=this,rowModelHeightsChanged=rowModel.ensureRowHeightsValid(topPixel,bottomPixel,pageBounds.getFirstRow(),pageBounds.getLastRow());return(rowModelHeightsChanged||stickyHeightsChanged)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),!!(stickyHeightsChanged||rowModelHeightsChanged||pinnedRowHeightsChanged)&&(this.updateContainerHeights(),!0)}doNotUnVirtualiseRow(rowCtrl){const rowNode=rowCtrl.rowNode,rowHasFocus=this.focusSvc.isRowNodeFocused(rowNode),rowIsEditing=rowCtrl.editing,rowIsDetail=rowNode.detail;if(!(rowHasFocus||rowIsEditing||rowIsDetail))return false;return!!this.isRowPresent(rowNode)}isRowPresent(rowNode){return!!this.rowModel.isRowPresent(rowNode)&&(this.beans.pagination?.isRowPresent(rowNode)??!0)}createRowCon(rowNode,animate,afterScroll){const rowCtrlFromCache=this.cachedRowCtrls?.getRow(rowNode)??null;if(rowCtrlFromCache)return rowCtrlFromCache;const suppressAnimationFrame=this.gos.get("suppressAnimationFrame"),useAnimationFrameForCreate=afterScroll&&!suppressAnimationFrame&&!this.printLayout&&!!this.beans.animationFrameSvc;return new RowCtrl(rowNode,this.beans,animate,useAnimationFrameForCreate,this.printLayout)}getRenderedNodes(){const viewportRows=Object.values(this.rowCtrlsByRowIndex).map((rowCtrl=>rowCtrl.rowNode));return[...this.getStickyTopRowCtrls().map((rowCtrl=>rowCtrl.rowNode)),...viewportRows,...this.getStickyBottomRowCtrls().map((rowCtrl=>rowCtrl.rowNode))]}getRowByPosition(rowPosition){let rowCtrl;const{rowIndex}=rowPosition;switch(rowPosition.rowPinned){case"top":rowCtrl=this.topRowCtrls[rowIndex];break;case"bottom":rowCtrl=this.bottomRowCtrls[rowIndex];break;default:rowCtrl=this.rowCtrlsByRowIndex[rowIndex],rowCtrl||(rowCtrl=this.getStickyTopRowCtrls().find((ctrl=>ctrl.rowNode.rowIndex===rowIndex))||null,rowCtrl||(rowCtrl=this.getStickyBottomRowCtrls().find((ctrl=>ctrl.rowNode.rowIndex===rowIndex))||null))}return rowCtrl}isRangeInRenderedViewport(startIndex,endIndex){if(null==startIndex||null==endIndex)return!1;const blockAfterViewport=startIndex>this.lastRenderedRow;return!(endIndex<this.firstRenderedRow)&&!blockAfterViewport}},class extends BeanStub{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(beans){this.expressionSvc=beans.expressionSvc,this.colModel=beans.colModel,this.valueCache=beans.valueCache,this.dataTypeSvc=beans.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=_isServerSideRowModel(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const listener=event=>this.callColumnCellValueChangedHandler(event);this.eventSvc.addEventListener("cellValueChanged",listener,!0),this.addDestroyFunc((()=>this.eventSvc.removeEventListener("cellValueChanged",listener,!0))),this.addManagedPropertyListener("treeData",(propChange=>this.isTreeData=propChange.currentValue))}getValueForDisplay(column,node){const lockedClosedGroup=node.leafGroup&&this.colModel.isPivotMode(),isOpenGroup=node.group&&node.expanded&&!node.footer&&!lockedClosedGroup,groupAlwaysShowAggData=this.gos.get("groupSuppressBlankHeader");if(!isOpenGroup||groupAlwaysShowAggData)return this.getValue(column,node);let includeFooter=!1;const groupIncludeFooterOpt=this.gos.get("groupTotalRow");if("function"!=typeof groupIncludeFooterOpt)includeFooter=!!groupIncludeFooterOpt;else{includeFooter=!!this.gos.getCallback("groupTotalRow")({node:this})}const ignoreAggData=isOpenGroup&&includeFooter;return this.getValue(column,node,ignoreAggData)}getValue(column,rowNode,ignoreAggData=!1){if(this.initialised||this.init(),!rowNode)return;const colDef=column.getColDef(),field=colDef.field,colId=column.getColId(),data=rowNode.data;let result;const groupDataExists=rowNode.groupData&&void 0!==rowNode.groupData[colId],aggDataExists=!ignoreAggData&&rowNode.aggData&&void 0!==rowNode.aggData[colId],ignoreSsrmAggData=this.isSsrm&&ignoreAggData&&!!column.getColDef().aggFunc,ssrmFooterGroupCol=this.isSsrm&&rowNode.footer&&rowNode.field&&(!0===column.getColDef().showRowGroup||column.getColDef().showRowGroup===rowNode.field);if(this.isTreeData&&aggDataExists?result=rowNode.aggData[colId]:this.isTreeData&&colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):this.isTreeData&&field&&data?result=_getValueUsingField(data,field,column.isFieldContainsDots()):groupDataExists?result=rowNode.groupData[colId]:aggDataExists?result=rowNode.aggData[colId]:colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):ssrmFooterGroupCol?result=_getValueUsingField(data,rowNode.field,column.isFieldContainsDots()):field&&data&&!ignoreSsrmAggData&&(result=_getValueUsingField(data,field,column.isFieldContainsDots())),this.cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){const cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode)}if(null==result){const openedGroup=this.getOpenedGroup(rowNode,column);if(null!=openedGroup)return openedGroup}return result}parseValue(column,rowNode,newValue,oldValue){const colDef=column.getColDef(),valueParser=colDef.valueParser;if(_exists(valueParser)){const params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode?.data,oldValue,newValue,colDef,column});return"function"==typeof valueParser?valueParser(params):this.expressionSvc?.evaluate(valueParser,params)}return newValue}getDeleteValue(column,rowNode){return _exists(column.getColDef().valueParser)?this.parseValue(column,rowNode,"",this.getValueForDisplay(column,rowNode))??null:null}formatValue(column,node,value,suppliedFormatter,useFormatterFromColumn=!0){let formatter,result=null;const colDef=column.getColDef();if(suppliedFormatter?formatter=suppliedFormatter:useFormatterFromColumn&&(formatter=colDef.valueFormatter),formatter){const params=_addGridCommonParams(this.gos,{value,node,data:node?node.data:null,colDef,column});result="function"==typeof formatter?formatter(params):this.expressionSvc?this.expressionSvc.evaluate(formatter,params):null}else if(colDef.refData)return colDef.refData[value]||"";return null==result&&Array.isArray(value)&&(result=value.join(", ")),result}getOpenedGroup(rowNode,column){if(!this.gos.get("showOpenedGroup"))return;if(!column.getColDef().showRowGroup)return;const showRowGroup=column.getColDef().showRowGroup;let pointer=rowNode.parent;for(;null!=pointer;){if(pointer.rowGroupColumn&&(!0===showRowGroup||showRowGroup===pointer.rowGroupColumn.getColId()))return pointer.key;pointer=pointer.parent}}setValue(rowNode,colKey,newValue,eventSource){const column=this.colModel.getColDefCol(colKey);if(!rowNode||!column)return!1;_missing(rowNode.data)&&(rowNode.data={});const{field,valueSetter}=column.getColDef();if(_missing(field)&&_missing(valueSetter))return _warn(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(column,newValue))return _warn(135),!1;const params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue,colDef:column.getColDef(),column});let valueWasDifferent;if(params.newValue=newValue,valueWasDifferent=_exists(valueSetter)?"function"==typeof valueSetter?valueSetter(params):this.expressionSvc?.evaluate(valueSetter,params):this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots()),void 0===valueWasDifferent&&(valueWasDifferent=!0),!valueWasDifferent)return!1;rowNode.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const savedValue=this.getValue(column,rowNode);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,colDef:params.colDef,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:savedValue,value:savedValue,source:eventSource}),!0}callColumnCellValueChangedHandler(event){const onCellValueChanged=event.colDef.onCellValueChanged;"function"==typeof onCellValueChanged&&this.beans.frameworkOverrides.wrapOutgoing((()=>{onCellValueChanged({node:event.node,data:event.data,oldValue:event.oldValue,newValue:event.newValue,colDef:event.colDef,column:event.column,api:event.api,context:event.context})}))}setValueUsingField(data,field,newValue,isFieldContainsDots){if(!field)return!1;let valuesAreSame=!1;if(isFieldContainsDots){const fieldPieces=field.split(".");let currentObject=data;for(;fieldPieces.length>0&&currentObject;){const fieldPiece=fieldPieces.shift();0===fieldPieces.length?(valuesAreSame=currentObject[fieldPiece]===newValue,valuesAreSame||(currentObject[fieldPiece]=newValue)):currentObject=currentObject[fieldPiece]}}else valuesAreSame=data[field]===newValue,valuesAreSame||(data[field]=newValue);return!valuesAreSame}executeValueGetterWithValueCache(valueGetter,data,column,rowNode){const colId=column.getColId(),valueFromCache=this.valueCache.getValue(rowNode,colId);if(void 0!==valueFromCache)return valueFromCache;const result=this.executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode);return this.valueCache.setValue(rowNode,colId,result),result}executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode){const params=_addGridCommonParams(this.gos,{data,node:rowNode,column,colDef:column.getColDef(),getValue:this.getValueCallback.bind(this,rowNode)});let result;return result="function"==typeof valueGetter?valueGetter(params):this.expressionSvc?.evaluate(valueGetter,params),result}getValueCallback(node,field){const otherColumn=this.colModel.getColDefCol(field);return otherColumn?this.getValue(otherColumn,node):null}getKeyForNode(col,rowNode){const value=this.getValue(col,rowNode),keyCreator=col.getColDef().keyCreator;let result=value;if(keyCreator){result=keyCreator(_addGridCommonParams(this.gos,{value,colDef:col.getColDef(),column:col,node:rowNode,data:rowNode.data}))}return"string"==typeof result||null==result||(result=String(result),"[object Object]"===result&&_warn(121)),result}},class extends BeanStub{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(beans){this.colModel=beans.colModel,this.visibleCols=beans.visibleCols,this.rowRenderer=beans.rowRenderer,this.navigation=beans.navigation,this.filterManager=beans.filterManager,this.overlays=beans.overlays}postConstruct(){const clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:clearFocusedCellListener,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:clearFocusedCellListener,columnRowGroupChanged:clearFocusedCellListener}),this.addDestroyFunc(_registerKeyboardFocusEvents(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const col=this.focusedCell.column,colFromColumnModel=this.colModel.getCol(col.getId());col!==colFromColumnModel&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.beans),"renderedRow")?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.beans),"headerCtrl")?null:this.focusedHeader}isDomDataMissingInHierarchy(eBrowserCell,key){let ePointer=eBrowserCell;for(;ePointer;){if(_getDomData(this.gos,ePointer,key))return!1;ePointer=ePointer.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(cell){return!!this.isCellRestoreFocused(cell)&&(setTimeout((()=>{this.restoredFocusedCell=null}),0),!0)}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(cellPosition,setFocusCallback){this.awaitRestoreFocusedCell=!0,setTimeout((()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(cellPosition),setFocusCallback())}))}isCellRestoreFocused(cellPosition){return null!=this.restoredFocusedCell&&("cellSpan"in cellPosition?cellPosition.doesSpanContain(this.restoredFocusedCell):_areCellsEqual(cellPosition,this.restoredFocusedCell))}setRestoreFocusedCell(cellPosition){"react"===this.beans.frameworkOverrides.renderingEngine&&(this.restoredFocusedCell=cellPosition)}getFocusEventParams(focusedCellPosition){const{rowIndex,rowPinned,column}=focusedCellPosition,params={rowIndex,rowPinned,column,isFullWidthCell:!1},rowCtrl=this.rowRenderer.getRowByPosition({rowIndex,rowPinned});return rowCtrl&&(params.isFullWidthCell=rowCtrl.isFullWidth()),params}clearFocusedCell(){if(this.restoredFocusedCell=null,null==this.focusedCell)return;const focusEventParams=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...focusEventParams})}setFocusedCell(params){const{column,rowIndex,rowPinned,forceBrowserFocus=!1,preventScrollOnBrowserFocus=!1}=params,gridColumn=this.colModel.getCol(column);gridColumn?(this.focusedCell={rowIndex,rowPinned:_makeNull(rowPinned),column:gridColumn},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus,preventScrollOnBrowserFocus})):this.focusedCell=null}isCellFocused(cellPosition){return null!=this.focusedCell&&_areCellsEqual(cellPosition,this.focusedCell)}isRowNodeFocused(rowNode){return this.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)}isHeaderWrapperFocused(headerCtrl){if(null==this.focusedHeader)return!1;const{column,rowCtrl:{rowIndex:headerRowIndex,pinned}}=headerCtrl,{column:focusedColumn,headerRowIndex:focusedHeaderRowIndex}=this.focusedHeader;return column===focusedColumn&&headerRowIndex===focusedHeaderRowIndex&&pinned==focusedColumn.getPinned()}focusHeaderPosition(params){if(_isHeaderFocusSuppressed(this.beans))return!1;const{direction,fromTab,allowUserOverride,event,fromCell,rowWithoutSpanValue}=params;let{headerPosition}=params;if(fromCell&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(headerPosition);if(allowUserOverride){const currentPosition=this.focusedHeader,headerRowCount=getFocusHeaderRowCount(this.beans);if(fromTab){const userFunc=this.gos.getCallback("tabToNextHeader");userFunc&&(headerPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount}))}else{const userFunc=this.gos.getCallback("navigateToNextHeader");if(userFunc&&event){headerPosition=userFunc({key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount,event})}}}return!!headerPosition&&this.focusProvidedHeaderPosition({headerPosition,direction,event,fromCell,rowWithoutSpanValue})}focusHeaderPositionFromUserFunc(params){if(_isHeaderFocusSuppressed(this.beans))return!1;const{userFunc,headerPosition,direction,event}=params,currentPosition=this.focusedHeader,headerRowCount=getFocusHeaderRowCount(this.beans),newHeaderPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount});return!!newHeaderPosition&&this.focusProvidedHeaderPosition({headerPosition:newHeaderPosition,direction,event})}getHeaderPositionFromUserFunc(params){const{userFunc,direction,currentPosition,headerPosition,headerRowCount}=params,userResult=userFunc({backwards:"Before"===direction,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount});return!0===userResult?currentPosition:!1===userResult?null:userResult}focusProvidedHeaderPosition(params){const{headerPosition,direction,fromCell,rowWithoutSpanValue,event}=params,{column,headerRowIndex}=headerPosition,{filterManager,ctrlsSvc,headerNavigation}=this.beans;if(-1===headerRowIndex)return filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(headerPosition):this.focusGridView({column,event});headerNavigation?.scrollToColumn(column,direction);const headerRowContainerCtrl=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned()),focusSuccess=headerRowContainerCtrl?.focusHeader(headerPosition.headerRowIndex,column,event)||!1;return headerNavigation&&focusSuccess&&(null!=rowWithoutSpanValue||fromCell)&&(headerNavigation.currentHeaderRowWithoutSpan=rowWithoutSpanValue??-1),focusSuccess}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let firstColumn=this.visibleCols.allCols[0];if(!firstColumn)return!1;const{colGroupSvc}=this.beans;colGroupSvc&&firstColumn.getParent()&&(firstColumn=colGroupSvc.getColGroupAtLevel(firstColumn,0));const headerPosition=getHeaderIndexToFocus(firstColumn,0);return this.focusHeaderPosition({headerPosition,rowWithoutSpanValue:0})}focusLastHeader(event){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const headerRowIndex=getFocusHeaderRowCount(this.beans)-1,column=_last(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex,column},rowWithoutSpanValue:-1,event})}focusPreviousFromFirstCell(event){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(event)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(rowIndex,rowPinnedType){return null!=this.focusedCell&&(this.focusedCell.rowIndex===rowIndex&&this.focusedCell.rowPinned===_makeNull(rowPinnedType))}focusOverlay(backwards){const overlayGui=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!overlayGui&&_focusInto(overlayGui,backwards)}focusGridView(params){const{backwards=!1,canFocusOverlay=!0,event}=params;if(this.overlays?.isExclusive())return canFocusOverlay&&this.focusOverlay(backwards);if(_isCellFocusSuppressed(this.beans))return backwards&&!_isHeaderFocusSuppressed(this.beans)?this.focusLastHeader():!(!canFocusOverlay||!this.focusOverlay(backwards))||!backwards&&_focusNextGridCoreContainer(this.beans,backwards);const nextRow=backwards?function _getLastRow(beans){let rowIndex,rowPinned=null;const{pinnedRowModel,pageBounds}=beans,pinnedBottomCount=pinnedRowModel?.getPinnedBottomRowCount(),pinnedTopCount=pinnedRowModel?.getPinnedTopRowCount();return pinnedBottomCount?(rowPinned="bottom",rowIndex=pinnedBottomCount-1):beans.rowModel.getRowCount()?(rowPinned=null,rowIndex=pageBounds.getLastRow()):pinnedTopCount&&(rowPinned="top",rowIndex=pinnedTopCount-1),void 0===rowIndex?null:{rowIndex,rowPinned}}(this.beans):function _getFirstRow(beans){let rowPinned,rowIndex=0;const{pinnedRowModel,rowModel,pageBounds}=beans;return pinnedRowModel?.getPinnedTopRowCount()?rowPinned="top":rowModel.getRowCount()?(rowPinned=null,rowIndex=pageBounds.getFirstRow()):pinnedRowModel?.getPinnedBottomRowCount()&&(rowPinned="bottom"),void 0===rowPinned?null:{rowIndex,rowPinned}}(this.beans);if(nextRow){const column=params.column??this.focusedHeader?.column,{rowIndex,rowPinned}=nextRow,rowNode=_getRowNode(this.beans,nextRow);if(!column||!rowNode||null==rowIndex)return!1;if(column.isSuppressNavigable(rowNode)){const isRtl=this.gos.get("enableRtl");let key;return key=event&&event.key!==KeyCode_TAB?event.key:isRtl?KeyCode_LEFT:KeyCode_RIGHT,this.beans.navigation?.navigateToNextCell(null,key,{rowIndex,column,rowPinned:rowPinned||null},!0),!0}if(this.navigation?.ensureCellVisible({rowIndex,column,rowPinned}),backwards){const rowCtrl=this.rowRenderer.getRowByPosition(nextRow);if(rowCtrl?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(nextRow,backwards))return!0}return this.setFocusedCell({rowIndex,column,rowPinned:_makeNull(rowPinned),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex,rowPinned,column}),!0}return!(!canFocusOverlay||!this.focusOverlay(backwards))||!(!backwards||!this.focusLastHeader())}focusAdvancedFilter(position){return this.advFilterFocusColumn=position?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(backwards,forceFirstColumn){const column=(forceFirstColumn?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return backwards?this.focusHeaderPosition({headerPosition:{column,headerRowIndex:getFocusHeaderRowCount(this.beans)-1}}):this.focusGridView({column})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},class extends BeanStub{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass="ag-theme-params-"+ ++paramsId,this.globalCSS=[]}wireBeans(beans){const{eGridDiv,gridOptions}=beans;this.eGridDiv=eGridDiv,this.eStyleContainer=gridOptions.themeStyleContainer??(eGridDiv.getRootNode()===document?document.head:eGridDiv),this.cssLayer=gridOptions.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",(()=>this.handleThemeGridOptionChange())),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.getSizeEl(ROW_HEIGHT),this.getSizeEl(HEADER_HEIGHT),this.getSizeEl(LIST_ITEM_HEIGHT),this.getSizeEl(ROW_BORDER_WIDTH),this.refreshRowBorderWidthVariable(),this.addDestroyFunc((()=>(environment=>{if(gridsUsingThemingAPI.delete(environment),0===gridsUsingThemingAPI.size){injectionsByContainer=new WeakMap;for(const style of document.head.querySelectorAll("style[data-ag-global-css]"))style.remove()}})(this))),this.mutationObserver=new MutationObserver((()=>{this.fireGridStylesChangedEvent("themeChanged")})),this.addDestroyFunc((()=>this.mutationObserver.disconnect()))}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ROW_BORDER_WIDTH)}applyThemeClasses(el){const{gridTheme}=this;let themeClass="";if(gridTheme)themeClass=`${this.paramsClass} ${gridTheme._getCssClass()}`;else{this.mutationObserver.disconnect();let node=this.eGridDiv;for(;node;){let isThemeEl=!1;for(const className of Array.from(node.classList))className.startsWith("ag-theme-")&&(isThemeEl=!0,themeClass=themeClass?`${themeClass} ${className}`:className);isThemeEl&&this.mutationObserver.observe(node,{attributes:!0,attributeFilter:["class"]}),node=node.parentElement}}for(const className of Array.from(el.classList))className.startsWith("ag-theme-")&&el.classList.remove(className);if(themeClass){const oldClass=el.className;el.className=oldClass+(oldClass?" ":"")+themeClass}}refreshRowHeightVariable(){const{eGridDiv}=this,oldRowHeight=eGridDiv.style.getPropertyValue("--ag-line-height").trim(),height=this.gos.get("rowHeight");if(null==height||isNaN(height)||!isFinite(height))return null!==oldRowHeight&&eGridDiv.style.setProperty("--ag-line-height",null),-1;const newRowHeight=`${height}px`;return oldRowHeight!=newRowHeight?(eGridDiv.style.setProperty("--ag-line-height",newRowHeight),height):""!=oldRowHeight?parseFloat(oldRowHeight):-1}addGlobalCSS(css,debugId){this.gridTheme?_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0):this.globalCSS.push([css,debugId])}getCSSVariablePixelValue(variable){const cached=this.lastKnownValues.get(variable);if(null!=cached)return cached;const measurement=this.measureSizeEl(variable);return"detached"===measurement||"no-styles"===measurement?variable.defaultValue:(this.lastKnownValues.set(variable,measurement),measurement)}measureSizeEl(variable){const sizeEl=this.getSizeEl(variable);if(null==sizeEl.offsetParent)return"detached";const newSize=sizeEl.offsetWidth;return newSize===NO_VALUE_SENTINEL?"no-styles":(this.sizesMeasured=!0,newSize)}getMeasurementContainer(){let container=this.eMeasurementContainer;return container||(container=this.eMeasurementContainer=document.createElement("div"),container.className="ag-measurement-container",this.eGridDiv.appendChild(container)),container}getSizeEl(variable){let sizeEl=this.sizeEls.get(variable);if(sizeEl)return sizeEl;const container=this.getMeasurementContainer();sizeEl=document.createElement("div");const{border}=variable;border?(sizeEl.className="ag-measurement-element-border",sizeEl.style.setProperty("--ag-internal-measurement-border",`var(${variable.cssName}, solid ${NO_VALUE_SENTINEL}px`)):sizeEl.style.width=`var(${variable.cssName}, ${NO_VALUE_SENTINEL}px)`,container.appendChild(sizeEl),this.sizeEls.set(variable,sizeEl);let lastMeasurement=this.measureSizeEl(variable);"no-styles"===lastMeasurement&&_warn(9,{variable});const unsubscribe=_observeResize(this.beans,sizeEl,(()=>{const newMeasurement=this.measureSizeEl(variable);"detached"!==newMeasurement&&"no-styles"!==newMeasurement&&(this.lastKnownValues.set(variable,newMeasurement),newMeasurement!==lastMeasurement&&(lastMeasurement=newMeasurement,this.fireGridStylesChangedEvent(variable.changeKey)))}));return this.addDestroyFunc((()=>unsubscribe())),sizeEl}fireGridStylesChangedEvent(change){"rowBorderWidthChanged"===change&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[change]:!0})}refreshRowBorderWidthVariable(){const width=this.getCSSVariablePixelValue(ROW_BORDER_WIDTH);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${width}px`)}handleThemeGridOptionChange(){const{gos,eGridDiv,globalCSS,gridTheme:oldGridTheme}=this,themeGridOption=gos.get("theme");let newGridTheme;if("legacy"===themeGridOption)newGridTheme=void 0;else{const themeOrDefault=themeGridOption??themeQuartz;themeOrDefault instanceof ThemeImpl?newGridTheme=themeOrDefault:_error(240,{theme:themeOrDefault})}if(newGridTheme!==oldGridTheme){if(newGridTheme){environment=this,gridsUsingThemingAPI.add(environment),_injectCoreAndModuleCSS(this.eStyleContainer,this.cssLayer);for(const[css,debugId]of globalCSS)_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0);globalCSS.length=0}this.gridTheme=newGridTheme,newGridTheme?._startUse({loadThemeGoogleFonts:gos.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let eParamsStyle=this.eParamsStyle;eParamsStyle||(eParamsStyle=this.eParamsStyle=document.createElement("style"),eGridDiv.appendChild(eParamsStyle)),IS_SSR||(eParamsStyle.textContent=newGridTheme?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(eGridDiv),this.fireGridStylesChangedEvent("themeChanged")}var environment;newGridTheme&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&_error(themeGridOption?106:239)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.colAnimation=beans.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation}=this;colAnimation?.isActive()?colAnimation.executeLaterVMTurn((()=>{colAnimation.executeLaterVMTurn((()=>this.updateScrollVisibleImpl()))})):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const centerRowCtrl=this.ctrlsSvc.get("center");if(!centerRowCtrl||this.colAnimation?.isActive())return;const params={horizontalScrollShowing:centerRowCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(params),this.updateScrollGap()}updateScrollGap(){const centerRowCtrl=this.ctrlsSvc.get("center"),horizontalGap=centerRowCtrl.hasHorizontalScrollGap(),verticalGap=centerRowCtrl.hasVerticalScrollGap();(this.horizontalScrollGap!==horizontalGap||this.verticalScrollGap!==verticalGap)&&(this.horizontalScrollGap=horizontalGap,this.verticalScrollGap=verticalGap,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(params){(this.horizontalScrollShowing!==params.horizontalScrollShowing||this.verticalScrollShowing!==params.verticalScrollShowing)&&(this.horizontalScrollShowing=params.horizontalScrollShowing,this.verticalScrollShowing=params.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(null==this.scrollbarWidth){const gridOptionsScrollbarWidth=this.gos.get("scrollbarWidth"),scrollbarWidth="number"==typeof gridOptionsScrollbarWidth&&gridOptionsScrollbarWidth>=0?gridOptionsScrollbarWidth:function _getScrollbarWidth(){return null==browserScrollbarWidth&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}();null!=scrollbarWidth&&(this.scrollbarWidth=scrollbarWidth,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",(()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach((c=>c(this.params))),this.readyCallbacks.length=0)}),this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const values=Object.values(this.params);this.ready=23===values.length&&values.every((ctrl=>ctrl?.isAlive()??!1))}whenReady(caller,callback){this.ready?callback(this.params):this.readyCallbacks.push(callback),caller.addDestroyFunc((()=>{const index=this.readyCallbacks.indexOf(callback);index>=0&&this.readyCallbacks.splice(index,1)}))}register(ctrlType,ctrl){this.params[ctrlType]=ctrl,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),ctrl.addDestroyFunc((()=>{this.updateReady()}))}get(ctrlType){return this.params[ctrlType]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader,centerHeader,rightHeader}=this.params;return[leftHeader,rightHeader,centerHeader]}getHeaderRowContainerCtrl(pinned){const params=this.params;switch(pinned){case"left":return params.leftHeader;case"right":return params.rightHeader;default:return params.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},class extends BeanStub{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",(event=>this.setColumnDefs(event)))}start(){this.beans.ctrlsSvc.whenReady(this,(()=>{const columnDefs=this.gos.get("columnDefs");columnDefs?this.setColumnsAndData(columnDefs):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(columnDefs){const{colModel,rowModel}=this.beans;colModel.setColumnDefs(columnDefs??[],"gridInitializing"),rowModel.start()}gridReady(){const{eventSvc,gos}=this;eventSvc.dispatchEvent({type:"gridReady"}),_logIfDebug(gos,`initialised successfully, enterprise = ${gos.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(event){const columnDefs=this.gos.get("columnDefs");if(columnDefs)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(columnDefs)):void this.beans.colModel.setColumnDefs(columnDefs,_convertColumnEventSourceType(event.source))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(column,location,includeAggFunc=!1){if(!column)return null;const headerName=this.getHeaderName(column.getColDef(),column,null,null,location),{aggColNameSvc}=this.beans;return includeAggFunc&&aggColNameSvc?aggColNameSvc.getHeaderName(column,headerName):headerName}getDisplayNameForProvidedColumnGroup(columnGroup,providedColumnGroup,location){const colGroupDef=providedColumnGroup?.getColGroupDef();return colGroupDef?this.getHeaderName(colGroupDef,null,columnGroup,providedColumnGroup,location):null}getDisplayNameForColumnGroup(columnGroup,location){return this.getDisplayNameForProvidedColumnGroup(columnGroup,columnGroup.getProvidedColumnGroup(),location)}getHeaderName(colDef,column,columnGroup,providedColumnGroup,location){const headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){const params=_addGridCommonParams(this.gos,{colDef,column,columnGroup,providedColumnGroup,location});return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.beans.expressionSvc?.evaluate(headerValueGetter,params)??null:""}return null!=colDef.headerName?colDef.headerName:colDef.field?function _camelCaseToHumanText(camelCase){return camelCase&&null!=camelCase?camelCase.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((word=>word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):""))).join(" "):null}(colDef.field):""}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(beans){this.visibleCols=beans.visibleCols,this.colModel=beans.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(scrollWidth,scrollPosition,afterScroll=!1){const{visibleCols}=this,bodyWidthDirty=visibleCols.isBodyWidthDirty;if(!(scrollWidth===this.scrollWidth&&scrollPosition===this.scrollPosition&&!bodyWidthDirty)){if(this.scrollWidth=scrollWidth,this.scrollPosition=scrollPosition,visibleCols.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const bodyWidth=visibleCols.bodyWidth;this.viewportLeft=bodyWidth-scrollPosition-scrollWidth,this.viewportRight=bodyWidth-scrollPosition}else this.viewportLeft=scrollPosition,this.viewportRight=scrollWidth+scrollPosition;this.colModel.ready&&this.checkViewportColumns(afterScroll)}}getHeadersToRender(type,dept){let result;switch(type){case"left":result=this.rowsOfHeadersToRenderLeft[dept];break;case"right":result=this.rowsOfHeadersToRenderRight[dept];break;default:result=this.rowsOfHeadersToRenderCenter[dept]}return result||[]}extractViewportColumns(){const displayedColumnsCenter=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=displayedColumnsCenter,this.headerColsWithinViewport=displayedColumnsCenter):(this.colsWithinViewport=displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(suppressHashClear){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},suppressHashClear||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(col){return!(!col.isAutoHeaderHeight()&&!function isAnyParentAutoHeaderHeight(col){for(;col;){if(col.isAutoHeaderHeight())return!0;col=col.getParent()}return!1}(col))||this.isColumnInRowViewport(col)}isColumnInRowViewport(col){if(col.isAutoHeight())return!0;const columnLeft=col.getLeft()||0,columnRight=columnLeft+col.getActualWidth(),leftBounds=this.viewportLeft-200,rightBounds=this.viewportRight+200;return!(columnLeft<leftBounds&&columnRight<leftBounds)&&!(columnLeft>rightBounds&&columnRight>rightBounds)}getViewportColumns(){const{leftCols,rightCols}=this.visibleCols;return this.colsWithinViewport.concat(leftCols).concat(rightCols)}getColsWithinViewport(rowNode){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const inViewportCallback=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols}=this,displayedColumnsCenter=visibleCols.centerCols;return visibleCols.getColsForRow(rowNode,displayedColumnsCenter,inViewportCallback,(col=>{const left=col.getLeft();return _exists(left)&&left>this.viewportLeft}))}checkViewportColumns(afterScroll=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll})}calculateHeaderRows(){this.clear(!0);const renderedColIds={},{leftCols,rightCols,treeLeft,treeRight,treeCenter}=this.visibleCols;this.headerColsWithinViewport.concat(leftCols).concat(rightCols).forEach((col=>renderedColIds[col.getId()]=!0));const testGroup=(children,result,dept)=>{let returnValue=!1;for(let i=0;i<children.length;i++){const child=children[i];let addThisItem=!1;if(isColumn(child))addThisItem=!0===renderedColIds[child.getId()];else{const displayedChildren=child.getDisplayedChildren();displayedChildren&&(addThisItem=testGroup(displayedChildren,result,dept+1))}addThisItem&&(returnValue=!0,result[dept]||(result[dept]=[]),result[dept].push(child))}return returnValue};testGroup(treeLeft,this.rowsOfHeadersToRenderLeft,0),testGroup(treeRight,this.rowsOfHeadersToRenderRight,0),testGroup(treeCenter,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const newHash=this.getViewportColumns().map((c=>`${c.getId()}-${c.getPinned()||"normal"}`)).join("#"),changed=this.colsWithinViewportHash!==newHash;return changed&&(this.colsWithinViewportHash=newHash,this.calculateHeaderRows()),changed}}],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:function getGridId(beans){return beans.context.getGridId()},destroy:function destroy(beans){beans.gridDestroySvc.destroy()},isDestroyed:function isDestroyed(beans){return beans.gridDestroySvc.destroyCalled},getGridOption:function getGridOption(beans,key){return beans.gos.get(key)},setGridOption:function setGridOption(beans,key,value){updateGridOptions(beans,{[key]:value})},updateGridOptions},dependsOn:[DataTypeModule,ColumnMoveModule,ColumnResizeModule,SortModule,ColumnHeaderCompModule,ColumnGroupModule,ColumnGroupHeaderCompModule,OverlayModule,ChangeDetectionModule,AnimationFrameModule,KeyboardNavigationModule,PinnedColumnModule,AriaModule,TouchModule,CellRendererFunctionModule,ColumnFlexModule,ExpressionModule]},_GlobalGridOptions=class _GlobalGridOptions{static applyGlobalGridOptions(providedOptions){if(!_GlobalGridOptions.gridOptions)return{...providedOptions};let mergedGridOps={};return _mergeDeep(mergedGridOps,_GlobalGridOptions.gridOptions,!0,!0),"deep"===_GlobalGridOptions.mergeStrategy?_mergeDeep(mergedGridOps,providedOptions,!0,!0):mergedGridOps={...mergedGridOps,...providedOptions},_GlobalGridOptions.gridOptions.context&&(mergedGridOps.context=_GlobalGridOptions.gridOptions.context),providedOptions.context&&("deep"===_GlobalGridOptions.mergeStrategy&&mergedGridOps.context&&_mergeDeep(providedOptions.context,mergedGridOps.context,!0,!0),mergedGridOps.context=providedOptions.context),mergedGridOps}};_GlobalGridOptions.gridOptions=void 0,_GlobalGridOptions.mergeStrategy="shallow";var GlobalGridOptions=_GlobalGridOptions;function createGrid(eGridDiv,gridOptions,params){if(!gridOptions)return _error(11),{};const gridParams=params;let destroyCallback;if(!gridParams?.setThemeOnGridDiv){const newGridDiv=document.createElement("div");newGridDiv.style.height="100%",eGridDiv.appendChild(newGridDiv),eGridDiv=newGridDiv,destroyCallback=()=>eGridDiv.remove()}return(new GridCoreCreator).create(eGridDiv,gridOptions,(context=>{const gridComp=new GridComp(eGridDiv);context.createBean(gridComp)}),void 0,params,destroyCallback)}var nextGridId=1,GridCoreCreator=class{create(eGridDiv,providedOptions,createUi,acceptChanges,params,destroyCallback){const gridOptions=GlobalGridOptions.applyGlobalGridOptions(providedOptions),gridId=gridOptions.gridId??String(nextGridId++),rowModelType=gridOptions.rowModelType??"clientSide",registeredModules=this.getRegisteredModules(params,gridId,rowModelType),beanClasses=this.createBeansList(rowModelType,registeredModules,gridId),providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(!beanClasses)return;const context=new Context({providedBeanInstances,beanClasses,gridId,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createGridApi],destroyCallback});return this.registerModuleFeatures(context,registeredModules),createUi(context),context.getBean("syncSvc").start(),acceptChanges&&acceptChanges(context),context.getBean("gridApi")}getRegisteredModules(params,gridId,rowModelType){return _registerModule(CommunityCoreModule,void 0),params?.modules?.forEach((m=>_registerModule(m,gridId))),function _getRegisteredModules(gridId,rowModel){const gridModules=gridModulesMap[gridId]??{};return[...Object.values(globalModulesMap.all??{}),...Object.values(gridModules.all??{}),...Object.values(globalModulesMap[rowModel]??{}),...Object.values(gridModules[rowModel]??{})]}(gridId,rowModelType)}registerModuleFeatures(context,registeredModules){const registry=context.getBean("registry"),apiFunctionSvc=context.getBean("apiFunctionSvc");registeredModules.forEach((module=>{registry.registerModule(module);const apiFunctions=module.apiFunctions;if(apiFunctions){Object.keys(apiFunctions).forEach((name=>{apiFunctionSvc?.addFunction(name,apiFunctions[name])}))}}))}createProvidedBeans(eGridDiv,gridOptions,params){let frameworkOverrides=params?params.frameworkOverrides:null;_missing(frameworkOverrides)&&(frameworkOverrides=new VanillaFrameworkOverrides);const seed={gridOptions,eGridDiv,globalListener:params?params.globalListener:null,globalSyncListener:params?params.globalSyncListener:null,frameworkOverrides};return params&&params.providedBeanInstances&&Object.assign(seed,params.providedBeanInstances),seed}createBeansList(rowModelType,registeredModules,gridId){const rowModuleModelName={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[rowModelType];if(!rowModuleModelName)return void _logPreInitErr(201,{rowModelType},`Unknown rowModelType ${rowModelType}.`);if(!_isModuleRegistered(rowModuleModelName,gridId,rowModelType))return void _logPreInitErr(200,{reasonOrId:`rowModelType = '${rowModelType}'`,moduleName:rowModuleModelName,gridScoped:_areModulesGridScoped(),gridId,rowModelType},`Missing module ${rowModuleModelName}Module for rowModelType ${rowModelType}. \nIf upgrading from before v33, see ${baseDocLink}/upgrading-to-ag-grid-33/#changes-to-modules/`);const beans=new Set;return registeredModules.forEach((module=>module.beans?.forEach((bean=>beans.add(bean))))),Array.from(beans)}};function _getClientSideRowModel(beans){const rowModel=beans.rowModel;return"clientSide"===rowModel.getType()?rowModel:void 0}function _getInfiniteRowModel(beans){const rowModel=beans.rowModel;return"infinite"===rowModel.getType()?rowModel:void 0}function _getServerSideRowModel(beans){const rowModel=beans.rowModel;return"serverSide"===rowModel.getType()?rowModel:void 0}var _ALL_EVENTS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],_NUMBER_GRID_OPTIONS=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],_BOOLEAN_MIXED_GRID_OPTIONS=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],_BOOLEAN_GRID_OPTIONS=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],_ALL_GRID_OPTIONS=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer",..._NUMBER_GRID_OPTIONS,"doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter",..._BOOLEAN_GRID_OPTIONS,..._BOOLEAN_MIXED_GRID_OPTIONS,"theme","rowSelection"],BaseComponentWrapper=class{wrap(OriginalConstructor,mandatoryMethods,optionalMethods,componentType){const wrapper=this.createWrapper(OriginalConstructor,componentType);return mandatoryMethods?.forEach((methodName=>{this.createMethod(wrapper,methodName,!0)})),optionalMethods?.forEach((methodName=>{this.createMethod(wrapper,methodName,!1)})),wrapper}createMethod(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory))}createMethodProxy(wrapper,methodName,mandatory){return function(){return wrapper.hasMethod(methodName)?wrapper.callMethod(methodName,arguments):(mandatory&&_warn(49,{methodName}),null)}}};function _fuzzySuggestions(params){const{inputValue,allSuggestions,hideIrrelevant,filterByPercentageOfBestMatch,addSequentialWeight}=params;let thisSuggestions=allSuggestions.map(((text,idx)=>({value:text,relevance:levenshteinDistance(inputValue.toLowerCase(),text.toLocaleLowerCase(),addSequentialWeight),idx})));if(thisSuggestions.sort(((a,b)=>b.relevance-a.relevance)),hideIrrelevant&&(thisSuggestions=thisSuggestions.filter((suggestion=>0!==suggestion.relevance))),thisSuggestions.length>0&&filterByPercentageOfBestMatch&&filterByPercentageOfBestMatch>0){const limit=thisSuggestions[0].relevance*filterByPercentageOfBestMatch;thisSuggestions=thisSuggestions.filter((suggestion=>limit-suggestion.relevance<0))}const values=[],indices=[];for(const suggestion of thisSuggestions)values.push(suggestion.value),indices.push(suggestion.idx);return{values,indices}}function levenshteinDistance(str1,str2,addSequentialWeight=!1){const a=str1.replace(/\s/g,""),b=str2.replace(/\s/g,""),len1=a.length,len2=b.length,m=new Array(len1+1).fill(null).map((()=>new Array(len2+1).fill(0)));for(let i=0;i<=len1;i+=1)m[i][0]=i;for(let j=0;j<=len2;j+=1)m[0][j]=j;for(let i=1;i<=len1;i++)for(let j=1;j<=len2;j++)a[i-1]===b[j-1]?m[i][j]=m[i-1][j-1]:m[i][j]=1+Math.min(m[i][j-1],Math.min(m[i-1][j],m[i-1][j-1]));const distance=m[len1][len2];let weight=Math.max(len1,len2)-distance;if(addSequentialWeight){const substrings=function getAllSubstrings(str){const result=[],size=str.length;for(let len=1;len<=size;len++)for(let i=0;i<=size-len;i++){const j=i+len-1;result.push(str.slice(i,j+1))}return result}(a);for(let i=0;i<substrings.length;i++){const currentSubstring=substrings[i];-1!==b.indexOf(currentSubstring)&&(weight+=1,weight*=currentSubstring.length)}}return weight}var BaseCreator=class extends BeanStub{getFileName(fileName){const extension=this.getDefaultFileExtension();return null!=fileName&&fileName.length||(fileName=this.getDefaultFileName()),-1===fileName.indexOf(".")?`${fileName}.${extension}`:fileName}getData(params){const serializingSession=this.createSerializingSession(params);return this.beans.gridSerializer.serialize(serializingSession,params)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BaseGridSerializingSession=class{constructor(config){this.groupColumns=[];const{colModel,rowGroupColsSvc,colNames,valueSvc,gos,processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback}=config;this.colModel=colModel,this.rowGroupColsSvc=rowGroupColsSvc,this.colNames=colNames,this.valueSvc=valueSvc,this.gos=gos,this.processCellCallback=processCellCallback,this.processHeaderCallback=processHeaderCallback,this.processGroupHeaderCallback=processGroupHeaderCallback,this.processRowGroupCallback=processRowGroupCallback}prepare(columnsToExport){this.groupColumns=columnsToExport.filter((col=>!!col.getColDef().showRowGroup))}extractHeaderValue(column){return this.getHeaderName(this.processHeaderCallback,column)??""}extractRowCellValue(column,index,accumulatedRowIndex,type,node){const value=this.gos.get("groupHideOpenParents")&&!node.footer||!this.shouldRenderGroupSummaryCell(node,column,index)?this.valueSvc.getValue(column,node):this.createValueForGroupNode(column,node);return this.processCell({accumulatedRowIndex,rowNode:node,column,value,processCellCallback:this.processCellCallback,type})}shouldRenderGroupSummaryCell(node,column,currentColumnIndex){if(!(node.group&&!this.gos.get("treeData")))return!1;if(-1!==this.groupColumns.indexOf(column)){if(void 0!==node.groupData?.[column.getId()])return!0;if(_isServerSideRowModel(this.gos)&&node.group)return!0;if(node.footer&&-1===node.level){const colDef=column.getColDef();return null==colDef||!0===colDef.showRowGroup||colDef.showRowGroup===this.rowGroupColsSvc?.columns[0].getId()}}const isGroupUseEntireRow=_isGroupUseEntireRow(this.gos,this.colModel.isPivotMode());return 0===currentColumnIndex&&isGroupUseEntireRow}getHeaderName(callback,column){return callback?callback(_addGridCommonParams(this.gos,{column})):this.colNames.getDisplayNameForColumn(column,"csv",!0)}createValueForGroupNode(column,node){if(this.processRowGroupCallback)return this.processRowGroupCallback(_addGridCommonParams(this.gos,{column,node}));const isTreeData=this.gos.get("treeData"),getValueFromNode=node2=>{if(isTreeData)return node2.key;const value=node2.groupData?.[column.getId()];return value&&node2.rowGroupColumn&&!1!==node2.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueSvc.formatValue(node2.rowGroupColumn,node2,value)??value:value},isFooter=node.footer,keys=[getValueFromNode(node)];if(!function _isGroupMultiAutoColumn(gos){return gos.exists("groupDisplayType")?"multipleColumns"===gos.get("groupDisplayType"):gos.get("groupHideOpenParents")}(this.gos))for(;node.parent;)node=node.parent,keys.push(getValueFromNode(node));const groupValue=keys.reverse().join(" -> ");return isFooter?`Total ${groupValue}`:groupValue}processCell(params){const{accumulatedRowIndex,rowNode,column,value,processCellCallback,type}=params;return processCellCallback?{value:processCellCallback(_addGridCommonParams(this.gos,{accumulatedRowIndex,column,node:rowNode,value,type,parseValue:valueToParse=>this.valueSvc.parseValue(column,rowNode,valueToParse,this.valueSvc.getValue(column,rowNode)),formatValue:valueToFormat=>this.valueSvc.formatValue(column,rowNode,valueToFormat)??valueToFormat}))??""}:!1!==column.getColDef().useValueFormatterForExport?{value:value??"",valueFormatted:this.valueSvc.formatValue(column,rowNode,value)}:{value:value??""}}};var INITIAL_GRID_OPTION_KEYS={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},clientSide="clientSide",serverSide="serverSide",functionRowModels={onGroupExpandedOrCollapsed:[clientSide],refreshClientSideRowModel:[clientSide],isRowDataEmpty:[clientSide],forEachLeafNode:[clientSide],forEachNodeAfterFilter:[clientSide],forEachNodeAfterFilterAndSort:[clientSide],resetRowHeights:[clientSide],applyTransaction:[clientSide],applyTransactionAsync:[clientSide],flushAsyncTransactions:[clientSide],getBestCostNodeSelection:[clientSide],getServerSideSelectionState:[serverSide],setServerSideSelectionState:[serverSide],applyServerSideTransaction:[serverSide],applyServerSideTransactionAsync:[serverSide],applyServerSideRowData:[serverSide],retryServerSideLoads:[serverSide],flushServerSideAsyncTransactions:[serverSide],refreshServerSide:[serverSide],getServerSideGroupLevelState:[serverSide],refreshInfiniteCache:["infinite"],purgeInfiniteCache:["infinite"],getInfiniteRowCount:["infinite"],isLastRowIndexKnown:["infinite",serverSide],expandAll:[clientSide,serverSide],collapseAll:[clientSide,serverSide],onRowHeightChanged:[clientSide,serverSide],setRowCount:["infinite",serverSide],getCacheBlockState:["infinite",serverSide]},deprecatedFunctions={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};var ENTERPRISE_MODULE_NAMES={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},ALL_COLUMN_FILTERS=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],RESOLVABLE_MODULE_NAMES={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:ALL_COLUMN_FILTERS,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...ALL_COLUMN_FILTERS,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...ALL_COLUMN_FILTERS,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},MODULES_FOR_ROW_MODELS={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};var USER_COMP_MODULES={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"};function convertToUserModuleName(moduleName,inModuleRegistration=!1){return!inModuleRegistration||"IntegratedCharts"!==moduleName&&"Sparklines"!==moduleName?`${moduleName}Module`:`${moduleName}Module.with(AgChartsEnterpriseModule)`}var missingModule=({reasonOrId,moduleName,gridScoped,gridId,rowModelType,additionalText,isUmd:isUmd2})=>{const resolvedModuleNames=function resolveModuleNames(moduleName,rowModelType){const resolvedModuleNames=[];return(Array.isArray(moduleName)?moduleName:[moduleName]).forEach((modName=>{const resolved=RESOLVABLE_MODULE_NAMES[modName];resolved?resolved.forEach((resolvedModName=>{const rowModelForModule=MODULES_FOR_ROW_MODELS[resolvedModName];rowModelForModule&&rowModelForModule!==rowModelType||resolvedModuleNames.push(resolvedModName)})):resolvedModuleNames.push(modName)})),resolvedModuleNames}(moduleName,rowModelType),reason="string"==typeof reasonOrId?reasonOrId:MISSING_MODULE_REASONS[reasonOrId];if(isUmd2)return function umdMissingModule(reasonOrId,moduleNames){const chartModules=moduleNames.filter((m=>"IntegratedCharts"===m||"Sparklines"===m));let message="";const agChartsDynamic=globalThis?.agCharts;return!agChartsDynamic&&chartModules.length>0?message=`Unable to use ${reasonOrId} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.\n`:moduleNames.some((m=>ENTERPRISE_MODULE_NAMES[m]))&&(message+=`Unable to use ${reasonOrId} as that requires the ag-grid-enterprise script to be included.\n`),message}(reason,resolvedModuleNames);const chartModules=resolvedModuleNames.filter((m=>"IntegratedCharts"===m||"Sparklines"===m)),chartImportRequired=chartModules.length>0?`${chartModules.map((m=>convertToUserModuleName(m))).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${reason} as ${resolvedModuleNames.length>1?"one of "+resolvedModuleNames.map((m=>convertToUserModuleName(m))).join(", "):convertToUserModuleName(resolvedModuleNames[0])} is not registered${gridScoped?" for gridId: "+gridId:""}. ${chartImportRequired} Check if you have registered the module:\n`}\n${(moduleNames=>{const imports=moduleNames.map((moduleName=>`import { ${convertToUserModuleName(moduleName)} } from '${ENTERPRISE_MODULE_NAMES[moduleName]?"ag-grid-enterprise":"ag-grid-community"}';`));if(moduleNames.some((m=>"IntegratedCharts"===m||"Sparklines"===m))){const chartImport="import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';";imports.push(chartImport)}return`import { ModuleRegistry } from 'ag-grid-community'; \n${imports.join(" \n")} \n\nModuleRegistry.registerModules([ ${moduleNames.map((m=>convertToUserModuleName(m,!0))).join(", ")} ]); \n\nFor more info see: ${baseDocLink}/modules/`})(resolvedModuleNames)}`+(additionalText?` \n\n${additionalText}`:"")},missingChartsWithModule=gridModule=>`${gridModule} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.\n\nimport { AgChartsEnterpriseModule } from 'ag-charts-enterprise';\nimport { ModuleRegistry } from 'ag-grid-community';\nimport { ${gridModule} } from 'ag-grid-enterprise';\n    \nModuleRegistry.registerModules([${gridModule}.with(AgChartsEnterpriseModule)]);\n    `,AG_GRID_ERRORS={1:()=>"`rowData` must be an array",2:({nodeId})=>`Duplicate node id '${nodeId}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id})=>`Could not find row id=${id}, data item was not found for this id`,5:({data})=>["Could not find data item as object was not found.",data," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key})=>`Unknown key for navigation ${key}`,9:({variable})=>`No value for ${variable?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${variable?.defaultValue} will be used and updated when styles load.`,10:({eventType})=>`As of v33, the '${eventType}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey})=>["column ",colKey," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix})=>`Row IDs cannot start with ${groupPrefix}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression})=>["value should be either a string or a function",expression],16:({expression,params,e})=>["Processing of the expression failed","Expression = ",expression,"Params = ",params,"Exception = ",e],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>'You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"',21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key})=>`${key} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id})=>["The getRowId callback must return a string. The ID ",id," is being cast to a string."],26:({fnName,preDestroyLink})=>`Grid API function ${fnName}() cannot be called as the grid has been destroyed.\n Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${preDestroyLink}`,27:({fnName,module})=>`API function '${fnName}' not registered to module '${module}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex})=>["tried to insert columns in invalid location, toIndex = ",toIndex,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key})=>`the column type '${key}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t})=>"colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName})=>`provided icon '${iconName}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method})=>`${e}\n${(method=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${method}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`)(method)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName})=>`As of v33, icon '${iconName}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType})=>`The data type definition ${parentCellDataType} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType})=>`Missing data type definition - "${cellDataType}"`,48:({property})=>`Cell data type is "object" but no Value ${property} has been provided. Please either provide an object data type definition with a Value ${property}, or set "colDef.value${property}"`,49:({methodName})=>`Framework component is missing the method ${methodName}()`,50:({compName})=>`Could not find component ${compName}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId})=>`setFilterModel() - no column found for colId: ${colId}`,63:({colId})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${colId}`,64:({colId})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${colId}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter})=>`getGui method from filter returned ${guiFromFilter}; it should be a DOM element.`,70:({newFilter})=>"Grid option quickFilterText only supports string inputs, received: "+typeof newFilter,71:()=>"debounceMs is ignored when apply button is present",72:({keys})=>["ignoring FilterOptionDef as it doesn't contain one of ",keys],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType})=>['Unexpected type of filter "',filterModelType,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param})=>`DateFilter ${param} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index})=>`Invalid row index for ensureIndexVisible: ${index}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName})=>`AnimationFrameService.${methodName} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption,pageSizeSet,pageSizesSet,pageSizeOptions})=>`'paginationPageSize=${paginationPageSizeOption}'${pageSizeSet?"":" (default value)"}, but ${paginationPageSizeOption} is not included in${pageSizesSet?"":" the default"} paginationPageSizeSelector=[${pageSizeOptions?.join(", ")}].`,95:({paginationPageSizeOption,paginationPageSizeSelector:paginationPageSizeSelector2})=>`Either set '${paginationPageSizeSelector2}' to an array that includes ${paginationPageSizeOption} or to 'false' to disable the page size selector.`,96:({id,data})=>["Duplicate ID",id,"found for pinned row with data",data,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId})=>`cellEditor for column ${colId} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType})=>`selectAll only available when rowModelType='clientSide', ie not ${rowModelType}`,101:({propertyName,componentName,agGridDefaults,jsComps})=>{const textOutput=[],suggestions=_fuzzySuggestions({inputValue:componentName,allSuggestions:[...Object.keys(agGridDefaults??[]).filter((k=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(k))),...Object.keys(jsComps??[])],hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return textOutput.push(`Could not find '${componentName}' component. It was configured as "${propertyName}: '${componentName}'" but it wasn't found in the list of registered components.\n`),suggestions.length>0&&textOutput.push(`         Did you mean: [${suggestions.slice(0,3)}]?\n`),textOutput.push("If using a custom component check it has been registered correctly."),textOutput},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value,param})=>`Numeric value ${value} passed to ${param} param will be interpreted as ${value} seconds. If this is intentional use "${value}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${baseDocLink}/theming-migration/`,107:({key,value})=>`Invalid value for theme param ${key} - ${value}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString})=>`unrecognised aggregation function ${aggFuncOrString}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component})=>`Could not find component with name of ${component}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId})=>`Unable to update chart. No active chart found with ID: ${chartId}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange})=>`unable to create chart as ${allRange?"there are no columns in the grid":"no range is selected"}.`,128:({feature})=>`${feature} is only available if using 'multiRow' selection mode.`,129:({feature,rowModel})=>`${feature} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${rowModel}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName})=>`icon '${iconName}' function should return back a string or a dom object`,134:({iconName})=>`Did not find icon '${iconName}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type,currentChartType})=>`Unable to update chart as a '${type}' update type is not permitted on a ${currentChartType}.`,138:({chartType})=>`invalid chart type supplied: ${chartType}`,139:({customThemeName})=>`a custom chart theme with the name ${customThemeName} has been supplied but not added to the 'chartThemes' list`,140:({name})=>`no stock theme exists with the name '${name}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel})=>`'${panel}' is not a valid Chart Tool Panel name`,144:({type})=>`Invalid charts data panel group name supplied: '${type}'`,145:({group})=>`As of v32, only one charts customize panel group can be expanded at a time. '${group}' will not be expanded.`,146:({comp})=>`Unable to instantiate component '${comp}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group})=>`Invalid charts customize panel group name supplied: '${group}'`,148:({group})=>`invalid chartGroupsDef config '${group}'`,149:({group,chartType})=>`invalid chartGroupsDef config '${group}.${chartType}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType})=>`invalid chartType '${chartType}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId})=>`no 'seriesChartType' found for colId = '${colId}', defaulting to 'line'.`,153:({chartDataType})=>`unexpected chartDataType value '${chartDataType}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${colId}`,155:({option})=>`'${option}' is not a valid Chart Toolbar Option`,156:({panel})=>`Invalid panel in chartToolPanelsDef.panels: '${panel}'`,157:({unrecognisedGroupIds})=>["unable to find group(s) for supplied groupIds:",unrecognisedGroupIds],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id,dataType})=>`Unrecognized data type for excel export [${id}.dataType=${dataType}]`,163:({featureName})=>`Excel table export does not work with ${featureName}. The exported Excel file will not contain any Excel tables.\n Please turn off ${featureName} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds})=>["unable to find groups for these supplied groupIds:",unrecognisedGroupIds],167:({unrecognisedColIds})=>["unable to find columns for these supplied colIds:",unrecognisedColIds],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy})=>`invalid cellRendererParams.refreshStrategy = ${providedStrategy} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group})=>`invalid chartGroupsDef config '${group}'`,174:({group,chartType})=>`invalid chartGroupsDef config '${group}.${chartType}'`,175:({menuTabName,itemsToConsider})=>[`Trying to render an invalid menu item '${menuTabName}'. Check that your 'menuTabs' contains one of `,itemsToConsider],176:({key})=>`unknown menu item type ${key}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId})=>`column ${colId} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData,childNodeData})=>["duplicate group keys for row data, keys should be unique",[parentGroupData,childNodeData]],185:({data})=>["getDataPath() should not return an empty path",[data]],186:({rowId,rowData,duplicateRowsData})=>["duplicate group keys for row data, keys should be unique",rowId,rowData,...duplicateRowsData??[]],187:({rowId,firstData,secondData})=>[`Duplicate node id ${rowId}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",firstData,"second instance",secondData],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow})=>`invalid value ${startRow} for startRow, the value should be >= 0`,190:({rowGroupId,data})=>["null and undefined values are not allowed for server side row model keys",rowGroupId?`column = ${rowGroupId}`:"","data is ",data],194:({method})=>`calling gridApi.${method}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage})=>`selecting just ${justCurrentPage?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key})=>`Provided ids must be of string type. Invalid id provided: ${key}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:missingModule,201:({rowModelType})=>`Could not find row model for rowModelType = ${rowModelType}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText})=>`Unable to display rows as duplicate row ids (${duplicateIdText}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${baseDocLink}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key})=>`unable to lookup Tool Panel as invalid key supplied: ${key}`,215:({key,defaultByKey})=>`the key ${key} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(defaultByKey??{}).join(",")}`,216:({name})=>`Missing component for '${name}'`,217:({invalidColIds})=>["unable to find grid columns for the supplied colDef(s):",invalidColIds],218:({property,defaultOffset})=>`${property} must be a number, the value you provided is not a valid number. Using the default of ${defaultOffset}px.`,219:({property})=>`Property ${property} does not exist on the target object.`,220:({lineDash})=>`'${lineDash}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString})=>`unrecognised menu item ${menuItemOrString}`,229:({index})=>["invalid row index for ensureIndexVisible: ",index],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName})=>`Framework component is missing the method ${methodName}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${theme}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>"Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. \nPlease rebuild the selection state and reapply it.",248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType})=>`AG Grid: Unable to create chart as an invalid chartType = '${chartType}' was supplied.`,252:()=>"cannot get grid to draw rows when it is in the middle of drawing rows. \nYour code probably called a grid API method while the grid was in the render stage. \nTo overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). \nTo see what part of your code that caused the refresh check this stacktrace.",253:({version})=>["Illegal version string: ",version],254:()=>"Cannot create chart: no chart themes available.",255:({point})=>`Lone surrogate U+${point?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>missingChartsWithModule("IntegratedChartsModule"),258:()=>missingChartsWithModule("SparklinesModule"),259:({part})=>`the argument to theme.withPart must be a Theming API part object, received: ${part}`,260:({propName,compName,gridScoped,gridId,rowModelType})=>missingModule({reasonOrId:`AG Grid '${propName}' component: ${compName}`,moduleName:USER_COMP_MODULES[compName],gridId,gridScoped,rowModelType}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId})=>`Unable to infer chart data type for column '${colId}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${baseDocLink}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};var MISSING_MODULE_REASONS={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},colDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},COL_DEF_VALIDATORS=()=>({objectName:"colDef",allProperties:Object.keys(colDefPropertyMap),docsUrl:"column-properties/",deprecations:{checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:{aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor,editable})=>{if(!editable)return null;if("string"==typeof cellEditor){const module=USER_COMP_MODULES[cellEditor];if(module)return{module}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer})=>{if("string"!=typeof cellRenderer)return null;const module=USER_COMP_MODULES[cellRenderer];return module?{module}:null},cellRendererParams:{validate:colDef=>null==colDef.rowGroup&&null==colDef.rowGroupIndex&&"agGroupCellRenderer"!==colDef.cellRenderer||!("checkbox"in colDef.cellRendererParams)?null:'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.'},cellStyle:{module:"CellStyle"},children:()=>COL_DEF_VALIDATORS(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable,cellEditor})=>editable&&!cellEditor?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter})=>{if(filter&&"string"!=typeof filter&&"boolean"!=typeof filter)return{module:"CustomFilter"};if("string"==typeof filter){const module=USER_COMP_MODULES[filter];if(module)return{module}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:_options=>{const headerValueGetter=_options.headerValueGetter;return"function"==typeof headerValueGetter||"string"==typeof headerValueGetter?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons})=>{if(icons){if(icons.smallDown)return _errMsg(262);if(icons.smallLeft)return _errMsg(263);if(icons.smallRight)return _errMsg(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:options=>{const enterpriseMenuTabs=["columnsMenuTab","generalMenuTab"];return options.menuTabs?.some((tab=>enterpriseMenuTabs.includes(tab)))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:_options=>{const sortingOrder=_options.sortingOrder;if(Array.isArray(sortingOrder)&&sortingOrder.length>0){const invalidItems=sortingOrder.filter((a=>!DEFAULT_SORTING_ORDER.includes(a)));if(invalidItems.length>0)return`sortingOrder must be an array with elements from [${DEFAULT_SORTING_ORDER.map(toStringWithNullUndefined).join()}], currently it includes [${invalidItems.map(toStringWithNullUndefined).join()}]`}else if(!Array.isArray(sortingOrder)||sortingOrder.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${sortingOrder}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:_options=>{const type=_options.type;return type instanceof Array?type.some((a=>"string"!=typeof a))?"if colDef.type is supplied an array it should be of type 'string[]'":null:"string"==typeof type?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(_options,{suppressRowTransform})=>suppressRowTransform?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(_options,{rowSelection,cellSelection,suppressRowTransform,enableCellSpan,pagination,rowDragEntireRow,enableCellTextSelection})=>"object"==typeof rowSelection&&"singleRow"===rowSelection?.mode&&rowSelection?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":cellSelection?"colDef.spanRows is not supported with cellSelection.":suppressRowTransform?"colDef.spanRows is not supported with suppressRowTransform.":enableCellSpan?pagination?"colDef.spanRows is not supported with pagination.":rowDragEntireRow?"colDef.spanRows is not supported with rowDragEntireRow.":enableCellTextSelection?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}});function toConstrainedNum(key,value,min,max=Number.MAX_VALUE){return"number"==typeof value||null==value?null==value||value>=min&&value<=max?null:max===Number.MAX_VALUE?`${key}: value should be greater than or equal to ${min}`:`${key}: value should be between ${min} and ${max}`:`${key}: value should be a number`}var GRID_OPTION_VALIDATIONS=()=>{const definedValidations={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate:({autoSizePadding})=>toConstrainedNum("autoSizePadding",autoSizePadding,0)},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate:({cacheBlockSize})=>toConstrainedNum("cacheBlockSize",cacheBlockSize,1)},cacheOverflowSize:{validate:({cacheOverflowSize})=>toConstrainedNum("cacheOverflowSize",cacheOverflowSize,1)},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:options=>{const domLayout=options.domLayout,validLayouts=["autoHeight","normal","print"];return domLayout&&!validLayouts.includes(domLayout)?`domLayout must be one of [${validLayouts.join()}], currently it's ${domLayout}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons})=>{if(icons){if(icons.smallDown)return _errMsg(262);if(icons.smallLeft)return _errMsg(263);if(icons.smallRight)return _errMsg(264)}return null}},infiniteInitialRowCount:{validate:({infiniteInitialRowCount})=>toConstrainedNum("infiniteInitialRowCount",infiniteInitialRowCount,1)},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate:({keepDetailRowsCount})=>toConstrainedNum("keepDetailRowsCount",keepDetailRowsCount,1)},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate:({paginationPageSize})=>toConstrainedNum("paginationPageSize",paginationPageSize,1)},paginationPageSizeSelector:{validate:options=>{const values=options.paginationPageSizeSelector;return"boolean"==typeof values||null==values||values.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate:({rowBuffer})=>toConstrainedNum("rowBuffer",rowBuffer,0)},rowClass:{validate:options=>"function"==typeof options.rowClass?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate:({rowSelection})=>rowSelection&&"string"==typeof rowSelection?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':rowSelection&&"object"!=typeof rowSelection?"Expected `RowSelectionOptions` object for the `rowSelection` property.":rowSelection&&"multiRow"!==rowSelection.mode&&"singleRow"!==rowSelection.mode?`Selection mode "${rowSelection.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null,module:"SharedRowSelection"},rowStyle:{validate:options=>{const rowStyle=options.rowStyle;return rowStyle&&"function"==typeof rowStyle?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate:({serverSideInitialRowCount})=>toConstrainedNum("serverSideInitialRowCount",serverSideInitialRowCount,1)},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:_options=>{const sortingOrder=_options.sortingOrder;if(Array.isArray(sortingOrder)&&sortingOrder.length>0){const invalidItems=sortingOrder.filter((a=>!DEFAULT_SORTING_ORDER.includes(a)));if(invalidItems.length>0)return`sortingOrder must be an array with elements from [${DEFAULT_SORTING_ORDER.map(toStringWithNullUndefined).join()}], currently it includes [${invalidItems.map(toStringWithNullUndefined).join()}]`}else if(!Array.isArray(sortingOrder)||sortingOrder.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${sortingOrder}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:options=>options.tooltipHideDelay&&options.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:options=>options.tooltipShowDelay&&options.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:options=>{const rowModel=options.rowModelType??"clientSide";switch(rowModel){case"clientSide":{const{treeDataChildrenField,getDataPath}=options;return treeDataChildrenField||getDataPath?treeDataChildrenField&&getDataPath?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null:"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model."}case"serverSide":{const ssrmWarning=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${rowModel} row model.`;return options.isServerSideGroup&&options.getServerSideGroupKey?null:ssrmWarning}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate:({viewportRowModelBufferSize})=>toConstrainedNum("viewportRowModelBufferSize",viewportRowModelBufferSize,0)},viewportRowModelPageSize:{validate:({viewportRowModelPageSize})=>toConstrainedNum("viewportRowModelPageSize",viewportRowModelPageSize,1)},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},validations={};return _BOOLEAN_GRID_OPTIONS.forEach((key=>{validations[key]={expectedType:"boolean"}})),_NUMBER_GRID_OPTIONS.forEach((key=>{validations[key]={expectedType:"number"}})),_mergeDeep(validations,definedValidations),validations},ICON_VALUES={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},ICON_MODULES={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},DEPRECATED_ICONS_V33=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),MENU_ITEM_MODULES={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"};var DEPRECATED_ROW_NODE_EVENTS=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),ValidationModule={moduleName:"Validation",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="validation"}wireBeans(beans){this.gridOptions=beans.gridOptions,function provideValidationServiceLogger(logger){validation=logger}(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(source,key){"api"===source&&INITIAL_GRID_OPTION_KEYS[key]&&_warn(22,{key})}processGridOptions(options){this.processOptions(options,{objectName:"gridOptions",allProperties:[..._ALL_GRID_OPTIONS,..._ALL_EVENTS.map((event=>_getCallbackForEvent(event)))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}},validations:GRID_OPTION_VALIDATIONS()})}validateApiFunction(functionName,apiFunction){return function validateApiFunction(functionName,apiFunction,beans){const deprecation=deprecatedFunctions[functionName];if(deprecation){const{version,new:replacement,old,message}=deprecation,apiMethod=old??functionName;return(...args)=>(_warnOnce(`Since ${version} api.${apiMethod} is deprecated. ${replacement?`Please use ${replacement} instead. `:""}${message??""}`),apiFunction.apply(apiFunction,args))}const rowModels=functionRowModels[functionName];return rowModels?(...args)=>{const rowModel=beans.rowModel.getType();if(rowModels.includes(rowModel))return apiFunction.apply(apiFunction,args);_errorOnce(`api.${functionName} can only be called when gridOptions.rowModelType is ${rowModels.join(" or ")}`)}:apiFunction}(functionName,apiFunction,this.beans)}missingUserComponent(propertyName,componentName,agGridDefaults,jsComps){const moduleForComponent=USER_COMP_MODULES[componentName];moduleForComponent?this.gos.assertModuleRegistered(moduleForComponent,`AG Grid '${propertyName}' component: ${componentName}`):_warn(101,{propertyName,componentName,agGridDefaults,jsComps})}checkRowEvents(eventType){DEPRECATED_ROW_NODE_EVENTS.has(eventType)&&_warn(10,{eventType})}validateIcon(iconName){if(DEPRECATED_ICONS_V33.has(iconName)&&_warn(43,{iconName}),ICON_VALUES[iconName])return;const moduleName=ICON_MODULES[iconName];moduleName?_error(200,{reasonOrId:`icon '${iconName}'`,moduleName,gridScoped:_areModulesGridScoped(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."}):_warn(134,{iconName})}validateMenuItem(key){const moduleName=MENU_ITEM_MODULES[key];moduleName&&this.gos.assertModuleRegistered(moduleName,`menu item '${key}'`)}isProvidedUserComp(compName){return!!USER_COMP_MODULES[compName]}validateColDef(colDef,colId,skipInferenceCheck){!skipInferenceCheck&&this.beans.dataTypeSvc?.isColPendingInference(colId)||this.processOptions(colDef,COL_DEF_VALIDATORS())}processOptions(options,validator){const{validations,deprecations,allProperties,propertyExceptions,objectName,docsUrl}=validator;allProperties&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(options,[...propertyExceptions??[],...Object.keys(deprecations)],allProperties,objectName,docsUrl);const warnings=new Set,getRules=key=>{const rulesOrGetter=validations[key];if(rulesOrGetter){if("function"==typeof rulesOrGetter){const fromGetter=rulesOrGetter(options,this.gridOptions,this.beans);if(!fromGetter)return;if("objectName"in fromGetter){const value=options[key];return Array.isArray(value)?void value.forEach((item=>{this.processOptions(item,fromGetter)})):void this.processOptions(options[key],fromGetter)}return fromGetter}return rulesOrGetter}};Object.keys(options).forEach((key=>{const deprecation=deprecations[key];if(deprecation){const{message,version}=deprecation;warnings.add(`As of v${version}, ${String(key)} is deprecated. ${message??""}`)}const value=options[key];if(null==value||!1===value)return;const rules=getRules(key);if(!rules)return;const{module,dependencies,validate,supportedRowModels,expectedType}=rules;if(expectedType){const actualType=typeof value;if(actualType!==expectedType)return void warnings.add(`${String(key)} should be of type '${expectedType}' but received '${actualType}' (${value}).`)}if(supportedRowModels){const rowModel=this.gridOptions.rowModelType??"clientSide";if(!supportedRowModels.includes(rowModel))return void warnings.add(`${String(key)} is not supported with the '${rowModel}' row model. It is only valid with: ${supportedRowModels.join(", ")}.`)}if(module){const modules=Array.isArray(module)?module:[module];let allRegistered=!0;if(modules.forEach((m=>{this.gos.assertModuleRegistered(m,String(key))||(allRegistered=!1)})),!allRegistered)return}if(dependencies){const warning=this.checkForRequiredDependencies(key,dependencies,options);if(warning)return void warnings.add(warning)}if(validate){const warning=validate(options,this.gridOptions,this.beans);if(warning)return void warnings.add(warning)}})),warnings.size>0&&warnings.forEach((warning=>{_warnOnce(warning)}))}checkForRequiredDependencies(key,validator,options){const failedOptions=Object.entries(validator).filter((([key2,value])=>{const gridOptionValue=options[key2];return!value.required.includes(gridOptionValue)}));return 0===failedOptions.length?null:failedOptions.map((([failedKey,possibleOptions])=>`'${String(key)}' requires '${failedKey}' to be one of [${possibleOptions.required.map((o=>null===o?"null":void 0===o?"undefined":o)).join(", ")}]. ${possibleOptions.reason??""}`)).join("\n           ")}checkProperties(object,exceptions,validProperties,containerName,docsUrl){const invalidProperties=function _fuzzyCheckStrings(inputValues,validValues,allSuggestions){const fuzzyMatches={},invalidInputs=inputValues.filter((inputValue=>!validValues.some((validValue=>validValue===inputValue))));invalidInputs.length>0&&invalidInputs.forEach((invalidInput=>fuzzyMatches[invalidInput]=_fuzzySuggestions({inputValue:invalidInput,allSuggestions}).values));return fuzzyMatches}(Object.getOwnPropertyNames(object),["__ob__","__v_skip","__metadata__",...exceptions,...validProperties],validProperties),invalidPropertiesKeys=Object.keys(invalidProperties);for(const key of invalidPropertiesKeys){let message=`invalid ${containerName} property '${key}' did you mean any of these: ${invalidProperties[key].slice(0,8).join(", ")}.`;validProperties.includes("context")&&(message+=`\nIf you are trying to annotate ${containerName} with application data, use the '${containerName}.context' property instead.`),_warnOnce(message)}if(invalidPropertiesKeys.length>0&&docsUrl){_warnOnce(`to see all the valid ${containerName} properties please check: ${this.beans.frameworkOverrides.getDocLink(docsUrl)}`)}}getConsoleMessage(id,args){return function getError(errorId,args){const msgOrFunc=AG_GRID_ERRORS[errorId];if(!msgOrFunc)return[`Missing error text for error id ${errorId}!`];const errorBody=msgOrFunc(args),errorSuffix=`\nSee ${getErrorLink(errorId,args)}`;return Array.isArray(errorBody)?errorBody.concat(errorSuffix):[errorBody,errorSuffix]}(id,args)}}]};function updateRowNodeAfterFilter(rowNode){rowNode.sibling&&(rowNode.sibling.childrenAfterFilter=rowNode.childrenAfterFilter)}var SharedMenuModule={moduleName:"SharedMenu",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory,filterMenuFactory}=this.beans;this.activeMenuFactory=enterpriseMenuFactory??filterMenuFactory}showColumnMenu(params){this.showColumnMenuCommon(this.activeMenuFactory,params,"columnMenu")}showFilterMenu(params){const{enterpriseMenuFactory,filterMenuFactory}=this.beans,menuFactory=enterpriseMenuFactory&&_isLegacyMenuEnabled(this.gos)?enterpriseMenuFactory:filterMenuFactory;this.showColumnMenuCommon(menuFactory,params,params.containerType,!0)}showHeaderContextMenu(column,mouseEvent,touchEvent){this.activeMenuFactory?.showMenuAfterContextMenuEvent(column,mouseEvent,touchEvent)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(column){const{suppressHeaderMenuButton}=column.getColDef();return!suppressHeaderMenuButton&&!!this.activeMenuFactory?.isMenuEnabled(column)&&(_isLegacyMenuEnabled(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(column){return!column.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(column)}isHeaderContextMenuEnabled(column){const colDef=column&&isColumn(column)?column.getColDef():column?.getColGroupDef();return!colDef?.suppressHeaderContextMenu&&"new"===this.gos.get("columnMenu")}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const menuHides=!this.isSuppressMenuHide();return!(_isIOSUserAgent()&&menuHides)}isHeaderFilterButtonEnabled(column){return this.isFilterMenuInHeaderEnabled(column)&&!_isLegacyMenuEnabled(this.gos)&&!this.isFloatingFilterButtonDisplayed(column)}isFilterMenuItemEnabled(column){return!(!this.beans.filterManager?.isFilterAllowed(column)||_isLegacyMenuEnabled(this.gos)||this.isFilterMenuInHeaderEnabled(column)||this.isFloatingFilterButtonDisplayed(column))}isFloatingFilterButtonEnabled(column){return!column.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(column){return!!column.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(column)}isSuppressMenuHide(){const gos=this.gos,suppressMenuHide=gos.get("suppressMenuHide");return _isLegacyMenuEnabled(gos)?!!gos.exists("suppressMenuHide")&&suppressMenuHide:suppressMenuHide}showColumnMenuCommon(menuFactory,params,containerType,filtersOnly){const{positionBy,onClosedCallback}=params,column=params.column;if("button"===positionBy){const{buttonElement}=params;menuFactory?.showMenuAfterButtonClick(column,buttonElement,containerType,onClosedCallback,filtersOnly)}else if("mouse"===positionBy){const{mouseEvent}=params;menuFactory?.showMenuAfterMouseEvent(column,mouseEvent,containerType,onClosedCallback,filtersOnly)}else if(column){const beans=this.beans,ctrlsSvc=beans.ctrlsSvc;ctrlsSvc.getScrollFeature().ensureColumnVisible(column,"auto"),_requestAnimationFrame(beans,(()=>{const headerCellCtrl=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned())?.getHeaderCtrlForColumn(column);headerCellCtrl&&menuFactory?.showMenuAfterButtonClick(column,headerCellCtrl.getAnchorElementForMenu(filtersOnly),containerType,onClosedCallback,!0)}))}}}],apiFunctions:{showColumnMenu:function showColumnMenu(beans,colKey){const column=beans.colModel.getCol(colKey);column?beans.menuSvc?.showColumnMenu({column,positionBy:"auto"}):_error(12,{colKey})},hidePopupMenu:function hidePopupMenu(beans){beans.menuSvc?.hidePopupMenu()}}},instanceIdSeq=0,PopupModule={moduleName:"Popup",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridCtrl=p.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const ePopupParent=this.gos.get("popupParent");return ePopupParent||this.gridCtrl.getGui()}positionPopupForMenu(params){const{eventSource,ePopup,column,node,event}=params,sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect();this.setAlignedTo(eventSource,ePopup);let minWidthSet=!1;this.positionPopup({ePopup,keepWithinBounds:!0,updatePosition:()=>{const y=this.keepXYWithinBounds(ePopup,sourceRect.top-parentRect.top,0),minWidth=ePopup.clientWidth>0?ePopup.clientWidth:200;minWidthSet||(ePopup.style.minWidth=`${minWidth}px`,minWidthSet=!0);const maxX=parentRect.right-parentRect.left-minWidth;let x;return this.gos.get("enableRtl")?(x=xLeftPosition(),x<0&&(x=xRightPosition(),this.setAlignedStyles(ePopup,"left")),x>maxX&&(x=0,this.setAlignedStyles(ePopup,"right"))):(x=xRightPosition(),x>maxX&&(x=xLeftPosition(),this.setAlignedStyles(ePopup,"right")),x<0&&(x=0,this.setAlignedStyles(ePopup,"left"))),{x,y};function xRightPosition(){return sourceRect.right-parentRect.left-2}function xLeftPosition(){return sourceRect.left-parentRect.left-minWidth}},postProcessCallback:()=>this.callPostProcessPopup("subMenu",ePopup,eventSource,event instanceof MouseEvent?event:void 0,column,node)})}positionPopupUnderMouseEvent(params){const{ePopup,nudgeX,nudgeY,skipObserver}=params;this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds:!0,skipObserver,updatePosition:()=>this.calculatePointerAlign(params.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(params.type,params.ePopup,null,params.mouseEvent,params.column,params.rowNode)})}calculatePointerAlign(e){const parentRect=this.getParentRect();return{x:e.clientX-parentRect.left,y:e.clientY-parentRect.top}}positionPopupByComponent(params){const{ePopup,nudgeX,nudgeY,keepWithinBounds,eventSource,alignSide="left",position="over",column,rowNode,type}=params,sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect();this.setAlignedTo(eventSource,ePopup);this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds,updatePosition:()=>{let y,x=sourceRect.left-parentRect.left;if("right"===alignSide&&(x-=ePopup.offsetWidth-sourceRect.width),"over"===position)y=sourceRect.top-parentRect.top,this.setAlignedStyles(ePopup,"over");else{this.setAlignedStyles(ePopup,"under");y="under"===this.shouldRenderUnderOrAbove(ePopup,sourceRect,parentRect,params.nudgeY||0)?sourceRect.top-parentRect.top+sourceRect.height:sourceRect.top-ePopup.offsetHeight-2*(nudgeY||0)-parentRect.top}return{x,y}},postProcessCallback:()=>this.callPostProcessPopup(type,ePopup,eventSource,null,column,rowNode)})}shouldRenderUnderOrAbove(ePopup,targetCompRect,parentRect,nudgeY){const spaceAvailableUnder=parentRect.bottom-targetCompRect.bottom,spaceAvailableAbove=targetCompRect.top-parentRect.top,spaceRequired=ePopup.offsetHeight+nudgeY;return spaceAvailableUnder>spaceRequired?"under":spaceAvailableAbove>spaceRequired||spaceAvailableAbove>spaceAvailableUnder?"above":"under"}setAlignedStyles(ePopup,positioned){const popupIdx=this.getPopupIndex(ePopup);if(-1===popupIdx)return;const popup=this.popupList[popupIdx],{alignedToElement}=popup;if(!alignedToElement)return;["right","left","over","above","under"].forEach((position=>{alignedToElement.classList.remove(`ag-has-popup-positioned-${position}`),ePopup.classList.remove(`ag-popup-positioned-${position}`)})),positioned&&(alignedToElement.classList.add(`ag-has-popup-positioned-${positioned}`),ePopup.classList.add(`ag-popup-positioned-${positioned}`))}setAlignedTo(eventSource,ePopup){const popupIdx=this.getPopupIndex(ePopup);if(-1!==popupIdx){this.popupList[popupIdx].alignedToElement=eventSource}}callPostProcessPopup(type,ePopup,eventSource,mouseEvent,column,rowNode){const callback=this.gos.getCallback("postProcessPopup");if(callback){callback({column,rowNode,ePopup,type,eventSource,mouseEvent})}}positionPopup(params){const{ePopup,keepWithinBounds,nudgeX,nudgeY,skipObserver,updatePosition}=params,lastSize={width:0,height:0},updatePopupPosition=(fromResizeObserver=!1)=>{let{x,y}=updatePosition();fromResizeObserver&&ePopup.clientWidth===lastSize.width&&ePopup.clientHeight===lastSize.height||(lastSize.width=ePopup.clientWidth,lastSize.height=ePopup.clientHeight,nudgeX&&(x+=nudgeX),nudgeY&&(y+=nudgeY),keepWithinBounds&&(x=this.keepXYWithinBounds(ePopup,x,1),y=this.keepXYWithinBounds(ePopup,y,0)),ePopup.style.left=`${x}px`,ePopup.style.top=`${y}px`,params.postProcessCallback&&params.postProcessCallback())};if(updatePopupPosition(),!skipObserver){const resizeObserverDestroyFunc=_observeResize(this.beans,ePopup,(()=>updatePopupPosition(!0)));setTimeout((()=>resizeObserverDestroyFunc()),200)}}getActivePopups(){return this.popupList.map((popup=>popup.element))}getParentRect(){const eDocument=_getDocument(this.beans);let popupParent=this.getPopupParent();return popupParent===eDocument.body?popupParent=eDocument.documentElement:"static"===getComputedStyle(popupParent).position&&(popupParent=popupParent.offsetParent),_getElementRectWithOffset(popupParent)}keepXYWithinBounds(ePopup,position,direction){const isVertical=0===direction,sizeProperty=isVertical?"clientHeight":"clientWidth",anchorProperty=isVertical?"top":"left",offsetProperty=isVertical?"height":"width",scrollPositionProperty=isVertical?"scrollTop":"scrollLeft",eDocument=_getDocument(this.beans),docElement=eDocument.documentElement,popupParent=this.getPopupParent(),popupRect=ePopup.getBoundingClientRect(),parentRect=popupParent.getBoundingClientRect(),documentRect=eDocument.documentElement.getBoundingClientRect(),isBody=popupParent===eDocument.body,offsetSize=Math.ceil(popupRect[offsetProperty]);let sizeOfParent=isBody?(isVertical?_getAbsoluteHeight:_getAbsoluteWidth)(docElement)+docElement[scrollPositionProperty]:popupParent[sizeProperty];isBody&&(sizeOfParent-=Math.abs(documentRect[anchorProperty]-parentRect[anchorProperty]));const max=sizeOfParent-offsetSize;return Math.min(Math.max(position,0),Math.abs(max))}addPopup(params){const eDocument=_getDocument(this.beans),{eChild,ariaLabel,alwaysOnTop,positionCallback,anchorToElement}=params;if(!eDocument)return _warn(122),{hideFunc:()=>{}};const pos=this.getPopupIndex(eChild);if(-1!==pos){return{hideFunc:this.popupList[pos].hideFunc}}this.initialisePopupPosition(eChild);const wrapperEl=this.createPopupWrapper(eChild,ariaLabel,!!alwaysOnTop),removeListeners=this.addEventListenersToPopup({...params,wrapperEl});return positionCallback&&positionCallback(),this.addPopupToPopupList(eChild,wrapperEl,removeListeners,anchorToElement),{hideFunc:removeListeners}}initialisePopupPosition(element){const ePopupParentRect=this.getPopupParent().getBoundingClientRect();_exists(element.style.top)||(element.style.top=-1*ePopupParentRect.top+"px"),_exists(element.style.left)||(element.style.left=-1*ePopupParentRect.left+"px")}createPopupWrapper(element,ariaLabel,alwaysOnTop){const ePopupParent=this.getPopupParent(),eWrapper=document.createElement("div"),{environment,gos}=this.beans;return environment.applyThemeClasses(eWrapper),eWrapper.classList.add("ag-popup"),element.classList.add(gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),element.hasAttribute("role")||_setAriaRole(element,"dialog"),_setAriaLabel(element,ariaLabel),eWrapper.appendChild(element),ePopupParent.appendChild(eWrapper),alwaysOnTop?this.setAlwaysOnTop(element,!0):this.bringPopupToFront(element),eWrapper}handleThemeChange(e){if(e.themeChanged){const environment=this.beans.environment;for(const popup of this.popupList)environment.applyThemeClasses(popup.wrapper)}}addEventListenersToPopup(params){const beans=this.beans,eDocument=_getDocument(beans),ePopupParent=this.getPopupParent(),{wrapperEl,eChild:popupEl,closedCallback,afterGuiAttached,closeOnEsc,modal}=params;let popupHidden=!1;const hidePopupOnKeyboardEvent=event=>{if(!wrapperEl.contains(_getActiveDomElement(beans)))return;event.key!==KeyCode_ESCAPE||_isStopPropagationForAgGrid(event)||removeListeners({keyboardEvent:event})},hidePopupOnMouseEvent=event=>removeListeners({mouseEvent:event}),hidePopupOnTouchEvent=event=>removeListeners({touchEvent:event}),removeListeners=(popupParams={})=>{const{mouseEvent,touchEvent,keyboardEvent,forceHide}=popupParams;(forceHide||!this.isEventFromCurrentPopup({mouseEvent,touchEvent},popupEl)&&!popupHidden)&&(popupHidden=!0,ePopupParent.removeChild(wrapperEl),eDocument.removeEventListener("keydown",hidePopupOnKeyboardEvent),eDocument.removeEventListener("mousedown",hidePopupOnMouseEvent),eDocument.removeEventListener("touchstart",hidePopupOnTouchEvent),eDocument.removeEventListener("contextmenu",hidePopupOnMouseEvent),this.eventSvc.removeEventListener("dragStarted",hidePopupOnMouseEvent),closedCallback&&closedCallback(mouseEvent||touchEvent||keyboardEvent),this.removePopupFromPopupList(popupEl))};return afterGuiAttached&&afterGuiAttached({hidePopup:removeListeners}),window.setTimeout((()=>{closeOnEsc&&eDocument.addEventListener("keydown",hidePopupOnKeyboardEvent),modal&&(eDocument.addEventListener("mousedown",hidePopupOnMouseEvent),this.eventSvc.addEventListener("dragStarted",hidePopupOnMouseEvent),eDocument.addEventListener("touchstart",hidePopupOnTouchEvent),eDocument.addEventListener("contextmenu",hidePopupOnMouseEvent))}),0),removeListeners}addPopupToPopupList(element,wrapperEl,removeListeners,anchorToElement){this.popupList.push({element,wrapper:wrapperEl,hideFunc:removeListeners,instanceId:instanceIdSeq++,isAnchored:!!anchorToElement}),anchorToElement&&this.setPopupPositionRelatedToElement(element,anchorToElement)}getPopupIndex(el){return this.popupList.findIndex((p=>p.element===el))}setPopupPositionRelatedToElement(popupEl,relativeElement){const popupIndex=this.getPopupIndex(popupEl);if(-1===popupIndex)return;const popup=this.popupList[popupIndex];if(popup.stopAnchoringPromise&&popup.stopAnchoringPromise.then((destroyFunc=>destroyFunc&&destroyFunc())),popup.stopAnchoringPromise=void 0,popup.isAnchored=!1,!relativeElement)return;const destroyPositionTracker=this.keepPopupPositionedRelativeTo({element:relativeElement,ePopup:popupEl,hidePopup:popup.hideFunc});return popup.stopAnchoringPromise=destroyPositionTracker,popup.isAnchored=!0,destroyPositionTracker}removePopupFromPopupList(element){this.setAlignedStyles(element,null),this.setPopupPositionRelatedToElement(element,null),this.popupList=this.popupList.filter((p=>p.element!==element))}keepPopupPositionedRelativeTo(params){const eParent=this.getPopupParent(),parentRect=eParent.getBoundingClientRect(),{element,ePopup}=params,sourceRect=element.getBoundingClientRect(),extractFromPixelValue=pxSize=>parseInt(pxSize.substring(0,pxSize.length-1),10),createPosition=(prop,direction)=>{const initialDiff=parentRect[prop]-sourceRect[prop],initial=extractFromPixelValue(ePopup.style[prop]);return{initialDiff,lastDiff:initialDiff,initial,last:initial,direction}},topPosition=createPosition("top",0),leftPosition=createPosition("left",1),fwOverrides=this.beans.frameworkOverrides;return new AgPromise((resolve=>{fwOverrides.wrapIncoming((()=>{fwOverrides.setInterval((()=>{const pRect=eParent.getBoundingClientRect(),sRect=element.getBoundingClientRect();if(0==sRect.top&&0==sRect.left&&0==sRect.height&&0==sRect.width)return void params.hidePopup();const calculateNewPosition=(position,prop)=>{const current=extractFromPixelValue(ePopup.style[prop]);position.last!==current&&(position.initial=current,position.last=current);const currentDiff=pRect[prop]-sRect[prop];if(currentDiff!=position.lastDiff){const newValue=this.keepXYWithinBounds(ePopup,position.initial+position.initialDiff-currentDiff,position.direction);ePopup.style[prop]=`${newValue}px`,position.last=newValue}position.lastDiff=currentDiff};calculateNewPosition(topPosition,"top"),calculateNewPosition(leftPosition,"left")}),200).then((intervalId=>{resolve((()=>{null!=intervalId&&window.clearInterval(intervalId)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((popup=>popup.isAnchored))}isEventFromCurrentPopup(params,target){const{mouseEvent,touchEvent}=params,event=mouseEvent||touchEvent;if(!event)return!1;const indexOfThisChild=this.getPopupIndex(target);if(-1===indexOfThisChild)return!1;for(let i=indexOfThisChild;i<this.popupList.length;i++){if(_isElementInEventPath(this.popupList[i].element,event))return!0}return this.isElementWithinCustomPopup(event.target)}isElementWithinCustomPopup(el){const eDocument=_getDocument(this.beans);for(;el&&el!==eDocument.body;){if(el.classList.contains("ag-custom-component-popup")||null===el.parentElement)return!0;el=el.parentElement}return!1}getWrapper(ePopup){for(;!ePopup.classList.contains("ag-popup")&&ePopup.parentElement;)ePopup=ePopup.parentElement;return ePopup.classList.contains("ag-popup")?ePopup:null}setAlwaysOnTop(ePopup,alwaysOnTop){const eWrapper=this.getWrapper(ePopup);eWrapper&&(eWrapper.classList.toggle("ag-always-on-top",!!alwaysOnTop),alwaysOnTop&&this.bringPopupToFront(eWrapper))}bringPopupToFront(ePopup){const parent=this.getPopupParent(),popupList=Array.prototype.slice.call(parent.querySelectorAll(".ag-popup")),popupLen=popupList.length,eWrapper=this.getWrapper(ePopup);if(!eWrapper||popupLen<=1||!parent.contains(ePopup))return;const standardPopupList=[],alwaysOnTopList=[];for(const popup of popupList)popup!==eWrapper&&(popup.classList.contains("ag-always-on-top")?alwaysOnTopList.push(popup):standardPopupList.push(popup));const innerElsScrollMap=[],onTopLength=alwaysOnTopList.length,targetList=eWrapper.classList.contains("ag-always-on-top")||!onTopLength?[...standardPopupList,...alwaysOnTopList,eWrapper]:[...standardPopupList,eWrapper,...alwaysOnTopList];for(let i=0;i<=popupLen;i++){const currentPopup=targetList[i];if(popupList[i]===targetList[i]||currentPopup===eWrapper)continue;currentPopup.querySelectorAll("div").forEach((el=>{0!==el.scrollTop&&innerElsScrollMap.push([el,el.scrollTop])})),0===i?parent.insertAdjacentElement("afterbegin",currentPopup):targetList[i-1].insertAdjacentElement("afterend",currentPopup)}for(;innerElsScrollMap.length;){const currentEl=innerElsScrollMap.pop();currentEl[0].scrollTop=currentEl[1]}}}]};var MONTH_LOCALE_TEXT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},MONTH_KEYS=["january","february","march","april","may","june","july","august","september","october","november","december"];function setFilterNumberComparator(a,b){return null==a?-1:null==b?1:parseFloat(a)-parseFloat(b)}function setModelOnFilterWrapper(filterPromise,newModel){return filterPromise?new AgPromise((resolve=>{filterPromise.then((filter=>{"function"!=typeof filter.setModel&&(_warn(65),resolve()),(filter.setModel(newModel)||AgPromise.resolve()).then((()=>resolve()))}))})):AgPromise.resolve()}function isGroupFilter(column){return"agGroupColumnFilter"===column.getColDef().filter}function isValidDate(value){return value instanceof Date&&!isNaN(value.getTime())}var OptionsFactory=class{constructor(){this.customFilterOptions={}}init(params,defaultOptions){this.filterOptions=params.filterOptions||defaultOptions,this.mapCustomOptions(),this.selectDefaultItem(params)}mapCustomOptions(){const{filterOptions}=this;filterOptions&&filterOptions.forEach((filterOption=>{if("string"==typeof filterOption)return;[["displayKey"],["displayName"],["predicate","test"]].every((keys=>!!keys.some((key=>null!=filterOption[key]))||(_warn(72,{keys}),!1)))?this.customFilterOptions[filterOption.displayKey]=filterOption:this.filterOptions=filterOptions.filter((v=>v===filterOption))||[]}))}selectDefaultItem(params){const{filterOptions}=this;if(params.defaultOption)this.defaultOption=params.defaultOption;else if(filterOptions.length>=1){const firstFilterOption=filterOptions[0];"string"==typeof firstFilterOption?this.defaultOption=firstFilterOption:firstFilterOption.displayKey?this.defaultOption=firstFilterOption.displayKey:_warn(73)}else _warn(74)}getCustomOption(name){return this.customFilterOptions[name]}};function removeItems(items,startPosition,deleteCount){return null==deleteCount?items.splice(startPosition):items.splice(startPosition,deleteCount)}function isBlank(cellValue){return null==cellValue||"string"==typeof cellValue&&0===cellValue.trim().length}var SimpleFilter=class extends ProvidedFilter{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(type){const customOpts=this.optionsFactory.getCustomOption(type);if(customOpts){const{numberOfInputs}=customOpts;return null!=numberOfInputs?numberOfInputs:1}return type&&["empty","notBlank","blank"].indexOf(type)>=0?0:"inRange"===type?2:1}onFloatingFilterChanged(type,value){this.setTypeFromFloatingFilter(type),this.setValueFromFloatingFilter(value),this.onUiChanged(!0)}setTypeFromFloatingFilter(type){this.eTypes.forEach(((eType,position)=>{const value=0===position?type:this.optionsFactory.defaultOption;eType.setValue(value,!0)}))}getModelFromUi(){const conditions=this.getUiCompleteConditions();return 0===conditions.length?null:this.maxNumConditions>1&&conditions.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions}:conditions[0]}getConditionTypes(){return this.eTypes.map((eType=>eType.getValue()))}getConditionType(position){return this.eTypes[position].getValue()}getJoinOperator(){const{eJoinOperatorsOr,defaultJoinOperator}=this;return 0===eJoinOperatorsOr.length?defaultJoinOperator:!0===eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(a,b){if(!a&&!b)return!0;if(!a&&b||a&&!b)return!1;const aIsSimple=!a.operator,bIsSimple=!b.operator;if(!aIsSimple&&bIsSimple||aIsSimple&&!bIsSimple)return!1;let res;if(aIsSimple){const aSimple=a,bSimple=b;res=this.areSimpleModelsEqual(aSimple,bSimple)}else{const aCombined=a,bCombined=b;res=aCombined.operator===bCombined.operator&&_areEqual(aCombined.conditions,bCombined.conditions,((aModel,bModel)=>this.areSimpleModelsEqual(aModel,bModel)))}return res}shouldRefresh(newParams){const model=this.getModel(),conditions=model?model.conditions??[model]:null,newOptionsList=newParams.filterOptions?.map((option=>"string"==typeof option?option:option.displayKey))??this.getDefaultFilterOptions();return!(conditions&&!conditions.every((condition=>void 0!==newOptionsList.find((option=>option===condition.type)))))&&!("number"==typeof newParams.maxNumConditions&&conditions&&conditions.length>newParams.maxNumConditions)}refresh(newParams){if(!this.shouldRefresh(newParams))return!1;return!!super.refresh(newParams)&&(this.setParams(newParams),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(model){if(model.operator){const combinedModel=model;let conditions=combinedModel.conditions;null==conditions&&(conditions=[],_warn(77));const numConditions=function validateAndUpdateConditions(conditions,maxNumConditions){let numConditions=conditions.length;return numConditions>maxNumConditions&&(conditions.splice(maxNumConditions),_warn(78),numConditions=maxNumConditions),numConditions}(conditions,this.maxNumConditions),numPrevConditions=this.getNumConditions();if(numConditions<numPrevConditions)this.removeConditionsAndOperators(numConditions);else if(numConditions>numPrevConditions)for(let i=numPrevConditions;i<numConditions;i++)this.createJoinOperatorPanel(),this.createOption();const orChecked="OR"===combinedModel.operator;this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd=>eJoinOperatorAnd.setValue(!orChecked,!0))),this.eJoinOperatorsOr.forEach((eJoinOperatorOr=>eJoinOperatorOr.setValue(orChecked,!0))),conditions.forEach(((condition,position)=>{this.eTypes[position].setValue(condition.type,!0),this.setConditionIntoUi(condition,position)}))}else{const simpleModel=model;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(simpleModel.type,!0),this.setConditionIntoUi(simpleModel,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),AgPromise.resolve()}doesFilterPass(params){const model=this.getModel();if(null==model)return!0;const{operator}=model,models=[];if(operator){const combinedModel=model;models.push(...combinedModel.conditions??[])}else models.push(model);return models[operator&&"OR"===operator?"some":"every"]((m=>this.individualConditionPasses(params,m)))}setParams(params){super.setParams(params),this.setNumConditions(params),this.defaultJoinOperator=function getDefaultJoinOperator(defaultJoinOperator){return"AND"===defaultJoinOperator||"OR"===defaultJoinOperator?defaultJoinOperator:"AND"}(params.defaultJoinOperator),this.filterPlaceholder=params.filterPlaceholder,this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(params){let maxNumConditions=params.maxNumConditions??2;maxNumConditions<1&&(_warn(79),maxNumConditions=1),this.maxNumConditions=maxNumConditions;let numAlwaysVisibleConditions=params.numAlwaysVisibleConditions??1;numAlwaysVisibleConditions<1&&(_warn(80),numAlwaysVisibleConditions=1),numAlwaysVisibleConditions>maxNumConditions&&(_warn(81),numAlwaysVisibleConditions=maxNumConditions),this.numAlwaysVisibleConditions=numAlwaysVisibleConditions}createOption(){const eType=this.createManagedBean(new AgSelect);this.eTypes.push(eType),eType.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(eType.getGui());const eConditionBody=this.createValueElement();this.eConditionBodies.push(eConditionBody),this.eFilterBody.appendChild(eConditionBody),this.putOptionsIntoDropdown(eType),this.resetType(eType);const position=this.getNumConditions()-1;this.forEachPositionInput(position,(element=>this.resetInput(element))),this.addChangedListeners(eType,position)}createJoinOperatorPanel(){const eJoinOperatorPanel=document.createElement("div");this.eJoinOperatorPanels.push(eJoinOperatorPanel),eJoinOperatorPanel.classList.add("ag-filter-condition");const eJoinOperatorAnd=this.createJoinOperator(this.eJoinOperatorsAnd,eJoinOperatorPanel,"and"),eJoinOperatorOr=this.createJoinOperator(this.eJoinOperatorsOr,eJoinOperatorPanel,"or");this.eFilterBody.appendChild(eJoinOperatorPanel);const index=this.eJoinOperatorPanels.length-1,uniqueGroupId=this.joinOperatorId++;this.resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId),this.resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId),this.isReadOnly()||(eJoinOperatorAnd.onValueChange(this.listener),eJoinOperatorOr.onValueChange(this.listener))}createJoinOperator(eJoinOperators,eJoinOperatorPanel,andOr){const eJoinOperator=this.createManagedBean(new AgRadioButton);eJoinOperators.push(eJoinOperator);const baseClass="ag-filter-condition-operator";return eJoinOperator.addCssClass(baseClass),eJoinOperator.addCssClass(`${baseClass}-${andOr}`),eJoinOperatorPanel.appendChild(eJoinOperator.getGui()),eJoinOperator}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map((option=>"string"==typeof option?this.createBoilerplateListOption(option):this.createCustomListOption(option)))}putOptionsIntoDropdown(eType){const{filterListOptions}=this;filterListOptions.forEach((listOption=>{eType.addOption(listOption)})),eType.setDisabled(filterListOptions.length<=1)}createBoilerplateListOption(option){return{value:option,text:this.translate(option)}}createCustomListOption(option){const{displayKey}=option,customOption=this.optionsFactory.getCustomOption(option.displayKey);return{value:displayKey,text:customOption?this.getLocaleTextFunc()(customOption.displayKey,customOption.displayName):this.translate(displayKey)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const joinOperator=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,joinOperator)}updateNumConditions(){let lastUiCompletePosition=-1,areAllConditionsUiComplete=!0;for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)?lastUiCompletePosition=position:areAllConditionsUiComplete=!1;if(this.shouldAddNewConditionAtEnd(areAllConditionsUiComplete))this.createJoinOperatorPanel(),this.createOption();else{const activePosition=this.lastUiCompletePosition??this.getNumConditions()-2;if(lastUiCompletePosition<activePosition){this.removeConditionsAndOperators(activePosition+1);const removeStartPosition=lastUiCompletePosition+1,numConditionsToRemove=activePosition-removeStartPosition;numConditionsToRemove>0&&this.removeConditionsAndOperators(removeStartPosition,numConditionsToRemove),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=lastUiCompletePosition}updateConditionStatusesAndValues(lastUiCompletePosition,joinOperator){this.eTypes.forEach(((eType,position)=>{const disabled=this.isConditionDisabled(position,lastUiCompletePosition);eType.setDisabled(disabled||this.filterListOptions.length<=1),1===position&&(_setDisabled(this.eJoinOperatorPanels[0],disabled),this.eJoinOperatorsAnd[0].setDisabled(disabled),this.eJoinOperatorsOr[0].setDisabled(disabled))})),this.eConditionBodies.forEach(((element,index)=>{_setDisplayed(element,this.isConditionBodyVisible(index))}));const orChecked="OR"===(joinOperator??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd=>{eJoinOperatorAnd.setValue(!orChecked,!0)})),this.eJoinOperatorsOr.forEach((eJoinOperatorOr=>{eJoinOperatorOr.setValue(orChecked,!0)})),this.forEachInput(((element,index,position,numberOfInputs)=>{this.setElementDisplayed(element,index<numberOfInputs),this.setElementDisabled(element,this.isConditionDisabled(position,lastUiCompletePosition))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(areAllConditionsUiComplete){return areAllConditionsUiComplete&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(startPosition,deleteCount){if(startPosition>=this.getNumConditions())return;const{eTypes,eConditionBodies,eJoinOperatorPanels,eJoinOperatorsAnd,eJoinOperatorsOr}=this;this.removeComponents(eTypes,startPosition,deleteCount),this.removeElements(eConditionBodies,startPosition,deleteCount),this.removeValueElements(startPosition,deleteCount);const joinOperatorIndex=Math.max(startPosition-1,0);this.removeElements(eJoinOperatorPanels,joinOperatorIndex,deleteCount),this.removeComponents(eJoinOperatorsAnd,joinOperatorIndex,deleteCount),this.removeComponents(eJoinOperatorsOr,joinOperatorIndex,deleteCount)}removeElements(elements,startPosition,deleteCount){removeItems(elements,startPosition,deleteCount).forEach((element=>_removeFromParent(element)))}removeComponents(components,startPosition,deleteCount){removeItems(components,startPosition,deleteCount).forEach((comp=>{_removeFromParent(comp.getGui()),this.destroyBean(comp)}))}afterGuiAttached(params){if(super.afterGuiAttached(params),this.resetPlaceholder(),!params?.suppressFocus){const{eFilterBody,eTypes}=this;let elementToFocus;if(!this.isReadOnly()){const firstInput=this.getInputs(0)[0];elementToFocus=firstInput instanceof AgAbstractInputField&&this.isConditionBodyVisible(0)?firstInput.getInputElement():eTypes[0]?.getFocusableElement()}(elementToFocus??eFilterBody).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const appliedModel=this.getModel();this.resetUiToActiveModel(appliedModel);let lastUiCompletePosition=-1,updatedLastUiCompletePosition=-1,conditionsRemoved=!1;const joinOperator=this.getJoinOperator();for(let position=this.getNumConditions()-1;position>=0;position--)if(this.isConditionUiComplete(position))-1===lastUiCompletePosition&&(lastUiCompletePosition=position,updatedLastUiCompletePosition=position);else{const positionBeforeLastUiCompletePosition=position<lastUiCompletePosition;(position>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(position-1)||positionBeforeLastUiCompletePosition)&&(this.removeConditionsAndOperators(position,1),conditionsRemoved=!0,positionBeforeLastUiCompletePosition&&updatedLastUiCompletePosition--)}let shouldUpdateConditionStatusesAndValues=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),shouldUpdateConditionStatusesAndValues=!0),this.shouldAddNewConditionAtEnd(updatedLastUiCompletePosition===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),shouldUpdateConditionStatusesAndValues=!0),shouldUpdateConditionStatusesAndValues&&this.updateConditionStatusesAndValues(updatedLastUiCompletePosition,joinOperator),conditionsRemoved&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=updatedLastUiCompletePosition}getPlaceholderText(defaultPlaceholder,position){let placeholder=this.translate(defaultPlaceholder);if("function"==typeof this.filterPlaceholder){const filterOptionKey=this.eTypes[position].getValue(),filterOption=this.translate(filterOptionKey);placeholder=this.filterPlaceholder({filterOptionKey,filterOption,placeholder})}else"string"==typeof this.filterPlaceholder&&(placeholder=this.filterPlaceholder);return placeholder}resetPlaceholder(){const globalTranslate=this.getLocaleTextFunc();this.forEachInput(((element,index,position,numberOfInputs)=>{if(!(element instanceof AgAbstractInputField))return;const placeholder=0===index&&numberOfInputs>1?"inRangeStart":0===index?"filterOoo":"inRangeEnd",ariaLabel=0===index&&numberOfInputs>1?globalTranslate("ariaFilterFromValue","Filter from value"):0===index?globalTranslate("ariaFilterValue","Filter Value"):globalTranslate("ariaFilterToValue","Filter to Value");element.setInputPlaceholder(this.getPlaceholderText(placeholder,position)),element.setInputAriaLabel(ariaLabel)}))}setElementValue(element,value,fromFloatingFilter){element instanceof AgAbstractInputField&&element.setValue(null!=value?String(value):null,!0)}setElementDisplayed(element,displayed){element instanceof Component&&_setDisplayed(element.getGui(),displayed)}setElementDisabled(element,disabled){element instanceof Component&&_setDisabled(element.getGui(),disabled)}attachElementOnChange(element,listener){element instanceof AgAbstractInputField&&element.onValueChange(listener)}forEachInput(cb){this.getConditionTypes().forEach(((type,position)=>{this.forEachPositionTypeInput(position,type,cb)}))}forEachPositionInput(position,cb){const type=this.getConditionType(position);this.forEachPositionTypeInput(position,type,cb)}forEachPositionTypeInput(position,type,cb){const numberOfInputs=this.getNumberOfInputs(type),inputs=this.getInputs(position);for(let index=0;index<inputs.length;index++){const input=inputs[index];null!=input&&cb(input,index,position,numberOfInputs)}}isConditionDisabled(position,lastUiCompletePosition){return!!this.isReadOnly()||0!==position&&position>lastUiCompletePosition+1}isConditionBodyVisible(position){const type=this.getConditionType(position);return this.getNumberOfInputs(type)>0}isConditionUiComplete(position){if(position>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(position)&&!this.getValues(position).some((v=>null==v))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const conditions=[];for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)&&conditions.push(this.createCondition(position));return conditions}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let i=this.getNumConditions();i<this.numAlwaysVisibleConditions;i++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(silent){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((eType=>this.resetType(eType))),this.eJoinOperatorsAnd.forEach(((eJoinOperatorAnd,index)=>this.resetJoinOperatorAnd(eJoinOperatorAnd,index,this.joinOperatorId+index))),this.eJoinOperatorsOr.forEach(((eJoinOperatorOr,index)=>this.resetJoinOperatorOr(eJoinOperatorOr,index,this.joinOperatorId+index))),this.joinOperatorId++,this.forEachInput((element=>this.resetInput(element))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,silent||this.onUiChanged(),AgPromise.resolve()}resetType(eType){const filteringLabel=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");eType.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(filteringLabel).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorAnd,index,"AND"===this.defaultJoinOperator,this.translate("andCondition"),uniqueGroupId)}resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorOr,index,"OR"===this.defaultJoinOperator,this.translate("orCondition"),uniqueGroupId)}resetJoinOperator(eJoinOperator,index,value,label,uniqueGroupId){this.updateJoinOperatorDisabled(eJoinOperator.setValue(value,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${uniqueGroupId}`).setLabel(label),index)}updateJoinOperatorsDisabled(){const updater=(eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index);this.eJoinOperatorsAnd.forEach(updater),this.eJoinOperatorsOr.forEach(updater)}updateJoinOperatorDisabled(eJoinOperator,index){eJoinOperator.setDisabled(this.isReadOnly()||index>0)}resetInput(element){this.setElementValue(element,null),this.setElementDisabled(element,this.isReadOnly())}setConditionIntoUi(model,position){const values=this.mapValuesFromModel(model);this.forEachInput(((element,index,elPosition)=>{elPosition===position&&this.setElementValue(element,null!=values[index]?values[index]:null)}))}setValueFromFloatingFilter(value){this.forEachInput(((element,index,position)=>{this.setElementValue(element,0===index&&0===position?value:null,!0)}))}addChangedListeners(eType,position){this.isReadOnly()||(eType.onValueChange(this.listener),this.forEachPositionInput(position,(element=>{this.attachElementOnChange(element,this.listener)})))}individualConditionPasses(params,filterModel){const cellValue=this.getCellValue(params.node),values=this.mapValuesFromModel(filterModel),customFilterResult=function evaluateCustomFilter(customFilterOption,values,cellValue){if(null==customFilterOption)return;const{predicate}=customFilterOption;return null==predicate||values.some((v=>null==v))?void 0:predicate(values,cellValue)}(this.optionsFactory.getCustomOption(filterModel.type),values,cellValue);return null!=customFilterResult?customFilterResult:null==cellValue?this.evaluateNullValue(filterModel.type):this.evaluateNonNullValue(values,cellValue,filterModel,params)}hasInvalidInputs(){return!1}},ScalarFilter=class extends SimpleFilter{setParams(params){super.setParams(params),this.scalarFilterParams=params}evaluateNullValue(filterType){const{includeBlanksInEquals,includeBlanksInNotEqual,includeBlanksInGreaterThan,includeBlanksInLessThan,includeBlanksInRange}=this.scalarFilterParams;switch(filterType){case"equals":if(includeBlanksInEquals)return!0;break;case"notEqual":if(includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(includeBlanksInLessThan)return!0;break;case"inRange":if(includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(values,cellValue,filterModel){const type=filterModel.type;if(!this.isValid(cellValue))return"notEqual"===type||"notBlank"===type;const comparator=this.comparator(),compareResult=null!=values[0]?comparator(values[0],cellValue):0;switch(type){case"equals":return 0===compareResult;case"notEqual":return 0!==compareResult;case"greaterThan":return compareResult>0;case"greaterThanOrEqual":return compareResult>=0;case"lessThan":return compareResult<0;case"lessThanOrEqual":return compareResult<=0;case"inRange":{const compareToResult=comparator(values[1],cellValue);return this.scalarFilterParams.inRangeInclusive?compareResult>=0&&compareToResult<=0:compareResult>0&&compareToResult<0}case"blank":return isBlank(cellValue);case"notBlank":return!isBlank(cellValue);default:return _warn(76,{filterModelType:type}),!0}}},DateCompWrapper=class{constructor(context,userCompFactory,dateComponentParams,eParent,onReady){this.alive=!0,this.context=context,this.eParent=eParent;const compDetails=function _getDateCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(DateComponent,"agDateInput",params,!0)}(userCompFactory,dateComponentParams);compDetails&&compDetails.newAgStackInstance().then((dateComp=>{if(!this.alive)return void context.destroyBean(dateComp);if(this.dateComp=dateComp,!dateComp)return;eParent.appendChild(dateComp.getGui()),dateComp?.afterGuiAttached?.();const{tempValue,disabled}=this;tempValue&&dateComp.setDate(tempValue),null!=disabled&&dateComp.setDisabled?.(disabled),onReady?.(this)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(value){const dateComp=this.dateComp;dateComp?dateComp.setDate(value):this.tempValue=value}setDisabled(disabled){const dateComp=this.dateComp;dateComp?dateComp.setDisabled?.(disabled):this.disabled=disabled}setDisplayed(displayed){_setDisplayed(this.eParent,displayed)}setInputPlaceholder(placeholder){this.dateComp?.setInputPlaceholder?.(placeholder)}setInputAriaLabel(label){this.dateComp?.setInputAriaLabel?.(label)}afterGuiAttached(params){this.dateComp?.afterGuiAttached?.(params)}updateParams(params){this.dateComp?.refresh?.(params)}},DEFAULT_DATE_FILTER_OPTIONS=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],SimpleFilterModelFormatter=class{constructor(getLocaleTextFunc,optionsFactory,valueFormatter){this.getLocaleTextFunc=getLocaleTextFunc,this.optionsFactory=optionsFactory,this.valueFormatter=valueFormatter}getModelAsString(model){if(!model)return null;const isCombined=null!=model.operator,translate=this.getLocaleTextFunc();if(isCombined){const combinedModel=model,customOptions=(combinedModel.conditions??[]).map((condition=>this.getModelAsString(condition))),joinOperatorTranslateKey="AND"===combinedModel.operator?"andCondition":"orCondition";return customOptions.join(` ${translate(joinOperatorTranslateKey,FILTER_LOCALE_TEXT[joinOperatorTranslateKey])} `)}if("blank"===model.type||"notBlank"===model.type)return translate(model.type,model.type);{const condition=model,customOption=this.optionsFactory.getCustomOption(condition.type),{displayKey,displayName,numberOfInputs}=customOption||{};return displayKey&&displayName&&0===numberOfInputs?(translate(displayKey,displayName),displayName):this.conditionToString(condition,customOption)}}updateParams(params){this.optionsFactory=params.optionsFactory}formatValue(value){const valueFormatter=this.valueFormatter;return valueFormatter?valueFormatter(value??null)??"":String(value)}},DateFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(dateFilterParams,getLocaleTextFunc,optionsFactory){super(getLocaleTextFunc,optionsFactory),this.dateFilterParams=dateFilterParams}conditionToString(condition,options){const{type}=condition,{numberOfInputs}=options||{},isRange="inRange"==type||2===numberOfInputs,dateFrom=_parseDateTimeFromString(condition.dateFrom),dateTo=_parseDateTimeFromString(condition.dateTo),format=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(isRange){return`${null!==dateFrom?_dateToFormattedString(dateFrom,format):"null"}-${null!==dateTo?_dateToFormattedString(dateTo,format):"null"}`}return null!=dateFrom?_dateToFormattedString(dateFrom,format):`${type}`}updateParams(params){super.updateParams(params),this.dateFilterParams=params.dateFilterParams}};function defaultDateComparator(filterDate,cellValue){return cellValue<filterDate?-1:cellValue>filterDate?1:0}var SimpleFloatingFilter=class extends Component{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(model){if(!model)return void(this.lastType=this.optionsFactory.defaultOption);let condition;if(model.operator){condition=model.conditions[0]}else condition=model;this.lastType=condition.type}canWeEditAfterModelFromParentFilter(model){if(!model)return this.isTypeEditable(this.lastType);if(model.operator)return!1;const simpleModel=model;return this.isTypeEditable(simpleModel.type)}init(params){this.setSimpleParams(params,!1)}setSimpleParams(params,update=!0){const optionsFactory=new OptionsFactory;this.optionsFactory=optionsFactory,optionsFactory.init(params.filterParams,this.getDefaultOptions());const defaultOption=optionsFactory.defaultOption;update||(this.lastType=defaultOption),this.readOnly=!!params.filterParams.readOnly;const editable=this.isTypeEditable(defaultOption);this.setEditable(editable)}refresh(params){this.setSimpleParams(params)}hasSingleInput(filterType){const numberOfInputs=this.optionsFactory.getCustomOption(filterType)?.numberOfInputs;return null==numberOfInputs||1==numberOfInputs}isTypeEditable(type){return!!type&&!this.readOnly&&this.hasSingleInput(type)&&["inRange","empty","blank","notBlank"].indexOf(type)<0}getAriaLabel(params){return`${this.beans.colNames.getDisplayNameForColumn(params.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},DEFAULT_NUMBER_FILTER_OPTIONS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],NumberFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{},{filter,filterTo,type}=condition,isRange="inRange"==type||2===numberOfInputs,formatValue=this.formatValue.bind(this);return isRange?`${formatValue(filter)}-${formatValue(filterTo)}`:null!=filter?formatValue(filter):`${type}`}};function getAllowedCharPattern(filterParams){const{allowedCharPattern}=filterParams??{};return allowedCharPattern??null}var FloatingFilterTextInputService=class extends BeanStub{constructor(params){super(),this.params=params,this.eInput=null,this.onValueChanged=()=>{}}setupGui(parentElement){this.eInput=this.createManagedBean(new AgInputTextField(this.params?.config));const eInput=this.eInput.getGui();parentElement.appendChild(eInput);const listener=e=>this.onValueChanged(e);this.addManagedListeners(eInput,{input:listener,keydown:listener})}setEditable(editable){this.eInput.setDisabled(!editable)}getValue(){return this.eInput.getValue()}setValue(value,silent){this.eInput.setValue(value,silent)}setValueChangedListener(listener){this.onValueChanged=listener}setParams({ariaLabel,autoComplete}){const{eInput}=this;eInput.setInputAriaLabel(ariaLabel),void 0!==autoComplete&&eInput.setAutoComplete(autoComplete)}};function trimInputForFilter(value){const trimmedInput=value?.trim();return""===trimmedInput?value:trimmedInput}var TextInputFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(...arguments),this.eFloatingFilterInputContainer=null,this.defaultDebounceMs=500}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}onParentModelChanged(model,event){event?.afterFloatingFilter||event?.afterDataChange||(this.setLastTypeFromModel(model),this.setEditable(this.canWeEditAfterModelFromParentFilter(model)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(model)))}init(params){this.setupFloatingFilterInputService(params),super.init(params),this.setTextInputParams(params)}setupFloatingFilterInputService(params){this.inputSvc=this.createFloatingFilterInputService(params),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(params){this.params=params;const autoComplete=params.browserAutoComplete??!1,{inputSvc,defaultDebounceMs,readOnly}=this;if(inputSvc.setParams({ariaLabel:this.getAriaLabel(params),autoComplete}),this.applyActive=isUseApplyButton(params.filterParams),!readOnly){const debounceMs=getDebounceMs(params.filterParams,defaultDebounceMs),toDebounce=_debounce(this,this.syncUpWithParentFilter.bind(this),debounceMs);inputSvc.setValueChangedListener(toDebounce)}}refresh(params){super.refresh(params),this.setTextInputParams(params)}recreateFloatingFilterInputService(params){const{inputSvc}=this,value=inputSvc.getValue();_clearElement(this.eFloatingFilterInputContainer),this.destroyBean(inputSvc),this.setupFloatingFilterInputService(params),inputSvc.setValue(value,!0)}syncUpWithParentFilter(e){const isEnterKey=e.key===KeyCode_ENTER;if(this.applyActive&&!isEnterKey)return;const{inputSvc,params}=this;let value=inputSvc.getValue();params.filterParams.trimInput&&(value=trimInputForFilter(value),inputSvc.setValue(value,!0)),params.parentFilterInstance((filterInstance=>{filterInstance?.onFloatingFilterChanged(this.lastType||null,value||null)}))}setEditable(editable){this.inputSvc.setEditable(editable)}},FloatingFilterNumberInputService=class extends BeanStub{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(parentElement){this.eNumberInput=this.createManagedBean(new AgInputNumberField),this.eTextInput=this.createManagedBean(new AgInputTextField),this.eTextInput.setDisabled(!0);const eNumberInput=this.eNumberInput.getGui(),eTextInput=this.eTextInput.getGui();parentElement.appendChild(eNumberInput),parentElement.appendChild(eTextInput),this.setupListeners(eNumberInput,(e=>this.onValueChanged(e))),this.setupListeners(eTextInput,(e=>this.onValueChanged(e)))}setEditable(editable){this.numberInputActive=editable,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(autoComplete){this.eNumberInput.setAutoComplete(autoComplete),this.eTextInput.setAutoComplete(autoComplete)}getValue(){return this.getActiveInputElement().getValue()}setValue(value,silent){this.getActiveInputElement().setValue(value,silent)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(listener){this.onValueChanged=listener}setupListeners(element,listener){this.addManagedListeners(element,{input:listener,keydown:listener})}setParams(params){this.setAriaLabel(params.ariaLabel),void 0!==params.autoComplete&&this.setAutoComplete(params.autoComplete)}setAriaLabel(ariaLabel){this.eNumberInput.setInputAriaLabel(ariaLabel),this.eTextInput.setInputAriaLabel(ariaLabel)}},DEFAULT_TEXT_FILTER_OPTIONS=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],TextFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{},{filter,filterTo,type}=condition;return"inRange"==type||2===numberOfInputs?`${filter}-${filterTo}`:null!=filter?`${filter}`:`${type}`}};var ClientSideRowModelFilterModule={moduleName:"ClientSideRowModelFilter",version:VERSION,rowModels:["clientSide"],beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(beans){this.filterManager=beans.filterManager}execute(params){const{changedPath}=params;this.filter(changedPath)}filter(changedPath){const filterActive=!!this.filterManager?.isChildFilterPresent();this.filterNodes(filterActive,changedPath)}filterNodes(filterActive,changedPath){const filterCallback=(rowNode,includeChildNodes)=>{rowNode.hasChildren()?rowNode.childrenAfterFilter=filterActive&&!includeChildNodes?rowNode.childrenAfterGroup.filter((childNode=>{const passBecauseChildren=childNode.childrenAfterFilter&&childNode.childrenAfterFilter.length>0,passBecauseDataPasses=childNode.data&&this.filterManager.doesRowPassFilter({rowNode:childNode});return passBecauseChildren||passBecauseDataPasses})):rowNode.childrenAfterGroup:rowNode.childrenAfterFilter=rowNode.childrenAfterGroup,updateRowNodeAfterFilter(rowNode)};if(this.doingTreeDataFiltering()){const treeDataDepthFirstFilter=(rowNode,alreadyFoundInParent)=>{if(rowNode.childrenAfterGroup)for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const childNode=rowNode.childrenAfterGroup[i],foundInParent=alreadyFoundInParent||this.filterManager.doesRowPassFilter({rowNode:childNode});childNode.childrenAfterGroup?treeDataDepthFirstFilter(rowNode.childrenAfterGroup[i],foundInParent):filterCallback(childNode,foundInParent)}filterCallback(rowNode,alreadyFoundInParent)},treeDataFilterCallback=rowNode=>treeDataDepthFirstFilter(rowNode,!1);changedPath.executeFromRootNode(treeDataFilterCallback)}else{const defaultFilterCallback=rowNode=>filterCallback(rowNode,!1);changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}}]},FilterCoreModule={moduleName:"FilterCore",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(beans){this.quickFilter=beans.quickFilter,this.advancedFilter=beans.advancedFilter,this.colFilter=beans.colFilter}postConstruct(){const refreshFiltersForAggregations=this.refreshFiltersForAggregations.bind(this),updateAdvFilterColumns=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:refreshFiltersForAggregations,columnPivotChanged:refreshFiltersForAggregations,columnPivotModeChanged:refreshFiltersForAggregations,newColumnsLoaded:updateAdvFilterColumns,columnVisible:updateAdvFilterColumns,advancedFilterEnabledChanged:({enabled})=>this.onAdvFilterEnabledChanged(enabled),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos}=this;this.alwaysPassFilter=gos.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",(()=>{this.alwaysPassFilter=gos.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})}))}isExternalFilterPresentCallback(){const isFilterPresent=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof isFilterPresent&&isFilterPresent({})}doesExternalFilterPass(node){const doesFilterPass=this.gos.get("doesExternalFilterPass");return"function"==typeof doesFilterPass&&doesFilterPass(node)}setFilterModel(model,source="api"){this.isAdvFilterEnabled()?this.warnAdvFilters():this.colFilter?.setFilterModel(model,source)}getFilterModel(){return this.colFilter?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.colFilter?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggregateFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(enabled){enabled?this.colFilter?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){_getGroupAggFiltering(this.gos)&&this.onFilterChanged()}onFilterChanged(params={}){const{source,additionalEventAttributes,columns=[]}=params;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(params):AgPromise.resolve()).then((()=>{const filterChangedEvent={source,type:"filterChanged",columns};additionalEventAttributes&&_mergeDeep(filterChangedEvent,additionalEventAttributes),this.eventSvc.dispatchEvent(filterChangedEvent),this.colFilter?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!_getGroupAggFiltering(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(filterToSkip,node){return this.doesRowPassFilter({rowNode:node,filterInstanceToSkip:filterToSkip})}doesRowPassAggregateFilters(params){const{rowNode}=params;return!!this.alwaysPassFilter?.(rowNode)||!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(rowNode))&&!(this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(rowNode,params.filterInstanceToSkip))}doesRowPassFilter(params){const{rowNode}=params;return!!this.alwaysPassFilter?.(rowNode)||!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(rowNode))&&(!(this.externalFilterPresent&&!this.doesExternalFilterPass(rowNode))&&(!(this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(rowNode,params.filterInstanceToSkip))&&!(this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(rowNode))))}isFilterActive(column){return!!this.colFilter?.isFilterActive(column)}getOrCreateFilterWrapper(column){return this.colFilter?.getOrCreateFilterWrapper(column)??null}getDefaultFloatingFilter(column){return this.colFilter.getDefaultFloatingFilter(column)}createFilterParams(column,colDef){return this.colFilter.createFilterParams(column,colDef)}isFilterAllowed(column){return!this.isAdvFilterEnabled()&&!!this.colFilter?.isFilterAllowed(column)}getFloatingFilterCompDetails(column,showParentFilter){return this.colFilter?.getFloatingFilterCompDetails(column,showParentFilter)}getCurrentFloatingFilterParentModel(column){return this.colFilter?.getCurrentFloatingFilterParentModel(column)}destroyFilter(column,source="api"){this.colFilter?.destroyFilter(column,source)}areFilterCompsDifferent(oldCompDetails,newCompDetails){return!!this.colFilter?.areFilterCompsDifferent(oldCompDetails,newCompDetails)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(expression,source="api"){this.isAdvFilterEnabled()&&(this.beans.dataTypeSvc?.isPendingInference?this.advFilterModelUpdateQueue.push(expression):(this.advancedFilter.setModel(expression??null),this.onFilterChanged({source})))}toggleAdvFilterBuilder(show,source){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source,force:show})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvFilterEnabled()&&!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(key){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getColumnFilterInstance(key)??Promise.resolve(void 0)}warnAdvFilters(){_warn(68)}setupAdvFilterHeaderComp(eCompToInsertBefore){this.advancedFilter?.getCtrl().setupHeaderComp(eCompToInsertBefore)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach((model=>this.setAdvFilterModel(model))),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(key){return this.colFilter?.getColumnFilterModel(key)}setColumnFilterModel(key,model){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setColumnFilterModel(key,model)??Promise.resolve()}setColDefPropertiesForDataType(colDef,dataTypeDefinition,formatValue){this.colFilter?.setColDefPropertiesForDataType(colDef,dataTypeDefinition,formatValue)}}],apiFunctions:{isAnyFilterPresent:function isAnyFilterPresent(beans){return!!beans.filterManager?.isAnyFilterPresent()},onFilterChanged:function onFilterChanged(beans,source="api"){beans.filterManager?.onFilterChanged({source})}},css:[".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}"],dependsOn:[ClientSideRowModelFilterModule]},FilterValueModule={moduleName:"FilterValue",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(column,rowNode){if(!rowNode)return;const colDef=column.getColDef(),{filterValueGetter}=colDef;return filterValueGetter?this.executeFilterValueGetter(filterValueGetter,rowNode.data,column,rowNode,colDef):this.beans.valueSvc.getValue(column,rowNode)}executeFilterValueGetter(valueGetter,data,column,node,colDef){const{expressionSvc,valueSvc}=this.beans,params=_addGridCommonParams(this.gos,{data,node,column,colDef,getValue:valueSvc.getValueCallback.bind(valueSvc,node)});return"function"==typeof valueGetter?valueGetter(params):expressionSvc?.evaluate(valueGetter,params)}}]},ColumnFilterModule={moduleName:"ColumnFilter",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params})=>{(params.rowDataUpdated||params.changedProps?.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(model,source="api"){const{colModel,dataTypeSvc,filterManager}=this.beans;if(dataTypeSvc?.isPendingInference)return void this.filterModelUpdateQueue.push({model,source});const allPromises=[],previousModel=this.getFilterModel(!0);if(model){const modelKeys=new Set(Object.keys(model));this.allColumnFilters.forEach(((filterWrapper,colId)=>{const newModel=model[colId];allPromises.push(setModelOnFilterWrapper(filterWrapper.filterPromise,newModel)),modelKeys.delete(colId)})),modelKeys.forEach((colId=>{const column=colModel.getColDefCol(colId)||colModel.getCol(colId);if(!column)return void _warn(62,{colId});if(!column.isFilterAllowed())return void _warn(63,{colId});const filterWrapper=this.getOrCreateFilterWrapper(column);filterWrapper?allPromises.push(setModelOnFilterWrapper(filterWrapper.filterPromise,model[colId])):_warn(64,{colId})}))}else this.allColumnFilters.forEach((filterWrapper=>{allPromises.push(setModelOnFilterWrapper(filterWrapper.filterPromise,null))}));AgPromise.all(allPromises).then((()=>{const currentModel=this.getFilterModel(!0),columns=[];this.allColumnFilters.forEach(((filterWrapper,colId)=>{_jsonEquals(previousModel?previousModel[colId]:null,currentModel?currentModel[colId]:null)||columns.push(filterWrapper.column)})),columns.length>0&&filterManager?.onFilterChanged({columns,source})}))}getFilterModel(excludeInitialState){const result={},{allColumnFilters,initialFilterModel,beans:{colModel}}=this;if(allColumnFilters.forEach(((filterWrapper,key)=>{const model=this.getModelFromFilterWrapper(filterWrapper);_exists(model)&&(result[key]=model)})),!excludeInitialState)for(const colId of Object.keys(initialFilterModel)){const model=initialFilterModel[colId];_exists(model)&&!allColumnFilters.has(colId)&&colModel.getCol(colId)?.isFilterAllowed()&&(result[colId]=model)}return result}getModelFromFilterWrapper(filterWrapper){const{filter}=filterWrapper;return filter?"function"!=typeof filter.getModel?(_warn(66),null):filter.getModel():this.getModelFromInitialState(filterWrapper.column)}getModelFromInitialState(column){return this.initialFilterModel[column.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters}=this;return!!allColumnFilters.size&&(allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(node,filterToSkip){return this.doColumnFiltersPass(node,filterToSkip,!0)}updateActiveFilters(){const{colModel,gos}=this.beans,groupFilterEnabled=!!_getGroupAggFiltering(gos),activeAggregateFilters=[],activeColumnFilters=[];return this.forEachColumnFilter(((filter,filterWrapper)=>{const filterActive=(filter=>!!filter&&(filter.isFilterActive?filter.isFilterActive():(_warn(67),!1)))(filter);filterActive&&((column=>{if(!column.isPrimary())return!0;const isShowingPrimaryColumns=!colModel.isPivotActive();return!(!column.isValueActive()||!isShowingPrimaryColumns)&&(!!colModel.isPivotMode()||groupFilterEnabled)})(filterWrapper.column)?activeAggregateFilters.push(filter):activeColumnFilters.push(filter))})).then((()=>{this.activeAggregateFilters=activeAggregateFilters,this.activeColumnFilters=activeColumnFilters}))}updateFilterFlagInColumns(source,additionalEventAttributes){return this.forEachColumnFilter(((filter,filterWrapper)=>this.setColFilterActive(filterWrapper.column,filter.isFilterActive(),source,additionalEventAttributes)))}forEachColumnFilter(callback){const promises=[];return this.allColumnFilters.forEach((filterWrapper=>{const filterPromise=filterWrapper.filterPromise;filterPromise&&promises.push(filterPromise.then((filter=>callback(filter,filterWrapper))))})),AgPromise.all(promises)}doColumnFiltersPass(node,filterToSkip,targetAggregates){const{data,aggData}=node,targetedFilters=targetAggregates?this.activeAggregateFilters:this.activeColumnFilters,targetedData=targetAggregates?aggData:data;for(let i=0;i<targetedFilters.length;i++){const filter=targetedFilters[i];if(null!=filter&&filter!==filterToSkip)if("function"==typeof filter.doesFilterPass){if(!filter.doesFilterPass({node,data:targetedData}))return!1}else _error(91)}return!0}callOnFilterChangedOutsideRenderCycle(params){const{rowRenderer,filterManager}=this.beans,action=()=>{this.isAlive()&&filterManager?.onFilterChanged(params)};rowRenderer.isRefreshInProgress()?setTimeout(action,0):action()}updateBeforeFilterChanged(params={}){const{filterInstance,additionalEventAttributes}=params;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",additionalEventAttributes).then((()=>{this.allColumnFilters.forEach((filterWrapper=>{filterWrapper.filterPromise&&filterWrapper.filterPromise.then((filter=>{filter&&filter!==filterInstance&&filter.onAnyFilterChanged&&filter.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(source){this.forEachColumnFilter((filter=>{filter.onNewRowsLoaded?.()})).then((()=>this.updateFilterFlagInColumns(source,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createGetValue(filterColumn){const{filterValueSvc,colModel}=this.beans;return(rowNode,column)=>{const columnToUse=column?colModel.getCol(column):filterColumn;return columnToUse?filterValueSvc.getValue(columnToUse,rowNode):void 0}}isFilterActive(column){const{filter}=this.cachedFilter(column)??{};return filter?filter.isFilterActive():null!=this.getModelFromInitialState(column)}getOrCreateFilterWrapper(column){if(!column.isFilterAllowed())return null;let filterWrapper=this.cachedFilter(column);return filterWrapper||(filterWrapper=this.createFilterWrapper(column),this.setColumnFilterWrapper(column,filterWrapper)),filterWrapper}cachedFilter(column){return this.allColumnFilters.get(column.getColId())}getDefaultFilter(column){let defaultFilter;const{gos,dataTypeSvc}=this.beans;if(_isSetFilterByDefault(gos))defaultFilter="agSetColumnFilter";else{const cellDataType=dataTypeSvc?.getBaseDataType(column);defaultFilter="number"===cellDataType?"agNumberColumnFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFilter":"agTextColumnFilter"}return defaultFilter}getDefaultFloatingFilter(column){let defaultFloatingFilterType;const{gos,dataTypeSvc}=this.beans;if(_isSetFilterByDefault(gos))defaultFloatingFilterType="agSetColumnFloatingFilter";else{const cellDataType=dataTypeSvc?.getBaseDataType(column);defaultFloatingFilterType="number"===cellDataType?"agNumberColumnFloatingFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return defaultFloatingFilterType}createFilterInstance(column,filterWrapper){const defaultFilter=this.getDefaultFilter(column),colDef=column.getColDef();let filterInstance;const params={...this.createFilterParams(column,colDef),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(filterInstance,column)(),filterChangedCallback:additionalEventAttributes=>this.filterChangedCallbackFactory(filterInstance,column)(additionalEventAttributes),doesRowPassOtherFilter:node=>this.beans.filterManager?.doesRowPassOtherFilters(filterInstance,node)??!0},compDetails=function _getFilterDetails(userCompFactory,def,params,defaultFilter){return userCompFactory.getCompDetails(def,FilterComponent,defaultFilter,params,!0)}(this.beans.userCompFactory,colDef,params,defaultFilter);return compDetails?{filterPromise:()=>{const filterPromise=compDetails.newAgStackInstance();return filterPromise.then((r=>{filterInstance=r,filterWrapper&&(filterWrapper.filter=r??void 0)})),filterPromise},compDetails}:{filterPromise:null,compDetails:null}}createFilterParams(column,colDef){return _addGridCommonParams(this.gos,{column,colDef,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(column),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(column){const filterWrapper={column,filterPromise:null,compDetails:null},{filterPromise,compDetails}=this.createFilterInstance(column,filterWrapper);return filterWrapper.filterPromise=filterPromise?.()??null,filterWrapper.compDetails=compDetails,filterWrapper}onColumnsChanged(){const columns=[],{colModel,filterManager}=this.beans;this.allColumnFilters.forEach(((wrapper,colId)=>{let currentColumn;currentColumn=wrapper.column.isPrimary()?colModel.getColDefCol(colId):colModel.getCol(colId),currentColumn&&currentColumn===wrapper.column||(columns.push(wrapper.column),this.disposeFilterWrapper(wrapper,"columnChanged"),this.disposeColumnListener(colId))}));const allFiltersAreGroupFilters=columns.every(isGroupFilter);columns.length>0&&!allFiltersAreGroupFilters?filterManager?.onFilterChanged({columns,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.beans.autoColSvc?.getColumns()?.forEach((groupColumn=>{isGroupFilter(groupColumn)&&this.getOrCreateFilterWrapper(groupColumn)}))}isFilterAllowed(column){if(!column.isFilterAllowed())return!1;const{filter}=this.allColumnFilters.get(column.getColId())??{};return!filter||("function"!=typeof filter?.isFilterAllowed||filter.isFilterAllowed())}getFloatingFilterCompDetails(column,showParentFilter){const parentFilterInstance=callback=>{const filterComponent=this.getOrCreateFilterWrapper(column)?.filterPromise;null!=filterComponent&&filterComponent.then((instance=>{callback(_unwrapUserComp(instance))}))},colDef=column.getColDef(),filterParams={...this.createFilterParams(column,colDef),filterChangedCallback:()=>parentFilterInstance((filterInstance=>this.filterChangedCallbackFactory(filterInstance,column)()))},{userCompFactory,frameworkOverrides}=this.beans,finalFilterParams=function _mergeFilterParamsWithApplicationProvidedParams(userCompFactory,defObject,paramsFromGrid){return userCompFactory.mergeParams(defObject,FilterComponent,paramsFromGrid)}(userCompFactory,colDef,filterParams);let defaultFloatingFilterType=_getDefaultFloatingFilterType(frameworkOverrides,colDef,(()=>this.getDefaultFloatingFilter(column)));null==defaultFloatingFilterType&&(defaultFloatingFilterType="agReadOnlyFloatingFilter");return function _getFloatingFilterCompDetails(userCompFactory,def,params,defaultFloatingFilter){return userCompFactory.getCompDetails(def,FloatingFilterComponent,defaultFloatingFilter,params)}(userCompFactory,colDef,_addGridCommonParams(this.gos,{column,filterParams:finalFilterParams,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(column),parentFilterInstance,showParentFilter}),defaultFloatingFilterType)}getCurrentFloatingFilterParentModel(column){return this.getModelFromFilterWrapper(this.cachedFilter(column)??{column})}destroyFilter(column,source="api"){const colId=column.getColId(),filterWrapper=this.allColumnFilters.get(colId);this.disposeColumnListener(colId),delete this.initialFilterModel[colId],filterWrapper&&this.disposeFilterWrapper(filterWrapper,source).then((wasActive=>{wasActive&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[column],source:"api"})}))}disposeColumnListener(colId){const columnListener=this.allColumnListeners.get(colId);columnListener&&(this.allColumnListeners.delete(colId),columnListener())}disposeFilterWrapper(filterWrapper,source){return filterWrapper.filterPromise?.then((filter=>{const isActive=!!filter?.isFilterActive();return this.destroyBean(filter),this.setColFilterActive(filterWrapper.column,!1,"filterDestroyed"),this.allColumnFilters.delete(filterWrapper.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source,column:filterWrapper.column}),isActive}))??AgPromise.resolve(!1)}filterModifiedCallbackFactory(filter,column){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column,filterInstance:filter})}}filterChangedCallbackFactory(filter,column){return additionalEventAttributes=>{const params={filter,additionalEventAttributes,columns:[column],source:additionalEventAttributes?.source??"columnFilter"};this.callOnFilterChangedOutsideRenderCycle(params)}}checkDestroyFilter(colId){const filterWrapper=this.allColumnFilters.get(colId);if(!filterWrapper)return;const column=filterWrapper.column,{compDetails}=column.isFilterAllowed()?this.createFilterInstance(column):{compDetails:null};if(this.areFilterCompsDifferent(filterWrapper.compDetails,compDetails))return void this.destroyFilter(column,"paramsUpdated");const newFilterParams=column.getColDef().filterParams;filterWrapper.filterPromise?filterWrapper.filterPromise.then((filter=>{!1===(!filter?.refresh||filter.refresh({...this.createFilterParams(column,column.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(filter,column),filterChangedCallback:this.filterChangedCallbackFactory(filter,column),doesRowPassOtherFilter:node=>this.beans.filterManager?.doesRowPassOtherFilters(filter,node)??!0,...newFilterParams}))&&this.destroyFilter(column,"paramsUpdated")})):this.destroyFilter(column,"paramsUpdated")}setColumnFilterWrapper(column,filterWrapper){const colId=column.getColId();this.allColumnFilters.set(colId,filterWrapper),this.allColumnListeners.set(colId,this.addManagedListeners(column,{colDefChanged:()=>this.checkDestroyFilter(colId)})[0])}areFilterCompsDifferent(oldCompDetails,newCompDetails){if(!newCompDetails||!oldCompDetails)return!0;const{componentClass:oldComponentClass}=oldCompDetails,{componentClass:newComponentClass}=newCompDetails;return!(oldComponentClass===newComponentClass||oldComponentClass?.render&&newComponentClass?.render&&oldComponentClass.render===newComponentClass.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some((col=>col.getColDef().floatingFilter))}getColumnFilterInstance(key){return new Promise((resolve=>{this.getFilterInstanceImpl(key).then((filter=>{resolve(_unwrapUserComp(filter))}))}))}getFilterInstanceImpl(key){const column=this.beans.colModel.getColDefCol(key);if(!column)return AgPromise.resolve(void 0);const filterPromise=this.getOrCreateFilterWrapper(column)?.filterPromise;return filterPromise??AgPromise.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((({model,source})=>this.setFilterModel(model,source))),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((({key,model,resolve})=>{this.setColumnFilterModel(key,model).then((()=>resolve()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(key){const filterWrapper=this.getFilterWrapper(key);return filterWrapper?this.getModelFromFilterWrapper(filterWrapper):null}setColumnFilterModel(key,model){const{colModel,dataTypeSvc}=this.beans;if(dataTypeSvc?.isPendingInference){let resolve=()=>{};const promise=new Promise((res=>{resolve=res}));return this.columnFilterModelUpdateQueue.push({key,model,resolve}),promise}const column=colModel.getColDefCol(key),filterWrapper=column?this.getOrCreateFilterWrapper(column):null;return filterWrapper?(promise=setModelOnFilterWrapper(filterWrapper.filterPromise,model),new Promise((resolve=>{promise.then((result=>resolve(result)))}))):Promise.resolve();var promise}getFilterWrapper(key){const column=this.beans.colModel.getColDefCol(key);return column?this.cachedFilter(column)??null:null}setColDefPropertiesForDataType(colDef,dataTypeDefinition,formatValue){const usingSetFilter=_isSetFilterByDefault(this.gos),translate=this.getLocaleTextFunc(),mergeFilterParams=params=>{const{filterParams}=colDef;colDef.filterParams="object"==typeof filterParams?{...filterParams,...params}:params};switch(dataTypeDefinition.baseDataType){case"number":usingSetFilter&&mergeFilterParams({comparator:setFilterNumberComparator});break;case"boolean":mergeFilterParams(usingSetFilter?{valueFormatter:params=>_exists(params.value)?translate(String(params.value),params.value?"True":"False"):translate("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(_filterValues,cellValue)=>cellValue,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(_filterValues,cellValue)=>!1===cellValue,numberOfInputs:0}]});break;case"date":mergeFilterParams(usingSetFilter?{valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListFormatter:(pathKey,level)=>{if("NaN"===pathKey)return translate("invalidDate","Invalid Date");if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return pathKey??translate("blanks","(Blanks)")}}:{isValidDate});break;case"dateString":{const convertToDate=dataTypeDefinition.dateParser;mergeFilterParams(usingSetFilter?{valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListPathGetter:value=>{const date=convertToDate(value??void 0);return date?[String(date.getFullYear()),String(date.getMonth()+1),String(date.getDate())]:null},treeListFormatter:(pathKey,level)=>{if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return pathKey??translate("blanks","(Blanks)")}}:{comparator:(filterDate,cellValue)=>{const cellAsDate=convertToDate(cellValue);return null==cellValue||cellAsDate<filterDate?-1:cellAsDate>filterDate?1:0},isValidDate:value=>"string"==typeof value&&isValidDate(convertToDate(value))});break}case"object":usingSetFilter?mergeFilterParams({valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")}}):colDef.filterValueGetter=params=>formatValue({column:params.column,node:params.node,value:this.beans.valueSvc.getValue(params.column,params.node)})}}setColFilterActive(column,active,source,additionalEventAttributes){column.filterActive!==active&&(column.filterActive=active,column.dispatchColEvent("filterActiveChanged",source)),column.dispatchColEvent("filterChanged",source,additionalEventAttributes)}destroy(){super.destroy(),this.allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"gridDestroyed"))),this.allColumnListeners.clear()}},class extends BeanStub{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(beans){this.popupSvc=beans.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(column,mouseEvent,containerType,onClosedCallback){this.showPopup(column,(eMenu=>{this.popupSvc?.positionPopupUnderMouseEvent({column,type:containerType,mouseEvent,ePopup:eMenu})}),containerType,mouseEvent.target,_isLegacyMenuEnabled(this.gos),onClosedCallback)}showMenuAfterButtonClick(column,eventSource,containerType,onClosedCallback){let multiplier=-1,alignSide="left";const isLegacyMenuEnabled=_isLegacyMenuEnabled(this.gos);!isLegacyMenuEnabled&&this.gos.get("enableRtl")&&(multiplier=1,alignSide="right");const nudgeX=isLegacyMenuEnabled?void 0:4*multiplier,nudgeY=isLegacyMenuEnabled?void 0:4;this.showPopup(column,(eMenu=>{this.popupSvc?.positionPopupByComponent({type:containerType,eventSource,ePopup:eMenu,nudgeX,nudgeY,alignSide,keepWithinBounds:!0,position:"under",column})}),containerType,eventSource,isLegacyMenuEnabled,onClosedCallback)}showPopup(column,positionCallback,containerType,eventSource,isLegacyMenuEnabled,onClosedCallback){const comp=column?this.createBean(new FilterWrapperComp(column,"COLUMN_MENU")):void 0;if(this.activeMenu=comp,!comp?.hasFilter()||!column)return void _error(57);const eMenu=document.createElement("div");let hidePopup;_setAriaRole(eMenu,"presentation"),eMenu.classList.add("ag-menu"),isLegacyMenuEnabled||eMenu.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(eMenu,{keydown:e=>this.trapFocusWithin(e,eMenu)}),eMenu.appendChild(comp?.getGui());const anchorToElement=function _isColumnMenuAnchoringEnabled(gos){return!_isLegacyMenuEnabled(gos)}(this.gos)?eventSource??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,translate=this.getLocaleTextFunc(),ariaLabel=isLegacyMenuEnabled&&"columnFilter"!==containerType?translate("ariaLabelColumnMenu","Column Menu"):translate("ariaLabelColumnFilter","Column Filter"),addPopupRes=this.popupSvc?.addPopup({modal:!0,eChild:eMenu,closeOnEsc:!0,closedCallback:e=>{_setColMenuVisible(column,!1,"contextMenu");const isKeyboardEvent=e instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),isKeyboardEvent&&eventSource&&_isVisible(eventSource)){const focusableEl=_findTabbableParent(eventSource);focusableEl?.focus({preventScroll:!0})}comp?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,containerType,column),onClosedCallback?.()},positionCallback:()=>positionCallback(eMenu),anchorToElement,ariaLabel});addPopupRes&&(this.hidePopup=hidePopup=addPopupRes.hideFunc),comp.afterInit().then((()=>{positionCallback(eMenu),comp.afterGuiAttached({container:containerType,hidePopup})})),_setColMenuVisible(column,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,containerType,column)}trapFocusWithin(e,menu){e.key!==KeyCode_TAB||e.defaultPrevented||_findNextFocusableElement(this.beans,menu,!1,e.shiftKey)||(e.preventDefault(),_focusInto(menu,e.shiftKey))}dispatchVisibleChangedEvent(visible,containerType,column){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible,switchingTab:!1,key:containerType,column:column??null,columnGroup:null})}isMenuEnabled(column){return column.isFilterAllowed()&&(column.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}}],dynamicBeans:{headerFilterCellCtrl:class extends AbstractHeaderCellCtrl{constructor(){super(...arguments),this.iconCreated=!1}setComp(comp,eGui,eButtonShowMainFilter,eFloatingFilterBody,compBeanInput){this.comp=comp;const compBean=setupCompBean(this,this.beans.context,compBeanInput);this.eButtonShowMainFilter=eButtonShowMainFilter,this.eFloatingFilterBody=eFloatingFilterBody,this.setGui(eGui,compBean),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(compBean),this.setupLeft(compBean),this.setupHover(compBean),this.setupFocus(compBean),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(compBean),this.setupUi(),compBean.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(compBean),compBean.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(compBean)}),compBean.addDestroyFunc((()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()}))}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column,beans}=this,colDef=column.colDef;return _addGridCommonParams(beans.gos,{colDef,column,floatingFilter:!0})}setupActive(){const colDef=this.column.getColDef(),filterExists=!!colDef.filter,floatingFilterExists=!!colDef.floatingFilter;this.active=filterExists&&floatingFilterExists}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const eMenuIcon=_createIconNoSpan("filter",this.beans,this.column);eMenuIcon&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(eMenuIcon))}setupFocus(compBean){compBean.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const localeTextFunc=this.getLocaleTextFunc();_setAriaLabel(this.eButtonShowMainFilter,localeTextFunc("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans}=this;if(_getActiveDomElement(beans)===this.eGui)return;const nextFocusableEl=_findNextFocusableElement(beans,this.eGui,null,e.shiftKey);if(nextFocusableEl)return beans.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),void nextFocusableEl.focus();const nextFocusableColumn=this.findNextColumnWithFloatingFilter(e.shiftKey);nextFocusableColumn&&beans.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:nextFocusableColumn},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(backwards){const presentedColsService=this.beans.visibleCols;let nextCol=this.column;do{if(nextCol=backwards?presentedColsService.getColBefore(nextCol):presentedColsService.getColAfter(nextCol),!nextCol)break}while(!nextCol.getColDef().filter||!nextCol.getColDef().floatingFilter);return nextCol}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode_UP:case KeyCode_DOWN:wrapperHasFocus||e.preventDefault();case KeyCode_LEFT:case KeyCode_RIGHT:if(wrapperHasFocus)return;e.stopPropagation();case KeyCode_ENTER:wrapperHasFocus&&_focusInto(this.eGui)&&e.preventDefault();break;case KeyCode_ESCAPE:wrapperHasFocus||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const notFromHeaderWrapper=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),fromWithinHeader=!!e.relatedTarget&&_isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(notFromHeaderWrapper&&fromWithinHeader&&e.target===this.eGui){const lastFocusEvent=this.lastFocusEvent,fromTab=!(!lastFocusEvent||lastFocusEvent.key!==KeyCode_TAB);if(lastFocusEvent&&fromTab){const shouldFocusLast=lastFocusEvent.shiftKey;_focusInto(this.eGui,shouldFocusLast)}}this.focusThis()}setupHover(compBean){this.beans.colHover?.addHeaderFilterColumnHoverListener(compBean,this.comp,this.column,this.eGui)}setupLeft(compBean){const setLeftFeature=new SetLeftFeature(this.column,this.eGui,this.beans);compBean.createManagedBean(setLeftFeature)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!_isLegacyMenuEnabled(this.gos)}setupUserComp(){if(!this.active)return;const compDetails=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));compDetails&&this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setCompDetails(compDetails)}showParentFilter(){const eventSource=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:eventSource,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(compBean){if(!this.active)return;const{filterManager}=this.beans,syncWithFilter=event=>{if("filterDestroyed"===event?.source&&!this.isAlive())return;const compPromise=this.comp.getFloatingFilterComp();compPromise&&compPromise.then((comp=>{if(comp){const parentModel=filterManager?.getCurrentFloatingFilterParentModel(this.column),filterChangedEvent=event?{...event,columns:event.columns??[],source:"api"===event.source?"api":"columnFilter"}:null;comp.onParentModelChanged(parentModel,filterChangedEvent)}}))};[this.destroySyncListener]=compBean.addManagedListeners(this.column,{filterChanged:syncWithFilter}),filterManager?.isFilterActive(this.column)&&syncWithFilter(null)}setupWidth(compBean){const listener=()=>{const width=`${this.column.getActualWidth()}px`;this.comp.setWidth(width)};compBean.addManagedListeners(this.column,{widthChanged:listener}),listener()}setupFilterChangedListener(compBean){this.active&&([this.destroyFilterChangedListener]=compBean.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const isFilterAllowed=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(isFilterAllowed),this.highlightFilterButtonWhenActive&&isFilterAllowed&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(compBean){const wasActive=this.active;this.setupActive();const becomeActive=!wasActive&&this.active;wasActive&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const newCompDetails=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,compPromise=this.comp.getFloatingFilterComp();compPromise&&newCompDetails?compPromise.then((compInstance=>{!compInstance||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,newCompDetails)?this.updateCompDetails(compBean,newCompDetails,becomeActive):this.updateFloatingFilterParams(newCompDetails)})):this.updateCompDetails(compBean,newCompDetails,becomeActive)}updateCompDetails(compBean,compDetails,becomeActive){this.isAlive()&&(this.setCompDetails(compDetails),this.setupFilterButton(),this.setupUi(),becomeActive&&(this.setupSyncWithFilter(compBean),this.setupFilterChangedListener(compBean)))}updateFloatingFilterParams(userCompDetails){if(!userCompDetails)return;const params=userCompDetails.params;this.comp.getFloatingFilterComp()?.then((floatingFilter=>{floatingFilter?.refresh&&"function"==typeof floatingFilter.refresh&&floatingFilter.refresh(params)}))}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:function isColumnFilterPresent(beans){const filterManager=beans.filterManager;return!!filterManager?.isColumnFilterPresent()||!!filterManager?.isAggregateFilterPresent()},getColumnFilterInstance:function getColumnFilterInstance(beans,key){return beans.filterManager?.getColumnFilterInstance(key)??Promise.resolve(void 0)},destroyFilter:function destroyFilter(beans,key){const column=beans.colModel.getColDefCol(key);if(column)return beans.filterManager?.destroyFilter(column,"api")},setFilterModel:function setFilterModel(beans,model){beans.frameworkOverrides.wrapIncoming((()=>beans.filterManager?.setFilterModel(model)))},getFilterModel:function getFilterModel(beans){return beans.filterManager?.getFilterModel()??{}},getColumnFilterModel:function getColumnFilterModel(beans,column){return beans.filterManager?.getColumnFilterModel(column)??null},setColumnFilterModel:function setColumnFilterModel(beans,column,model){return beans.filterManager?.setColumnFilterModel(column,model)??Promise.resolve()},showColumnFilter:function showColumnFilter(beans,colKey){const column=beans.colModel.getCol(colKey);column?beans.menuSvc?.showFilterMenu({column,containerType:"columnFilter",positionBy:"auto"}):_error(12,{colKey})}},dependsOn:[FilterCoreModule,PopupModule,FilterValueModule,SharedMenuModule]},CustomFilterModule={moduleName:"CustomFilter",version:VERSION,userComponents:{agReadOnlyFloatingFilter:class extends Component{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[AgInputTextFieldSelector]),this.eFloatingFilterText=null}init(params){this.params=params;const displayName=this.beans.colNames.getDisplayNameForColumn(params.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${displayName} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(parentModel){null!=parentModel?this.params.parentFilterInstance((filterInstance=>{if(filterInstance.getModelAsString){const modelAsString=filterInstance.getModelAsString(parentModel);this.eFloatingFilterText.setValue(modelAsString)}})):this.eFloatingFilterText.setValue("")}refresh(params){this.init(params)}}},dependsOn:[ColumnFilterModule]},TextFilterModule={moduleName:"TextFilter",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agTextColumnFilter:class extends SimpleFilter{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=from=>from,this.defaultLowercaseFormatter=from=>null==from?null:from.toString().toLowerCase(),this.defaultMatcher=({filterOption,value,filterText})=>{if(null==filterText)return!1;switch(filterOption){case"contains":return value.indexOf(filterText)>=0;case"notContains":return value.indexOf(filterText)<0;case"equals":return value===filterText;case"notEqual":return value!=filterText;case"startsWith":return 0===value.indexOf(filterText);case"endsWith":{const index=value.lastIndexOf(filterText);return index>=0&&index===value.length-filterText.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(params){this.textFilterParams=params,super.setParams(params),this.matcher=params.textMatcher||this.defaultMatcher,this.formatter=params.textFormatter||(params.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new TextFilterModelFormatter(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(position){const type=this.getConditionType(position),model={filterType:this.filterType,type},values=this.getValuesWithSideEffects(position,!0);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}getInputs(position){const{eValuesFrom,eValuesTo}=this;return position>=eValuesFrom.length?[null,null]:[eValuesFrom[position],eValuesTo[position]]}getValues(position){return this.getValuesWithSideEffects(position,!1)}getValuesWithSideEffects(position,applySideEffects){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{if(index<numberOfInputs){let value=_makeNull(element.getValue());applySideEffects&&this.textFilterParams.trimInput&&(value=trimInputForFilter(value)??null,element.setValue(value,!0)),result.push(value)}})),result}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}createValueElement(){const eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),_setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from"),this.createFromToElement(eCondition,this.eValuesTo,"to"),eCondition}createFromToElement(eCondition,eValues,fromTo){const eValue=this.createManagedBean(new AgInputTextField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){const removeComps=eGui=>this.removeComponents(eGui,startPosition,deleteCount);removeComps(this.eValuesFrom),removeComps(this.eValuesTo)}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[filter||null,filterTo||null].slice(0,this.getNumberOfInputs(type))}evaluateNullValue(filterType){return!!filterType&&["notEqual","notContains","blank"].indexOf(filterType)>=0}evaluateNonNullValue(values,cellValue,filterModel,params){const formattedValues=values.map((v=>this.formatter(v)))||[],cellValueFormatted=this.formatter(cellValue),{api,colDef,column,context,textFormatter}=this.textFilterParams;if("blank"===filterModel.type)return isBlank(cellValue);if("notBlank"===filterModel.type)return!isBlank(cellValue);const matcherParams={api,colDef,column,context,node:params.node,data:params.data,filterOption:filterModel.type,value:cellValueFormatted,textFormatter};return formattedValues.some((v=>this.matcher({...matcherParams,filterText:v})))}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}},agTextColumnFloatingFilter:class extends TextInputFloatingFilter{init(params){super.init(params),this.filterModelFormatter=new TextFilterModelFormatter(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(params){super.refresh(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService)}}}},NumberFilterModule={moduleName:"NumberFilter",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agNumberColumnFilter:class extends ScalarFilter{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(params){return this.numberFilterParams.allowedCharPattern===params.allowedCharPattern&&super.refresh(params)}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[this.processValue(filter),this.processValue(filterTo)].slice(0,this.getNumberOfInputs(type))}comparator(){return(left,right)=>left===right?0:left<right?1:-1}isValid(value){return!isNaN(value)}setParams(params){this.numberFilterParams=params,super.setParams(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}setElementValue(element,value,fromFloatingFilter){const{numberFormatter}=this.numberFilterParams,valueToSet=!fromFloatingFilter&&numberFormatter?numberFormatter(value??null):value;super.setElementValue(element,valueToSet)}createValueElement(){const allowedCharPattern=getAllowedCharPattern(this.numberFilterParams),eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),_setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from",allowedCharPattern),this.createFromToElement(eCondition,this.eValuesTo,"to",allowedCharPattern),eCondition}createFromToElement(eCondition,eValues,fromTo,allowedCharPattern){const eValue=this.createManagedBean(allowedCharPattern?new AgInputTextField({allowedCharPattern}):new AgInputNumberField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){const removeComps=eGui=>this.removeComponents(eGui,startPosition,deleteCount);removeComps(this.eValuesFrom),removeComps(this.eValuesTo)}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(this.processValue(this.stringToFloat(element.getValue())))})),result}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}processValue(value){return null==value||isNaN(value)?null:value}stringToFloat(value){if("number"==typeof value)return value;let filterText=_makeNull(value);null!=filterText&&""===filterText.trim()&&(filterText=null);const numberParser=this.numberFilterParams.numberParser;return numberParser?numberParser(filterText):null==filterText||"-"===filterText.trim()?null:parseFloat(filterText)}createCondition(position){const type=this.getConditionType(position),model={filterType:this.filterType,type},values=this.getValues(position);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}getInputs(position){const{eValuesFrom,eValuesTo}=this;return position>=eValuesFrom.length?[null,null]:[eValuesFrom[position],eValuesTo[position]]}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}hasInvalidInputs(){let invalidInputs=!1;return this.forEachInput((element=>{element.getInputElement().validity.valid||(invalidInputs=!0)})),invalidInputs}},agNumberColumnFloatingFilter:class extends TextInputFloatingFilter{init(params){super.init(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.getLocaleTextFunc.bind(this),this.optionsFactory,params.filterParams?.numberFormatter)}refresh(params){getAllowedCharPattern(params.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(params),super.refresh(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}createFloatingFilterInputService(params){return this.allowedCharPattern=getAllowedCharPattern(params.filterParams),this.allowedCharPattern?this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FloatingFilterNumberInputService)}}}},DateFilterModule={moduleName:"DateFilter",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agDateColumnFilter:class extends ScalarFilter{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=Infinity,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(params){super.afterGuiAttached(params),this.dateConditionFromComps[0].afterGuiAttached(params)}mapValuesFromModel(filterModel){const{dateFrom,dateTo,type}=filterModel||{};return[dateFrom&&_parseDateTimeFromString(dateFrom)||null,dateTo&&_parseDateTimeFromString(dateTo)||null].slice(0,this.getNumberOfInputs(type))}comparator(){return this.dateFilterParams.comparator??defaultDateComparator}isValid(value){const isValidDate2=this.dateFilterParams.isValidDate;return!isValidDate2||isValidDate2(value)}setParams(params){this.dateFilterParams=params,super.setParams(params);const yearParser=(param,fallback)=>{if(null!=params[param]){if(!isNaN(params[param]))return null==params[param]?fallback:Number(params[param]);_warn(82,{param})}return fallback};this.minValidYear=yearParser("minValidYear",1e3),this.maxValidYear=yearParser("maxValidYear",Infinity),this.minValidYear>this.maxValidYear&&_warn(83),this.minValidDate=params.minValidDate?params.minValidDate instanceof Date?params.minValidDate:_parseDateTimeFromString(params.minValidDate):null,this.maxValidDate=params.maxValidDate?params.maxValidDate instanceof Date?params.maxValidDate:_parseDateTimeFromString(params.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&_warn(84),this.filterModelFormatter=new DateFilterModelFormatter(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(element){const{userCompFactory,context,gos}=this.beans,dateCompWrapper=new DateCompWrapper(context,userCompFactory,_addGridCommonParams(gos,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),element);return this.addDestroyFunc((()=>dateCompWrapper.destroy())),dateCompWrapper}setElementValue(element,value){element.setDate(value)}setElementDisplayed(element,displayed){element.setDisplayed(displayed)}setElementDisabled(element,disabled){element.setDisabled(disabled)}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}createValueElement(){const eCondition=_getDocument(this.beans).createElement("div");return eCondition.classList.add("ag-filter-body"),this.createFromToElement(eCondition,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(eCondition,this.eConditionPanelsTo,this.dateConditionToComps,"to"),eCondition}createFromToElement(eCondition,eConditionPanels,dateConditionComps,fromTo){const eConditionPanel=_getDocument(this.beans).createElement("div");eConditionPanel.classList.add(`ag-filter-${fromTo}`),eConditionPanel.classList.add(`ag-filter-date-${fromTo}`),eConditionPanels.push(eConditionPanel),eCondition.appendChild(eConditionPanel),dateConditionComps.push(this.createDateCompWrapper(eConditionPanel))}removeValueElements(startPosition,deleteCount){this.removeDateComps(this.dateConditionFromComps,startPosition,deleteCount),this.removeDateComps(this.dateConditionToComps,startPosition,deleteCount),removeItems(this.eConditionPanelsFrom,startPosition,deleteCount),removeItems(this.eConditionPanelsTo,startPosition,deleteCount)}removeDateComps(components,startPosition,deleteCount){removeItems(components,startPosition,deleteCount).forEach((comp=>comp.destroy()))}isValidDateValue(value){if(null===value)return!1;const{minValidDate,maxValidDate,minValidYear,maxValidYear}=this;if(minValidDate){if(value<minValidDate)return!1}else if(value.getUTCFullYear()<minValidYear)return!1;if(maxValidDate){if(value>maxValidDate)return!1}else if(value.getUTCFullYear()>maxValidYear)return!1;return!0}isConditionUiComplete(position){if(!super.isConditionUiComplete(position))return!1;let valid=!0;return this.forEachInput(((element,index,elPosition,numberOfInputs)=>{elPosition!==position||!valid||index>=numberOfInputs||(valid=valid&&this.isValidDateValue(element.getDate()))})),valid}areSimpleModelsEqual(aSimple,bSimple){return aSimple.dateFrom===bSimple.dateFrom&&aSimple.dateTo===bSimple.dateTo&&aSimple.type===bSimple.type}createCondition(position){const type=this.getConditionType(position),model={},values=this.getValues(position);return values.length>0&&(model.dateFrom=_serialiseDate(values[0])),values.length>1&&(model.dateTo=_serialiseDate(values[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type,...model}}resetPlaceholder(){const globalTranslate=this.getLocaleTextFunc(),placeholder=this.translate("dateFormatOoo"),ariaLabel=globalTranslate("ariaFilterValue","Filter Value");this.forEachInput((element=>{element.setInputPlaceholder(placeholder),element.setInputAriaLabel(ariaLabel)}))}getInputs(position){const{dateConditionFromComps,dateConditionToComps}=this;return position>=dateConditionFromComps.length?[null,null]:[dateConditionFromComps[position],dateConditionToComps[position]]}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(element.getDate())})),result}translate(key){return"lessThan"===key?super.translate("before"):"greaterThan"===key?super.translate("after"):super.translate(key)}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}},agDateInput:class extends Component{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[AgInputTextFieldSelector]),this.eDateInput=null,this.isApply=!1,this.applyOnFocusOut=!1}init(params){this.params=params,this.setParams(params);const inputElement=this.eDateInput.getInputElement();this.addManagedListeners(inputElement,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||inputElement.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(isChange,e){if(e.target===_getActiveDomElement(this.beans)&&!this.eDateInput.isDisabled())return this.isApply?(this.applyOnFocusOut=!isChange,void(isChange&&this.params.onDateChanged())):void(isChange||this.params.onDateChanged())}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(params){const inputElement=this.eDateInput.getInputElement(),shouldUseBrowserDatePicker=this.shouldUseBrowserDatePicker(params);this.usingSafariDatePicker=shouldUseBrowserDatePicker&&_isBrowserSafari(),inputElement.type=shouldUseBrowserDatePicker?"date":"text";const{minValidYear,maxValidYear,minValidDate,maxValidDate,buttons}=params.filterParams||{};if(minValidDate&&minValidYear&&_warn(85),maxValidDate&&maxValidYear&&_warn(86),minValidDate&&maxValidDate){const[parsedMinValidDate,parsedMaxValidDate]=[minValidDate,maxValidDate].map((v=>v instanceof Date?v:_parseDateTimeFromString(v)));parsedMinValidDate&&parsedMaxValidDate&&parsedMinValidDate.getTime()>parsedMaxValidDate.getTime()&&_warn(87)}minValidDate?minValidDate instanceof Date?inputElement.min=_dateToFormattedString(minValidDate):inputElement.min=minValidDate:minValidYear&&(inputElement.min=`${minValidYear}-01-01`),maxValidDate?maxValidDate instanceof Date?inputElement.max=_dateToFormattedString(maxValidDate):inputElement.max=maxValidDate:maxValidYear&&(inputElement.max=`${maxValidYear}-12-31`),this.isApply="floatingFilter"===params.location&&!!buttons?.includes("apply")}refresh(params){this.params=params,this.setParams(params)}getDate(){return _parseDateTimeFromString(this.eDateInput.getValue())}setDate(date){this.eDateInput.setValue(_serialiseDate(date,!1))}setInputPlaceholder(placeholder){this.eDateInput.setInputPlaceholder(placeholder)}setInputAriaLabel(ariaLabel){this.eDateInput.setAriaLabel(ariaLabel)}setDisabled(disabled){this.eDateInput.setDisabled(disabled)}afterGuiAttached(params){params&&params.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(params){return params?.filterParams?.browserDatePicker??!0}},agDateColumnFloatingFilter:class extends SimpleFloatingFilter{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[AgInputTextFieldSelector]),this.eReadOnlyText=null,this.eDateWrapper=null}getDefaultOptions(){return DEFAULT_DATE_FILTER_OPTIONS}init(params){super.init(params),this.params=params,this.filterParams=params.filterParams,this.createDateComponent(),this.filterModelFormatter=new DateFilterModelFormatter(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const translate=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(translate("ariaDateFilterInput","Date Filter Input"))}refresh(params){super.refresh(params),this.params=params,this.filterParams=params.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(params.currentParentModel())}updateCompOnModelChange(model){const allowEditing=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(model);if(this.setEditable(allowEditing),allowEditing){const dateModel=model?_parseDateTimeFromString(model.dateFrom):null;this.dateComp.setDate(dateModel),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(model)),this.dateComp.setDate(null)}setEditable(editable){_setDisplayed(this.eDateWrapper,editable),_setDisplayed(this.eReadOnlyText.getGui(),!editable)}onParentModelChanged(model,event){event?.afterFloatingFilter||event?.afterDataChange||(super.setLastTypeFromModel(model),this.updateCompOnModelChange(model))}onDateChanged(){const filterValueText=_serialiseDate(this.dateComp.getDate());this.params.parentFilterInstance((filterInstance=>{if(filterInstance){const date=_parseDateTimeFromString(filterValueText);filterInstance.onFloatingFilterChanged(this.lastType||null,date)}}))}getDateComponentParams(){const{filterParams,column}=this.params,debounceMs=getDebounceMs(filterParams,this.defaultDebounceMs);return _addGridCommonParams(this.gos,{onDateChanged:_debounce(this,this.onDateChanged.bind(this),debounceMs),filterParams:column.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context,userCompFactory},eDateWrapper}=this;this.dateComp=new DateCompWrapper(context,userCompFactory,this.getDateComponentParams(),eDateWrapper,(dateComp=>{dateComp.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}}}},QuickFilterModule={moduleName:"QuickFilter",version:VERSION,apiFunctions:{isQuickFilterPresent:function isQuickFilterPresent(beans){return!!beans.quickFilter?.isFilterPresent()},getQuickFilter:function getQuickFilter(beans){return beans.quickFilter?.getText()},resetQuickFilter:function resetQuickFilter(beans){beans.quickFilter?.resetCache()}},dependsOn:[{moduleName:"QuickFilterCore",version:VERSION,rowModels:["clientSide"],beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const resetListener=this.resetCache.bind(this),gos=this.gos;this.addManagedEventListeners({columnPivotModeChanged:resetListener,newColumnsLoaded:resetListener,columnRowGroupChanged:resetListener,columnVisible:()=>{gos.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onColumnConfigChanged())),this.quickFilter=this.parseFilter(gos.get("quickFilterText")),this.parser=gos.get("quickFilterParser"),this.matcher=gos.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setParserAndMatcher()))}refreshCols(){const{autoColSvc,colModel,gos,pivotResultCols}=this.beans,pivotMode=colModel.isPivotMode(),groupAutoCols=autoColSvc?.getColumns(),providedCols=colModel.getColDefCols();let columnsForQuickFilter=(pivotMode&&!gos.get("applyQuickFilterBeforePivotOrAgg")?pivotResultCols?.getPivotResultCols()?.list:providedCols)??[];groupAutoCols&&(columnsForQuickFilter=columnsForQuickFilter.concat(groupAutoCols)),this.colsToUse=gos.get("includeHiddenColumnsInQuickFilter")?columnsForQuickFilter:columnsForQuickFilter.filter((col=>col.isVisible()||col.isRowGroupActive()))}isFilterPresent(){return null!==this.quickFilter}doesRowPass(node){const usingCache=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(usingCache,node):this.quickFilterParts.every((part=>usingCache?this.doesRowPassCache(node,part):this.doesRowPassNoCache(node,part)))}resetCache(){this.beans.rowModel.forEachNode((node=>node.quickFilterAggregateText=null))}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter,parser}=this;this.quickFilterParts=quickFilter?parser?parser(quickFilter):quickFilter.split(" "):null}parseFilter(newFilter){return _exists(newFilter)?newFilter.toUpperCase():null}setFilter(newFilter){if(null!=newFilter&&"string"!=typeof newFilter)return void _warn(70,{newFilter});const parsedFilter=this.parseFilter(newFilter);this.quickFilter!==parsedFilter&&(this.quickFilter=parsedFilter,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const parser=this.gos.get("quickFilterParser"),matcher=this.gos.get("quickFilterMatcher"),hasChanged=parser!==this.parser||matcher!==this.matcher;this.parser=parser,this.matcher=matcher,hasChanged&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(node,filterPart){return this.colsToUse.some((column=>{const part=this.getTextForColumn(column,node);return _exists(part)&&part.indexOf(filterPart)>=0}))}doesRowPassCache(node,filterPart){return this.checkGenerateAggText(node),node.quickFilterAggregateText.indexOf(filterPart)>=0}doesRowPassMatcher(usingCache,node){let quickFilterAggregateText;usingCache?(this.checkGenerateAggText(node),quickFilterAggregateText=node.quickFilterAggregateText):quickFilterAggregateText=this.getAggText(node);const{quickFilterParts,matcher}=this;return matcher(quickFilterParts,quickFilterAggregateText)}checkGenerateAggText(node){node.quickFilterAggregateText||(node.quickFilterAggregateText=this.getAggText(node))}getTextForColumn(column,node){let value=this.beans.filterValueSvc.getValue(column,node);const colDef=column.getColDef();if(colDef.getQuickFilterText){const params=_addGridCommonParams(this.gos,{value,node,data:node.data,column,colDef});value=colDef.getQuickFilterText(params)}return _exists(value)?value.toString().toUpperCase():null}getAggText(node){const stringParts=[];return this.colsToUse.forEach((column=>{const part=this.getTextForColumn(column,node);_exists(part)&&stringParts.push(part)})),stringParts.join("\n")}}],dependsOn:[FilterCoreModule,FilterValueModule]}]},ExternalFilterModule={moduleName:"ExternalFilter",version:VERSION,dependsOn:[FilterCoreModule]},UndoRedoAction=class{constructor(cellValueChanges){this.cellValueChanges=cellValueChanges}},RangeUndoRedoAction=class extends UndoRedoAction{constructor(cellValueChanges,initialRange,finalRange,ranges){super(cellValueChanges),this.initialRange=initialRange,this.finalRange=finalRange,this.ranges=ranges}},UndoRedoStack=class{constructor(maxStackSize){this.actionStack=[],this.maxStackSize=maxStackSize||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(item){item.cellValueChanges&&item.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(item))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},SimpleCellEditor=class extends PopupComponent{constructor(cellEditorInput){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${cellEditorInput.getTemplate()}\n            </div>`,cellEditorInput.getAgComponents()),this.cellEditorInput=cellEditorInput,this.eInput=null}init(params){this.params=params;const{cellStartedEdit,eventKey,suppressPreventDefault}=params,eInput=this.eInput;let startValue;this.cellEditorInput.init(eInput,params);let shouldSetStartValue=!0;cellStartedEdit?(this.focusAfterAttached=!0,eventKey===KeyCode_BACKSPACE||eventKey===KeyCode_DELETE?startValue="":eventKey&&1===eventKey.length?suppressPreventDefault?shouldSetStartValue=!1:startValue=eventKey:(startValue=this.cellEditorInput.getStartValue(),eventKey!==KeyCode_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,startValue=this.cellEditorInput.getStartValue()),shouldSetStartValue&&null!=startValue&&eInput.setStartValue(startValue),this.addManagedElementListeners(eInput.getGui(),{keydown:event=>{const{key}=event;key!==KeyCode_PAGE_UP&&key!==KeyCode_PAGE_DOWN||event.preventDefault()}})}afterGuiAttached(){const translate=this.getLocaleTextFunc(),eInput=this.eInput;if(eInput.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_isBrowserSafari()||eInput.getFocusableElement().focus();const inputEl=eInput.getInputElement();this.highlightAllOnFocus?inputEl.select():this.cellEditorInput.setCaret?.()}focusIn(){const eInput=this.eInput,focusEl=eInput.getFocusableElement(),inputEl=eInput.getInputElement();focusEl.focus(),inputEl.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},DateCellEditorInput=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params;const{min,max,step}=params;null!=min&&eInput.setMin(min),null!=max&&eInput.setMax(max),null!=step&&eInput.setStep(step)}getValue(){const{eInput,params}=this,value=eInput.getDate();return _exists(value)||_exists(params.value)?value??null:params.value}getStartValue(){const{value}=this.params;if(value instanceof Date)return _serialiseDate(value,!1)}},DateStringCellEditorInput=class{constructor(getDataTypeService){this.getDataTypeService=getDataTypeService}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params;const{min,max,step}=params;null!=min&&eInput.setMin(min),null!=max&&eInput.setMax(max),null!=step&&eInput.setStep(step)}getValue(){const{params,eInput}=this,value=this.formatDate(eInput.getDate());return _exists(value)||_exists(params.value)?params.parseValue(value??""):params.value}getStartValue(){return _serialiseDate(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(value){const dataTypeSvc=this.getDataTypeService();return dataTypeSvc?dataTypeSvc.getDateParserFunction(this.params.column)(value):_parseDateTimeFromString(value)??void 0}formatDate(value){const dataTypeSvc=this.getDataTypeService();return dataTypeSvc?dataTypeSvc.getDateFormatterFunction(this.params.column)(value):_serialiseDate(value??null,!1)??void 0}},NumberCellEditorInput=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[AgInputNumberFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params;const{max,min,precision,step}=params;null!=max&&eInput.setMax(max),null!=min&&eInput.setMin(min),null!=precision&&eInput.setPrecision(precision),null!=step&&eInput.setStep(step);const inputEl=eInput.getInputElement();params.preventStepping?eInput.addManagedElementListeners(inputEl,{keydown:this.preventStepping}):params.showStepperButtons&&inputEl.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==KeyCode_UP&&e.key!==KeyCode_DOWN||e.preventDefault()}getValue(){const{eInput,params}=this,value=eInput.getValue();if(!_exists(value)&&!_exists(params.value))return params.value;let parsedValue=params.parseValue(value);if(null==parsedValue)return parsedValue;if("string"==typeof parsedValue){if(""===parsedValue)return null;parsedValue=Number(parsedValue)}return isNaN(parsedValue)?null:parsedValue}getStartValue(){return this.params.value}setCaret(){_isBrowserSafari()&&this.eInput.getInputElement().focus({preventScroll:!0})}},TextCellEditorInput=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[AgInputTextFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params;const maxLength=params.maxLength;null!=maxLength&&eInput.setMaxLength(maxLength)}getValue(){const{eInput,params}=this,value=eInput.getValue();return _exists(value)||_exists(params.value)?params.parseValue(value):params.value}getStartValue(){const params=this.params;return params.useFormatter||params.column.getColDef().refData?params.formatValue(params.value):params.value}setCaret(){const eInput=this.eInput,value=eInput.getValue(),len=_exists(value)&&value.length||0;len&&eInput.getInputElement().setSelectionRange(len,len)}},TextCellEditor=class extends SimpleCellEditor{constructor(){super(new TextCellEditorInput)}};function ensureColumnVisible(beans,key,position="auto"){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsSvc.getScrollFeature().ensureColumnVisible(key,position)),"ensureVisible")}function ensureIndexVisible(beans,index,position){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsSvc.getScrollFeature().ensureIndexVisible(index,position)),"ensureVisible")}var PopupEditorWrapper=class extends PopupComponent{constructor(params){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=params}postConstruct(){_setDomData(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const eGui=this.getGui(),params=this.params;this.addManagedElementListeners(eGui,{keydown:event=>{_isUserSuppressingKeyboardEvent(this.gos,event,params.node,params.column,!0)||params.onKeyDown(event)}})}};function setEditing(cellCtrl,editing,compDetails){cellCtrl.editCompDetails=compDetails,cellCtrl.editing!==editing&&(cellCtrl.editing=editing)}var EditCoreModule={moduleName:"EditCore",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(cellCtrl,key=null,cellStartedEdit=!1,event=null){if(!cellCtrl.isCellEditable()||cellCtrl.editing)return!0;if(!cellCtrl.comp)return cellCtrl.onCompAttachedFuncs.push((()=>{this.startEditing(cellCtrl,key,cellStartedEdit,event)})),!0;const editorParams=this.createCellEditorParams(cellCtrl,key,cellStartedEdit),colDef=cellCtrl.column.getColDef(),compDetails=_getCellEditorDetails(this.beans.userCompFactory,colDef,editorParams),popup=null!=compDetails?.popupFromSelector?compDetails.popupFromSelector:!!colDef.cellEditorPopup,position=null!=compDetails?.popupPositionFromSelector?compDetails.popupPositionFromSelector:colDef.cellEditorPopupPosition;return setEditing(cellCtrl,!0,compDetails),cellCtrl.comp.setEditDetails(compDetails,popup,position,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(cellCtrl.createEvent(event,"cellEditingStarted")),!compDetails?.params?.suppressPreventDefault}stopEditing(cellCtrl,cancel=!1){if(cellCtrl.onEditorAttachedFuncs=[],!cellCtrl.editing)return!1;const{comp:cellComp,column,rowNode}=cellCtrl,{newValue,newValueExists}=function takeValueFromCellEditor(cancel,cellComp){const noValueResult={newValueExists:!1};if(cancel)return noValueResult;const cellEditor=cellComp.getCellEditor();if(!cellEditor)return noValueResult;if(cellEditor.isCancelAfterEnd&&cellEditor.isCancelAfterEnd())return noValueResult;const newValue=cellEditor.getValue();return{newValue,newValueExists:!0}}(cancel,cellComp),oldValue=this.beans.valueSvc.getValueForDisplay(column,rowNode);let valueChanged=!1;return newValueExists&&(valueChanged=function saveNewValue(cellCtrl,oldValue,newValue,rowNode,column){if(newValue===oldValue)return!1;cellCtrl.suppressRefreshCell=!0;const valueChanged=rowNode.setDataValue(column,newValue,"edit");return cellCtrl.suppressRefreshCell=!1,valueChanged}(cellCtrl,oldValue,newValue,rowNode,column)),setEditing(cellCtrl,!1,void 0),cellComp.setEditDetails(),cellCtrl.updateAndFormatValue(!1),cellCtrl.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...cellCtrl.createEvent(null,"cellEditingStopped"),oldValue,newValue,valueChanged}),valueChanged}handleColDefChanged(cellCtrl){const cellEditor=cellCtrl.comp?.getCellEditor();if(cellEditor?.refresh){const{eventKey,cellStartedEdit}=cellCtrl.editCompDetails.params,editorParams=this.createCellEditorParams(cellCtrl,eventKey,cellStartedEdit),colDef=cellCtrl.column.getColDef(),compDetails=_getCellEditorDetails(this.beans.userCompFactory,colDef,editorParams);cellEditor.refresh(compDetails.params)}}setFocusOutOnEditor(cellCtrl){if(!cellCtrl.editing)return;const cellEditor=cellCtrl.comp.getCellEditor();cellEditor&&cellEditor.focusOut&&cellEditor.focusOut()}setFocusInOnEditor(cellCtrl){if(!cellCtrl.editing)return;const cellComp=cellCtrl.comp,cellEditor=cellComp.getCellEditor();cellEditor?.focusIn?cellEditor.focusIn():(cellCtrl.focusCell(!0),cellCtrl.onEditorAttachedFuncs.push((()=>cellComp.getCellEditor()?.focusIn?.())))}stopEditingAndFocus(cellCtrl,suppressNavigateAfterEdit=!1,shiftKey=!1){this.stopRowOrCellEdit(cellCtrl),cellCtrl.focusCell(!0),suppressNavigateAfterEdit||this.navigateAfterEdit(shiftKey,cellCtrl.cellPosition)}createPopupEditorWrapper(params){return new PopupEditorWrapper(params)}stopAllEditing(cancel=!1){this.beans.rowRenderer.getAllRowCtrls().forEach((rowCtrl=>this.stopRowEditing(rowCtrl,cancel)))}stopRowEditing(rowCtrl,cancel=!1){if(rowCtrl.stoppingRowEdit)return;const cellControls=rowCtrl.getAllCellCtrls(),isRowEdit=rowCtrl.editing;rowCtrl.stoppingRowEdit=!0;let fireRowEditEvent=!1;for(const ctrl of cellControls){const valueChanged=ctrl.stopEditing(cancel);isRowEdit&&!cancel&&!fireRowEditEvent&&valueChanged&&(fireRowEditEvent=!0)}fireRowEditEvent&&this.eventSvc.dispatchEvent(rowCtrl.createRowEvent("rowValueChanged")),isRowEdit&&this.beans.rowEditSvc?.setEditing(rowCtrl,!1),rowCtrl.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(viewports){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const focusOutListener=event=>{const elementWithFocus=event.relatedTarget;if(null===_getTabIndex(elementWithFocus))return void this.stopAllEditing();let clickInsideGrid=viewports.some((viewport=>viewport.contains(elementWithFocus)))&&_isElementInThisGrid(this.gos,elementWithFocus);if(!clickInsideGrid){const popupSvc=this.beans.popupSvc;clickInsideGrid=!!popupSvc&&(popupSvc.getActivePopups().some((popup=>popup.contains(elementWithFocus)))||popupSvc.isElementWithinCustomPopup(elementWithFocus))}clickInsideGrid||this.stopAllEditing()};viewports.forEach((viewport=>this.addManagedElementListeners(viewport,{focusout:focusOutListener})))}setInlineEditingCss(rowCtrl){const editing=rowCtrl.editing||rowCtrl.getAllCellCtrls().some((cellCtrl=>cellCtrl.editing));rowCtrl.forEachGui(void 0,(gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-inline-editing",editing),gui.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!editing)}))}isCellEditable(column,rowNode){if(rowNode.group)if(this.gos.get("treeData")){if(!rowNode.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return column.isColumnFunc(rowNode,column.colDef.editable)}startRowOrCellEdit(cellCtrl,key,event=null){return cellCtrl.comp?"fullRow"===this.gos.get("editType")?this.beans.rowEditSvc?.startEditing(cellCtrl.rowCtrl,key,cellCtrl)??!0:this.startEditing(cellCtrl,key,!0,event):(cellCtrl.onCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(cellCtrl,key,event)})),!0)}stopRowOrCellEdit(cellCtrl,cancel=!1){"fullRow"===this.gos.get("editType")?this.stopRowEditing(cellCtrl.rowCtrl,cancel):this.stopEditing(cellCtrl,cancel)}createCellEditorParams(cellCtrl,key,cellStartedEdit){const{column,rowNode,cellPosition:{rowIndex}}=cellCtrl,{valueSvc,gos}=this.beans;return _addGridCommonParams(gos,{value:valueSvc.getValueForDisplay(column,rowNode),eventKey:key,column,colDef:column.getColDef(),rowIndex,node:rowNode,data:rowNode.data,cellStartedEdit,onKeyDown:cellCtrl.onKeyDown.bind(cellCtrl),stopEditing:cellCtrl.stopEditingAndFocus.bind(cellCtrl),eGridCell:cellCtrl.eGui,parseValue:newValue=>valueSvc.parseValue(column,rowNode,newValue,cellCtrl.value),formatValue:cellCtrl.formatValue.bind(cellCtrl)})}navigateAfterEdit(shiftKey,cellPosition){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const key=shiftKey?KeyCode_UP:KeyCode_DOWN;this.beans.navigation?.navigateToNextCell(null,key,cellPosition,!1)}}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(rowCtrl,key=null,sourceRenderedCell=null,event=null){if(rowCtrl.editing)return!0;let preventDefault=!0,atLeastOneEditing=!1;const{editSvc}=this.beans;return rowCtrl.getAllCellCtrls().forEach((cellCtrl=>{const cellStartedEdit=cellCtrl===sourceRenderedCell;cellStartedEdit?preventDefault=editSvc?.startEditing(cellCtrl,key,cellStartedEdit,event)??!0:editSvc?.startEditing(cellCtrl,null,cellStartedEdit,event),atLeastOneEditing||(atLeastOneEditing=cellCtrl.editing)})),atLeastOneEditing&&this.setEditing(rowCtrl,!0),preventDefault}setEditing(rowCtrl,value){rowCtrl.editing=value,rowCtrl.forEachGui(void 0,(gui=>gui.rowComp.addOrRemoveCssClass("ag-row-editing",value)));const event=value?rowCtrl.createRowEvent("rowEditingStarted"):rowCtrl.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(event)}}],apiFunctions:{getCellEditorInstances:function getCellEditorInstances(beans,params={}){const res=[];return beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>{const cellEditor=cellCtrl.comp?.getCellEditor();cellEditor&&res.push(_unwrapUserComp(cellEditor))})),res},getEditingCells:function getEditingCells(beans){const res=[];return beans.rowRenderer.getAllCellCtrls().forEach((cellCtrl=>{if(cellCtrl.editing){const{cellPosition}=cellCtrl;res.push(cellPosition)}})),res},stopEditing:function stopEditing(beans,cancel=!1){beans.editSvc?.stopAllEditing(cancel)},startEditingCell:function startEditingCell(beans,params){const column=beans.colModel.getCol(params.colKey);if(!column)return void _warn(12,{colKey:params.colKey});const cellPosition={rowIndex:params.rowIndex,rowPinned:params.rowPinned||null,column};null==params.rowPinned&&ensureIndexVisible(beans,params.rowIndex),ensureColumnVisible(beans,params.colKey);const cell=_getCellByPosition(beans,cellPosition);if(!cell)return;const{focusSvc,gos,editSvc}=beans,forceBrowserFocus=gos.get("stopEditingWhenCellsLoseFocus")&&(()=>{const activeElement=_getActiveDomElement(beans),eCell=cell.eGui;return activeElement!==eCell&&!!eCell?.contains(activeElement)})();!forceBrowserFocus&&focusSvc.isCellFocused(cellPosition)||focusSvc.setFocusedCell({...cellPosition,forceBrowserFocus,preventScrollOnBrowserFocus:!0}),editSvc?.startRowOrCellEdit(cell,params.key)}},dependsOn:[PopupModule],css:[".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}"]},UndoRedoEditModule={moduleName:"UndoRedoEdit",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=event=>{const eventCell={column:event.column,rowIndex:event.rowIndex,rowPinned:event.rowPinned},isCellEditing=null!==this.activeCellEdit&&_areCellsEqual(this.activeCellEdit,eventCell),isRowEditing=null!==this.activeRowEdit&&function _isSameRow(rowA,rowB){return!rowA&&!rowB||!(rowA&&!rowB||!rowA&&rowB)&&rowA.rowIndex===rowB.rowIndex&&rowA.rowPinned==rowB.rowPinned}(this.activeRowEdit,eventCell);if(!(isCellEditing||isRowEditing||this.isPasting||this.isRangeInAction))return;const{rowPinned,rowIndex,column,oldValue,value}=event,cellValueChange={rowPinned,rowIndex,columnId:column.getColId(),newValue:value,oldValue};this.cellValueChanges.push(cellValueChange)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos,ctrlsSvc}=this.beans;if(!gos.get("undoRedoCellEditing"))return;const undoRedoLimit=gos.get("undoRedoCellEditingLimit");if(undoRedoLimit<=0)return;this.undoStack=new UndoRedoStack(undoRedoLimit),this.redoStack=new UndoRedoStack(undoRedoLimit),this.addListeners();const listener=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:listener,newColumnsLoaded:listener,columnGroupOpened:listener,columnRowGroupChanged:listener,columnMoved:listener,columnPinned:listener,columnVisible:listener,rowDragEnd:listener}),ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(source){const{eventSvc,undoStack,redoStack}=this;eventSvc.dispatchEvent({type:"undoStarted",source});const operationPerformed=this.undoRedo(undoStack,redoStack,"initialRange","oldValue","undo");eventSvc.dispatchEvent({type:"undoEnded",source,operationPerformed})}redo(source){const{eventSvc,undoStack,redoStack}=this;eventSvc.dispatchEvent({type:"redoStarted",source});const operationPerformed=this.undoRedo(redoStack,undoStack,"finalRange","newValue","redo");eventSvc.dispatchEvent({type:"redoEnded",source,operationPerformed})}undoRedo(undoRedoStack,opposingUndoRedoStack,rangeProperty,cellValueChangeProperty,source){if(!undoRedoStack)return!1;const undoRedoAction=undoRedoStack.pop();return!(!undoRedoAction||!undoRedoAction.cellValueChanges)&&(this.processAction(undoRedoAction,(cellValueChange=>cellValueChange[cellValueChangeProperty]),source),undoRedoAction instanceof RangeUndoRedoAction?this.processRange(undoRedoAction.ranges||[undoRedoAction[rangeProperty]]):this.processCell(undoRedoAction.cellValueChanges),opposingUndoRedoStack.push(undoRedoAction),!0)}processAction(action,valueExtractor,source){action.cellValueChanges.forEach((cellValueChange=>{const{rowIndex,rowPinned,columnId}=cellValueChange,rowPosition={rowIndex,rowPinned},currentRow=_getRowNode(this.beans,rowPosition);currentRow.displayed&&currentRow.setDataValue(columnId,valueExtractor(cellValueChange),source)}))}processRange(ranges){let lastFocusedCell;const rangeSvc=this.beans.rangeSvc;rangeSvc.removeAllCellRanges(!0),ranges.forEach(((range,idx)=>{if(!range)return;const startRow=range.startRow,endRow=range.endRow;idx===ranges.length-1&&(lastFocusedCell={rowPinned:startRow.rowPinned,rowIndex:startRow.rowIndex,columnId:range.startColumn.getColId()},this.setLastFocusedCell(lastFocusedCell));const cellRangeParams={rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,rowEndIndex:endRow.rowIndex,rowEndPinned:endRow.rowPinned,columnStart:range.startColumn,columns:range.columns};rangeSvc.addCellRange(cellRangeParams)}))}processCell(cellValueChanges){const cellValueChange=cellValueChanges[0],{rowIndex,rowPinned}=cellValueChange,rowPosition={rowIndex,rowPinned},row=_getRowNode(this.beans,rowPosition),lastFocusedCell={rowPinned:cellValueChange.rowPinned,rowIndex:row.rowIndex,columnId:cellValueChange.columnId};this.setLastFocusedCell(lastFocusedCell)}setLastFocusedCell(lastFocusedCell){const{rowIndex,columnId,rowPinned}=lastFocusedCell,{colModel,focusSvc,rangeSvc}=this.beans,column=colModel.getCol(columnId);if(!column)return;const{scrollFeature}=this.gridBodyCtrl;scrollFeature.ensureIndexVisible(rowIndex),scrollFeature.ensureColumnVisible(column);const cellPosition={rowIndex,column,rowPinned};focusSvc.setFocusedCell({...cellPosition,forceBrowserFocus:!0}),rangeSvc?.setRangeToCell(cellPosition)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:event=>{const action=new RangeUndoRedoAction(this.cellValueChanges,event.initialRange,event.finalRange);this.pushActionsToUndoStack(action),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let action;const{rangeSvc,gos}=this.beans;action=rangeSvc&&_isCellSelectionEnabled(gos)?new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...rangeSvc.getCellRanges()]):new UndoRedoAction(this.cellValueChanges),this.pushActionsToUndoStack(action),this.isRangeInAction=!1}})}pushActionsToUndoStack(action){this.undoStack.push(action),this.cellValueChanges=[],this.redoStack.clear()}}],apiFunctions:{undoCellEditing:function undoCellEditing(beans){beans.undoRedo?.undo("api")},redoCellEditing:function redoCellEditing(beans){beans.undoRedo?.redo("api")},getCurrentUndoSize:function getCurrentUndoSize(beans){return beans.undoRedo?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function getCurrentRedoSize(beans){return beans.undoRedo?.getCurrentRedoStackSize()??0}},dependsOn:[EditCoreModule]},TextEditorModule={moduleName:"TextEditor",version:VERSION,userComponents:{agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor},dependsOn:[EditCoreModule]},NumberEditorModule={moduleName:"NumberEditor",version:VERSION,userComponents:{agNumberCellEditor:{classImp:class extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput)}},params:{suppressPreventDefault:!0}}},dependsOn:[EditCoreModule]},DateEditorModule={moduleName:"DateEditor",version:VERSION,userComponents:{agDateCellEditor:class extends SimpleCellEditor{constructor(){super(new DateCellEditorInput)}},agDateStringCellEditor:class extends SimpleCellEditor{constructor(){super(new DateStringCellEditorInput((()=>this.beans.dataTypeSvc)))}}},dependsOn:[EditCoreModule]},CheckboxEditorModule={moduleName:"CheckboxEditor",version:VERSION,userComponents:{agCheckboxCellEditor:class extends PopupComponent{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null}init(params){this.params=params;const isSelected=params.value??void 0,eCheckbox=this.eCheckbox;eCheckbox.setValue(isSelected);eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(isSelected),this.addManagedListeners(eCheckbox,{fieldValueChanged:event=>this.setAriaLabel(event.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(isSelected){const translate=this.getLocaleTextFunc(),stateName=_getAriaCheckboxStateName(translate,isSelected),ariaLabel=translate("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${ariaLabel} (${stateName})`)}}},dependsOn:[EditCoreModule]},SelectEditorModule={moduleName:"SelectEditor",version:VERSION,userComponents:{agSelectCellEditor:class extends PopupComponent{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[AgSelectSelector]),this.eSelect=null,this.startedByEnter=!1}wireBeans(beans){this.valueSvc=beans.valueSvc}init(params){this.focusAfterAttached=params.cellStartedEdit;const{eSelect,valueSvc,gos}=this,{values,value,eventKey}=params;if(_missing(values))return void _warn(58);this.startedByEnter=null!=eventKey&&eventKey===KeyCode_ENTER;let hasValue=!1;values.forEach((currentValue=>{const option={value:currentValue},valueFormatted=valueSvc.formatValue(params.column,null,currentValue),valueFormattedExits=null!=valueFormatted;option.text=valueFormattedExits?valueFormatted:currentValue,eSelect.addOption(option),hasValue=hasValue||value===currentValue})),hasValue?eSelect.setValue(params.value,!0):params.values.length&&eSelect.setValue(params.values[0],!0);const{valueListGap,valueListMaxWidth,valueListMaxHeight}=params;null!=valueListGap&&eSelect.setPickerGap(valueListGap),null!=valueListMaxHeight&&eSelect.setPickerMaxHeight(valueListMaxHeight),null!=valueListMaxWidth&&eSelect.setPickerMaxWidth(valueListMaxWidth),"fullRow"!==gos.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>params.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}},dependsOn:[EditCoreModule]},LargeTextEditorModule={moduleName:"LargeTextEditor",version:VERSION,userComponents:{agLargeTextCellEditor:class extends PopupComponent{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[AgInputTextAreaSelector]),this.eTextArea=null}init(params){this.params=params,this.focusAfterAttached=params.cellStartedEdit,this.eTextArea.setMaxLength(params.maxLength||200).setCols(params.cols||60).setRows(params.rows||10),null!=params.value&&this.eTextArea.setValue(params.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(event){const key=event.key;(key===KeyCode_LEFT||key===KeyCode_UP||key===KeyCode_RIGHT||key===KeyCode_DOWN||event.shiftKey&&key===KeyCode_ENTER)&&event.stopPropagation()}afterGuiAttached(){const translate=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const value=this.eTextArea.getValue(),params=this.params;return _exists(value)||_exists(params.value)?params.parseValue(value):params.value}}},dependsOn:[EditCoreModule]},CustomEditorModule={moduleName:"CustomEditor",version:VERSION,dependsOn:[EditCoreModule]},isLeafColumnSelectionCol=c=>c.isColumn?isColumnSelectionCol(c):c.getChildren()?.some(isLeafColumnSelectionCol)??!1;function getLeafColumnSelectionCol(c){if(c.isColumn)return isColumnSelectionCol(c)?c:null;const children=c.getChildren()??[];for(const child of children){const selCol=getLeafColumnSelectionCol(child);if(selCol)return selCol}return null}function _normaliseFooterRef(node){return node.footer?node.sibling:node}function _calculateSelectAllState(selected,notSelected){return(0!==selected||0!==notSelected)&&(selected>0&&notSelected>0?void 0:selected>0)}var SharedRowSelectionModule={moduleName:"SharedRowSelection",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",(event=>{this.onSelectionOptionsChanged(event.currentValue,event.previousValue,_convertColumnEventSourceType(event.source))})),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(cols){const selectionCols=this.columns;null!=selectionCols&&(cols.list=selectionCols.list.concat(cols.list),cols.tree=selectionCols.tree.concat(cols.tree),function _updateColsMap(cols){cols.map={},cols.list.forEach((col=>cols.map[col.getId()]=col))}(cols))}createColumns(cols,updateOrders){const newTreeDepth=cols.treeDepth,treeDepthSame=(this.columns?.treeDepth??-1)==newTreeDepth,list=this.generateSelectionCols();if(function _areColIdsEqual(colsA,colsB){return _areEqual(colsA,colsB,((a,b)=>a.getColId()===b.getColId()))}(list,this.columns?.list??[])&&treeDepthSame)return;(()=>{_destroyColumnTree(this.beans,this.columns?.tree),this.columns=null})();const{colGroupSvc}=this.beans,treeDepth=colGroupSvc?.findDepth(cols.tree)??0,tree=colGroupSvc?.balanceTreeForAutoCols(list,treeDepth)??[];this.columns={list,tree,treeDepth,map:{}};updateOrders((cols2=>{if(!cols2)return null;const colsFiltered=cols2.filter((col=>!isColumnSelectionCol(col)));return[...list,...colsFiltered]}))}updateColumns(event){const source=_convertColumnEventSourceType(event.source),current=event.currentValue;this.columns?.list.forEach((col=>{const newColDef=this.createSelectionColDef(current);col.setColDef(newColDef,null,source),_applyColumnState(this.beans,{state:[{colId:col.getColId(),...newColDef}]},source)}))}getColumn(key){return this.columns?.list.find((col=>_columnsMatch(col,key)))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos,beans}=this,rowSelection=gos.get("rowSelection");if("object"!=typeof rowSelection||!_isRowSelection(gos))return!1;const hasAutoCols=(beans.autoColSvc?.getColumns()?.length??0)>0;if("autoGroupColumn"===rowSelection.checkboxLocation&&hasAutoCols)return!1;const checkboxes=!!_getCheckboxes(rowSelection),headerCheckbox=_getHeaderCheckbox(rowSelection);return checkboxes||headerCheckbox}createSelectionColDef(def){const{gos}=this.beans,selectionColumnDef=def??gos.get("selectionColumnDef"),enableRTL=gos.get("enableRtl"),{rowSpan:_,spanRows:__,...filteredSelColDef}=selectionColumnDef??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:enableRTL?"right":"left",comparator(valueA,valueB,nodeA,nodeB){const aSelected=nodeA.isSelected();return aSelected===nodeB.isSelected()?0:aSelected?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...filteredSelColDef,colId:SELECTION_COLUMN_ID}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const colDef=this.createSelectionColDef(),colId=colDef.colId;this.beans.validation?.validateColDef(colDef,colId,!0);const col=new AgColumn(colDef,null,colId,!1);return this.createBean(col),[col]}onSelectionOptionsChanged(current,prev,source){const checkboxHasChanged=(prev&&"string"!=typeof prev?_getCheckboxes(prev):void 0)!==(current&&"string"!=typeof current?_getCheckboxes(current):void 0),headerCheckboxHasChanged=(prev&&"string"!=typeof prev?_getHeaderCheckbox(prev):void 0)!==(current&&"string"!=typeof current?_getHeaderCheckbox(current):void 0),currLocation=_getCheckboxLocation(current),prevLocation=_getCheckboxLocation(prev);(checkboxHasChanged||headerCheckboxHasChanged||currLocation!==prevLocation)&&this.beans.colModel.refreshAll(source)}destroy(){_destroyColumnTree(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(source){if(!this.isSelectionColumnEnabled())return;const beans=this.beans,visibleColumns=beans.visibleCols.getAllTrees()??[];if(0!==visibleColumns.length){if(!visibleColumns.some(isLeafColumnSelectionCol)){const existingState=_getColumnState(beans).find((state=>isColumnSelectionCol(state.colId)));existingState&&_applyColumnState(beans,{state:[{colId:existingState.colId,hide:!existingState.hide}]},source)}if(1===visibleColumns.length){const leafSelectionCol=getLeafColumnSelectionCol(visibleColumns[0]);if(!leafSelectionCol)return;_applyColumnState(beans,{state:[{colId:leafSelectionCol.getColId(),hide:!0}]},source)}}}}],apiFunctions:{setNodesSelected:function setNodesSelected(beans,params){if(!params.nodes.every((node=>node.rowPinned?(_warn(59),!1):void 0!==node.id||(_warn(60),!1))))return;const{nodes,source,newValue}=params;beans.selectionSvc?.setNodesSelected({nodes,source:source??"api",newValue})},selectAll:function selectAll(beans,selectAll2,source="apiSelectAll"){beans.selectionSvc?.selectAllRowNodes({source,selectAll:selectAll2})},deselectAll:function deselectAll(beans,selectAll2,source="apiSelectAll"){beans.selectionSvc?.deselectAllRowNodes({source,selectAll:selectAll2})},selectAllFiltered:function selectAllFiltered(beans,source="apiSelectAllFiltered"){beans.selectionSvc?.selectAllRowNodes({source,selectAll:"filtered"})},deselectAllFiltered:function deselectAllFiltered(beans,source="apiSelectAllFiltered"){beans.selectionSvc?.deselectAllRowNodes({source,selectAll:"filtered"})},selectAllOnCurrentPage:function selectAllOnCurrentPage(beans,source="apiSelectAllCurrentPage"){beans.selectionSvc?.selectAllRowNodes({source,selectAll:"currentPage"})},deselectAllOnCurrentPage:function deselectAllOnCurrentPage(beans,source="apiSelectAllCurrentPage"){beans.selectionSvc?.deselectAllRowNodes({source,selectAll:"currentPage"})},getSelectedNodes:function getSelectedNodes(beans){return beans.selectionSvc?.getSelectedNodes()??[]},getSelectedRows:function getSelectedRows(beans){return beans.selectionSvc?.getSelectedRows()??[]}}},RowSelectionModule={moduleName:"RowSelection",version:VERSION,rowModels:["clientSide","infinite","viewport"],beans:[class extends BaseSelectionService{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos}=this;this.mode=_getRowSelectionMode(gos),this.groupSelectsDescendants=_getGroupSelectsDescendants(gos),this.groupSelectsFiltered="filteredDescendants"===_getGroupSelection(gos),this.masterSelectsDetail="detail"===_getMasterSelects(gos),this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],(()=>{const groupSelectsDescendants=_getGroupSelectsDescendants(gos),selectionMode=_getRowSelectionMode(gos),groupSelectsFiltered="filteredDescendants"===_getGroupSelection(gos);this.masterSelectsDetail="detail"===_getMasterSelects(gos),groupSelectsDescendants===this.groupSelectsDescendants&&groupSelectsFiltered===this.groupSelectsFiltered&&selectionMode===this.mode||(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=groupSelectsDescendants,this.groupSelectsFiltered=groupSelectsFiltered,this.mode=selectionMode)})),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(event,rowNode,source){if(this.isRowSelectionBlocked(rowNode))return 0;const selection=this.inferNodeSelections(rowNode,event.shiftKey,event.metaKey||event.ctrlKey,source);return null==selection?0:(this.selectionCtx.selectAll=!1,"select"in selection?(selection.reset?this.resetNodes():this.selectRange(selection.deselect,!1,source),this.selectRange(selection.select,!0,source)):this.setNodesSelected({nodes:[selection.node],newValue:selection.newValue,clearSelection:selection.clearSelection,event,source}))}setNodesSelected({newValue,clearSelection,suppressFinishActions,nodes,event,source}){if(!_isRowSelection(this.gos)&&newValue)return _warn(132),0;if(0===nodes.length)return 0;if(nodes.length>1&&!this.isMultiSelect())return _warn(130),0;let updatedCount=0;for(let i=0;i<nodes.length;i++){const node=_normaliseFooterRef(nodes[i]),skipThisNode=this.groupSelectsFiltered&&node.group;if(node.rowPinned)_warn(59);else if(void 0!==node.id){if(!skipThisNode){this.selectRowNode(node,newValue,event,source)&&(this.detailSelection.delete(node.id),updatedCount++)}this.groupSelectsDescendants&&node.childrenAfterGroup?.length&&(updatedCount+=this.selectChildren(node,newValue,source))}else _warn(60)}if(!suppressFinishActions){newValue&&(clearSelection||!this.isMultiSelect())&&(updatedCount+=this.clearOtherNodes(_normaliseFooterRef(nodes[0]),source)),updatedCount>0&&(this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source))}return updatedCount}selectRange(nodesToSelect,value,source){let updatedCount=0;return nodesToSelect.forEach((rowNode=>{if(rowNode.group&&this.groupSelectsDescendants)return;this.selectRowNode(rowNode,value,void 0,source)&&updatedCount++})),updatedCount>0&&(this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source)),updatedCount}selectChildren(node,newValue,source){const children=this.groupSelectsFiltered?node.childrenAfterAggFilter:node.childrenAfterGroup;return children?this.setNodesSelected({newValue,clearSelection:!1,suppressFinishActions:!0,source,nodes:children}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const selectedRows=[];return this.selectedNodes.forEach((rowNode=>selectedRows.push(rowNode.data))),selectedRows}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(predicate){const newSelectedNodes=new Map;this.selectedNodes.forEach(((rowNode,key)=>{predicate(rowNode)&&newSelectedNodes.set(key,rowNode)})),this.selectedNodes=newSelectedNodes}updateGroupsFromChildrenSelections(source,changedPath){if(!this.groupSelectsDescendants)return!1;const{gos,rowModel}=this.beans;if(!_isClientSideRowModel(gos))return!1;const rootNode=rowModel.rootNode;if(!rootNode)return!1;changedPath||((changedPath=new ChangedPath(!0,rootNode)).active=!1);let selectionChanged=!1;return changedPath.forEachChangedNodeDepthFirst((rowNode=>{if(rowNode!==rootNode){const selected=this.calculateSelectedFromChildren(rowNode);selectionChanged=this.selectRowNode(rowNode,null!==selected&&selected,void 0,source)||selectionChanged}})),selectionChanged}clearOtherNodes(rowNodeToKeepSelected,source){const groupsToRefresh=new Map;let updatedCount=0;return this.selectedNodes.forEach((otherRowNode=>{if(otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id){const rowNode=this.selectedNodes.get(otherRowNode.id);updatedCount+=this.setNodesSelected({nodes:[rowNode],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source}),this.groupSelectsDescendants&&otherRowNode.parent&&groupsToRefresh.set(otherRowNode.parent.id,otherRowNode.parent)}})),groupsToRefresh.forEach((group=>{const selected=this.calculateSelectedFromChildren(group);this.selectRowNode(group,null!==selected&&selected,void 0,source)})),updatedCount}onRowSelected(event){const rowNode=event.node;this.groupSelectsDescendants&&rowNode.group||(rowNode.isSelected()?this.selectedNodes.set(rowNode.id,rowNode):this.selectedNodes.delete(rowNode.id))}syncInRowNode(rowNode,oldNode){this.syncInOldRowNode(rowNode,oldNode),this.syncInNewRowNode(rowNode)}createDaemonNode(rowNode){if(!rowNode.id)return;const oldNode=new RowNode(this.beans);return oldNode.id=rowNode.id,oldNode.data=rowNode.data,oldNode.__daemon=!0,oldNode.__selected=rowNode.__selected,oldNode.level=rowNode.level,oldNode}syncInOldRowNode(rowNode,oldNode){if(oldNode&&rowNode.id!==oldNode.id){this.selectedNodes.get(oldNode.id)==rowNode&&this.selectedNodes.set(oldNode.id,oldNode)}}syncInNewRowNode(rowNode){this.selectedNodes.has(rowNode.id)?(rowNode.__selected=!0,this.selectedNodes.set(rowNode.id,rowNode)):rowNode.__selected=!1}reset(source){const selectionCount=this.getSelectionCount();this.resetNodes(),selectionCount&&this.dispatchSelectionChanged(source)}resetNodes(){this.selectedNodes.forEach((node=>{this.selectRowNode(node,!1)})),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos,rowModel}=this.beans;if(!_isClientSideRowModel(gos))return;const topLevelNodes=rowModel.getTopLevelNodes();if(null===topLevelNodes)return;const result=[];return function traverse(nodes){for(let i=0,l=nodes.length;i<l;i++){const node=nodes[i];node.isSelected()?result.push(node):node.group&&node.childrenAfterGroup&&traverse(node.childrenAfterGroup)}}(topLevelNodes),result}isEmpty(){return 0===this.getSelectionCount()}deselectAllRowNodes({source,selectAll:selectAll2}){const rowModelClientSide=_isClientSideRowModel(this.gos);let updatedNodes=!1;const callback=rowNode=>{const updated=this.selectRowNode(_normaliseFooterRef(rowNode),!1,void 0,source);updatedNodes||(updatedNodes=updated)};if("currentPage"===selectAll2||"filtered"===selectAll2){if(!rowModelClientSide)return void _error(102);this.getNodesToSelect(selectAll2).forEach(callback)}else this.selectedNodes.forEach(callback),this.reset(source);if(this.selectionCtx.selectAll=!1,rowModelClientSide&&this.groupSelectsDescendants){const updated=this.updateGroupsFromChildrenSelections(source);updatedNodes||(updatedNodes=updated)}updatedNodes&&this.dispatchSelectionChanged(source)}getSelectedCounts(selectAll2){let selectedCount=0,notSelectedCount=0;return this.getNodesToSelect(selectAll2).forEach((node=>{this.groupSelectsDescendants&&node.group||(node.isSelected()?selectedCount++:node.selectable&&notSelectedCount++)})),{selectedCount,notSelectedCount}}getSelectAllState(selectAll2){const{selectedCount,notSelectedCount}=this.getSelectedCounts(selectAll2);return _calculateSelectAllState(selectedCount,notSelectedCount)??null}hasNodesToSelect(selectAll2){return this.getNodesToSelect(selectAll2).filter((node=>node.selectable)).length>0}getNodesToSelect(selectAll2){if(!this.canSelectAll())return[];const nodes=[];if("currentPage"===selectAll2)return this.forEachNodeOnPage((node=>{if(node.group)if(node.expanded||node.footer)this.groupSelectsDescendants||nodes.push(node);else{const recursivelyAddChildren=child=>{nodes.push(child),child.childrenAfterFilter?.length&&child.childrenAfterFilter.forEach(recursivelyAddChildren)};recursivelyAddChildren(node)}else nodes.push(node)})),nodes;const clientSideRowModel=this.beans.rowModel;return"filtered"===selectAll2?(clientSideRowModel.forEachNodeAfterFilter((node=>{nodes.push(node)})),nodes):(clientSideRowModel.forEachNode((node=>{nodes.push(node)})),nodes)}forEachNodeOnPage(callback){const{pageBounds,rowModel}=this.beans,firstRow=pageBounds.getFirstRow(),lastRow=pageBounds.getLastRow();for(let i=firstRow;i<=lastRow;i++){const node=rowModel.getRow(i);node&&callback(node)}}selectAllRowNodes(params){const{gos,selectionCtx}=this;if(!_isRowSelection(gos))return void _warn(132);if(function _isUsingNewRowSelectionAPI(gos){return"string"!=typeof gos.get("rowSelection")}(gos)&&!_isMultiRowSelection(gos))return void _warn(130);if(!this.canSelectAll())return;const{source,selectAll:selectAll2}=params;let updatedNodes=!1;if(this.getNodesToSelect(selectAll2).forEach((rowNode=>{const updated=this.selectRowNode(_normaliseFooterRef(rowNode),!0,void 0,source);updatedNodes||(updatedNodes=updated)})),selectionCtx.selectAll=!0,_isClientSideRowModel(gos)&&this.groupSelectsDescendants){const updated=this.updateGroupsFromChildrenSelections(source);updatedNodes||(updatedNodes=updated)}updatedNodes&&this.dispatchSelectionChanged(source)}getSelectionState(){const selectedIds=[];return this.selectedNodes.forEach((node=>{node?.id&&selectedIds.push(node.id)})),selectedIds.length?selectedIds:null}setSelectionState(state,source){if(!Array.isArray(state))return void _error(103);const rowIds=new Set(state),nodes=[];this.beans.rowModel.forEachNode((node=>{rowIds.has(node.id)&&nodes.push(node)})),this.setNodesSelected({newValue:!0,nodes,source})}canSelectAll(){const{gos,rowModel}=this.beans;return!!_isClientSideRowModel(gos)||(_error(100,{rowModelType:rowModel.getType()}),!1)}updateSelectable(changedPath){const{gos,rowModel}=this.beans;if(!_isRowSelection(gos))return;const skipLeafNodes=void 0!==changedPath,isCSRMGroupSelectsDescendants=_isClientSideRowModel(gos)&&this.groupSelectsDescendants,nodesToDeselect=[],nodeCallback=node=>{if(skipLeafNodes&&!node.group)return;if(isCSRMGroupSelectsDescendants&&node.group){const hasSelectableChild=node.childrenAfterGroup?.some((rowNode=>rowNode.selectable))??!1;return void this.setRowSelectable(node,hasSelectableChild,!0)}!this.updateRowSelectable(node,!0)&&node.isSelected()&&nodesToDeselect.push(node)};if(isCSRMGroupSelectsDescendants){if(void 0===changedPath){const rootNode=rowModel.rootNode;changedPath=rootNode?new ChangedPath(!1,rootNode):void 0}changedPath?.forEachChangedNodeDepthFirst(nodeCallback,!skipLeafNodes,!skipLeafNodes)}else rowModel.forEachNode(nodeCallback);nodesToDeselect.length&&this.setNodesSelected({nodes:nodesToDeselect,newValue:!1,source:"selectableChanged"}),!skipLeafNodes&&isCSRMGroupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("selectableChanged")}updateSelectableAfterGrouping(changedPath){if(this.updateSelectable(changedPath),this.groupSelectsDescendants){const selectionChanged=this.updateGroupsFromChildrenSelections?.("rowGroupChanged",changedPath);selectionChanged&&this.dispatchSelectionChanged("rowGroupChanged")}}refreshMasterNodeState(node,e){if(!this.masterSelectsDetail)return;const detailApi=node.detailNode?.detailGridInfo?.api;if(!detailApi)return;const isSelectAll=function _isAllSelected(api){let selectedCount=0,notSelectedCount=0;return api.forEachNode((node=>{node.isSelected()?selectedCount++:node.selectable&&notSelectedCount++})),_calculateSelectAllState(selectedCount,notSelectedCount)}(detailApi);if(node.isSelected()!==isSelectAll){this.selectRowNode(node,isSelectAll,e,"masterDetail")&&this.dispatchSelectionChanged("masterDetail")}if(!isSelectAll){const detailSelected=this.detailSelection.get(node.id)??new Set;for(const n of detailApi.getSelectedNodes())detailSelected.add(n.id);this.detailSelection.set(node.id,detailSelected)}}setDetailSelectionState(masterNode,detailGridOptions,detailApi){if(this.masterSelectsDetail)if(_isMultiRowSelection(detailGridOptions))switch(masterNode.isSelected()){case!0:detailApi.selectAll();break;case!1:detailApi.deselectAll();break;case void 0:{const selectedIds=this.detailSelection.get(masterNode.id);if(selectedIds){const nodes=[];for(const id of selectedIds){const n=detailApi.getRowNode(id);n&&nodes.push(n)}detailApi.setNodesSelected({nodes,newValue:!0,source:"masterDetail"})}break}}else _warn(269)}}],dependsOn:[SharedRowSelectionModule]};var CsrmSsrmSharedApiModule={moduleName:"CsrmSsrmSharedApi",version:VERSION,apiFunctions:{expandAll:function expandAll(beans){beans.expansionSvc?.expandAll(!0)},collapseAll:function collapseAll(beans){beans.expansionSvc?.expandAll(!1)},onRowHeightChanged:function onRowHeightChanged(beans){const clientSideRowModel=_getClientSideRowModel(beans),serverSideRowModel=_getServerSideRowModel(beans);clientSideRowModel?clientSideRowModel.onRowHeightChanged():serverSideRowModel&&serverSideRowModel.onRowHeightChanged()}}},SsrmInfiniteSharedApiModule={moduleName:"SsrmInfiniteSharedApi",version:VERSION,apiFunctions:{setRowCount:function setRowCount(beans,rowCount,maxRowFound){const serverSideRowModel=_getServerSideRowModel(beans);if(serverSideRowModel)return 0===beans.rowGroupColsSvc?.columns.length?rowCount<0?void _error(238):void serverSideRowModel.setRowCount(rowCount,maxRowFound):void _error(28);const infiniteRowModel=_getInfiniteRowModel(beans);infiniteRowModel&&infiniteRowModel.setRowCount(rowCount,maxRowFound)},getCacheBlockState:function getCacheBlockState(beans){if(_isServerSideRowModel(beans.gos)){return beans.rowModel.getBlockStates()}return beans.rowNodeBlockLoader?.getBlockState()??{}},isLastRowIndexKnown:function isLastRowIndexKnown(beans){return beans.rowModel.isLastRowIndexKnown()}}},AlignedGridsModule={moduleName:"AlignedGrids",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let alignedGrids=this.gos.get("alignedGrids")??[];const isCallbackConfig="function"==typeof alignedGrids;"function"==typeof alignedGrids&&(alignedGrids=alignedGrids());return alignedGrids.map((alignedGrid=>{if(!alignedGrid)return _error(18),void(isCallbackConfig||_error(20));if(this.isGridApi(alignedGrid))return alignedGrid;const refOrComp=alignedGrid;return"current"in refOrComp?refOrComp.current?.api:(refOrComp.api||_error(19),refOrComp.api)})).filter((api=>!!api&&!api.isDestroyed()))}isGridApi(ref){return!!ref&&!!ref.dispatchEvent}postConstruct(){const fireColumnEvent=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:fireColumnEvent,columnVisible:fireColumnEvent,columnPinned:fireColumnEvent,columnGroupOpened:fireColumnEvent,columnResized:fireColumnEvent,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event})=>this.onColumnEvent(event),alignedGridScroll:({event})=>this.onScrollEvent(event)})}fireEvent(event){this.consuming||this.getAlignedGridApis().forEach((api=>{api.isDestroyed()||api.dispatchEvent(event)}))}onEvent(callback){this.consuming=!0,callback(),this.consuming=!1}fireColumnEvent(columnEvent){this.fireEvent({type:"alignedGridColumn",event:columnEvent})}fireScrollEvent(scrollEvent){"horizontal"===scrollEvent.direction&&this.fireEvent({type:"alignedGridScroll",event:scrollEvent})}onScrollEvent(event){this.onEvent((()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(event.left,!0)}))}extractDataFromEvent(event,func){const result=[];return event.columns?event.columns.forEach((column=>{result.push(func(column))})):event.column&&result.push(func(event.column)),result}getMasterColumns(event){return this.extractDataFromEvent(event,(col=>col))}getColumnIds(event){return this.extractDataFromEvent(event,(col=>col.getColId()))}onColumnEvent(event){this.onEvent((()=>{switch(event.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(event);break;case"columnGroupOpened":this.processGroupOpenedEvent(event);break;case"columnPivotChanged":_warn(21)}}))}processGroupOpenedEvent(groupOpenedEvent){const{colGroupSvc}=this.beans;colGroupSvc&&groupOpenedEvent.columnGroups.forEach((masterGroup=>{let otherColumnGroup=null;masterGroup&&(otherColumnGroup=colGroupSvc.getProvidedColGroup(masterGroup.getGroupId())),masterGroup&&!otherColumnGroup||colGroupSvc.setColumnGroupOpened(otherColumnGroup,masterGroup.isExpanded(),"alignedGridChanged")}))}processColumnEvent(colEvent){const masterColumn=colEvent.column;let otherColumn=null;const beans=this.beans,{colResize,ctrlsSvc,colModel}=beans;if(masterColumn&&(otherColumn=colModel.getColDefCol(masterColumn.getColId())),masterColumn&&!otherColumn)return;const masterColumns=this.getMasterColumns(colEvent);switch(colEvent.type){case"columnMoved":_applyColumnState(beans,{state:colEvent.api.getColumnState().map((s=>({colId:s.colId}))),applyOrder:!0},"alignedGridChanged");break;case"columnVisible":_applyColumnState(beans,{state:colEvent.api.getColumnState().map((s=>({colId:s.colId,hide:s.hide})))},"alignedGridChanged");break;case"columnPinned":_applyColumnState(beans,{state:colEvent.api.getColumnState().map((s=>({colId:s.colId,pinned:s.pinned})))},"alignedGridChanged");break;case"columnResized":{const resizedEvent=colEvent,columnWidths={};masterColumns.forEach((column=>{columnWidths[column.getId()]={key:column.getColId(),newWidth:column.getActualWidth()}})),resizedEvent.flexColumns?.forEach((col=>{columnWidths[col.getId()]&&delete columnWidths[col.getId()]})),colResize?.setColumnWidths(Object.values(columnWidths),!1,resizedEvent.finished,"alignedGridChanged");break}}const isVerticalScrollShowing=ctrlsSvc.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((api=>{api.setGridOption("alwaysShowVerticalScroll",isVerticalScrollShowing)}))}}]},ChangedRowNodes=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(node){this.adds.delete(node)||(this.updates.delete(node),this.removals.add(node))}update(node){this.adds.has(node)||this.updates.add(node)}add(node){this.adds.add(node)}};function updateRowNodeAfterSort(rowNode){rowNode.sibling&&(rowNode.sibling.childrenAfterSort=rowNode.childrenAfterSort),function updateChildIndexes(rowNode){if(_missing(rowNode.childrenAfterSort))return;const listToSort=rowNode.childrenAfterSort;for(let i=0;i<listToSort.length;i++){const child=listToSort[i],firstChild=0===i,lastChild=i===rowNode.childrenAfterSort.length-1;child.setFirstChild(firstChild),child.lastChild!==lastChild&&(child.lastChild=lastChild,child.dispatchRowEvent("lastChildChanged")),child.childIndex!==i&&(child.childIndex=i,child.dispatchRowEvent("childIndexChanged"))}}(rowNode)}var ClientSideRowModelModule={moduleName:"ClientSideRowModel",version:VERSION,rowModels:["clientSide"],beans:[class extends AbstractClientSideNodeManager{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=_debounce(this,this.onRowHeightChanged.bind(this),100)}wireBeans(beans){this.colModel=beans.colModel,this.valueCache=beans.valueCache,this.filterStage=beans.filterStage,this.sortStage=beans.sortStage,this.flattenStage=beans.flattenStage,this.groupStage=beans.groupStage,this.aggStage=beans.aggStage,this.pivotStage=beans.pivotStage,this.filterAggStage=beans.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter((stage=>!!stage));const refreshEverythingFunc=this.refreshModel.bind(this,{step:"group"}),refreshEverythingAfterColsChangedFunc=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:refreshEverythingAfterColsChangedFunc,columnRowGroupChanged:refreshEverythingFunc,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:refreshEverythingFunc,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new RowNode(this.beans);const nodeManager=this.getNewNodeManager();this.nodeManager=nodeManager,nodeManager.activate(this.rootNode)}getNewNodeManager(){const{gos,beans}=this;let nodeManager;return gos.get("treeData")&&(nodeManager=gos.get("treeDataChildrenField")?beans.csrmChildrenTreeNodeSvc:beans.csrmPathTreeNodeSvc),nodeManager??beans.csrmNodeSvc}addPropertyListeners(){const allProps=["treeData","treeDataChildrenField",...this.orderedStages.flatMap((({refreshProps})=>[...refreshProps]))];this.addManagedPropertyListeners(allProps,(params=>{const properties=params.changeSet?.properties;properties&&this.onPropChange(properties)})),this.addManagedPropertyListener("rowData",(()=>this.onPropChange(["rowData"]))),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(startPixel,endPixel,startLimitIndex,endLimitIndex){let atLeastOneChange,res=!1;do{atLeastOneChange=!1;const rowAtStartPixel=this.getRowIndexAtPixel(startPixel),rowAtEndPixel=this.getRowIndexAtPixel(endPixel),firstRow=Math.max(rowAtStartPixel,startLimitIndex),lastRow=Math.min(rowAtEndPixel,endLimitIndex);for(let rowIndex=firstRow;rowIndex<=lastRow;rowIndex++){const rowNode=this.getRow(rowIndex);if(rowNode.rowHeightEstimated){const rowHeight=_getRowHeightForNode(this.beans,rowNode);rowNode.setRowHeight(rowHeight.height),atLeastOneChange=!0,res=!0}}atLeastOneChange&&this.setRowTopAndRowIndex()}while(atLeastOneChange);return res}onPropChange(properties){if(!this.rootNode)return;const gos=this.gos,changedProps=new Set(properties),params={step:"nothing",changedProps},rowDataChanged=changedProps.has("rowData"),treeDataChanged=changedProps.has("treeData"),oldNodeManager=this.nodeManager,nodeManager=this.getNewNodeManager(),reset=oldNodeManager!==nodeManager||changedProps.has("treeDataChildrenField")&&gos.get("treeData");let newRowData;if(treeDataChanged&&(params.step="group"),(reset||rowDataChanged)&&(newRowData=gos.get("rowData"),null==newRowData||Array.isArray(newRowData)||(newRowData=null,_warn(1))),reset&&(rowDataChanged||(newRowData=oldNodeManager?.extractRowData()??newRowData),oldNodeManager!==nodeManager&&(oldNodeManager?.deactivate(),this.nodeManager=nodeManager),nodeManager.activate(this.rootNode)),newRowData){!reset&&!this.isEmpty()&&newRowData.length>0&&gos.exists("getRowId")&&!gos.get("resetRowDataOnUpdate")?(params.keepRenderedRows=!0,params.animate=!this.gos.get("suppressAnimationFrame"),params.changedRowNodes=new ChangedRowNodes,nodeManager.setImmutableRowData(params,newRowData)):(params.rowDataUpdated=!0,params.newData=!0,this.beans.selectionSvc?.reset("rowDataChanged"),this.rowNodesCountReady=!0,nodeManager.setNewRowData(newRowData))}if(params.rowDataUpdated)params.step="group";else if("nothing"===params.step)for(const{refreshProps,step}of this.orderedStages)if(properties.some((prop=>refreshProps.has(prop)))){params.step=step;break}"nothing"!==params.step&&this.refreshModel(params)}setRowTopAndRowIndex(){const{beans}=this,defaultRowHeight=beans.environment.getDefaultRowHeight();let nextRowTop=0;const displayedRowsMapped=new Set,allowEstimate=_isDomLayout(this.gos,"normal"),rowsToDisplay=this.rowsToDisplay;for(let i=0,len=rowsToDisplay.length;i<len;++i){const rowNode=rowsToDisplay[i];if(null!=rowNode.id&&displayedRowsMapped.add(rowNode.id),null==rowNode.rowHeight){const rowHeight=_getRowHeightForNode(beans,rowNode,allowEstimate,defaultRowHeight);rowNode.setRowHeight(rowHeight.height,rowHeight.estimated)}rowNode.setRowTop(nextRowTop),rowNode.setRowIndex(i),nextRowTop+=rowNode.rowHeight}return displayedRowsMapped}clearRowTopAndRowIndex(changedPath,displayedRowsMapped){const changedPathActive=changedPath.active,clearIfNotDisplayed=rowNode=>{rowNode&&null!=rowNode.id&&!displayedRowsMapped.has(rowNode.id)&&rowNode.clearRowTopAndRowIndex()},recurse=rowNode=>{if(null!==rowNode&&(clearIfNotDisplayed(rowNode),clearIfNotDisplayed(rowNode.detailNode),clearIfNotDisplayed(rowNode.sibling),rowNode.hasChildren()&&rowNode.childrenAfterGroup)){const isRootNode=-1==rowNode.level;changedPathActive&&!isRootNode&&!rowNode.expanded||rowNode.childrenAfterGroup.forEach(recurse)}};recurse(this.rootNode)}ensureRowsAtPixel(rowNodes,pixel,increment=0){const indexAtPixelNow=this.getRowIndexAtPixel(pixel),rowNodeAtPixelNow=this.getRow(indexAtPixelNow),animate=!this.gos.get("suppressAnimationFrame");if(rowNodeAtPixelNow===rowNodes[0])return!1;const allLeafChildren=this.rootNode?.allLeafChildren;return!!allLeafChildren&&(rowNodes.forEach((rowNode=>{_removeFromArray(allLeafChildren,rowNode)})),rowNodes.forEach(((rowNode,idx)=>{allLeafChildren.splice(Math.max(indexAtPixelNow+increment,0)+idx,0,rowNode)})),rowNodes.forEach(((rowNode,index)=>{rowNode.sourceRowIndex=index})),this.refreshModel({step:"group",keepRenderedRows:!0,animate,rowNodesOrderChanged:!0}),!0)}highlightRowAtPixel(rowNode,pixel){const indexAtPixelNow=null!=pixel?this.getRowIndexAtPixel(pixel):null,rowNodeAtPixelNow=null!=indexAtPixelNow?this.getRow(indexAtPixelNow):null;if(!rowNodeAtPixelNow||!rowNode||null==pixel)return void this.clearHighlightedRow();const highlight=this.getHighlightPosition(pixel,rowNodeAtPixelNow),isSamePosition=this.isHighlightingCurrentPosition(rowNode,rowNodeAtPixelNow,highlight),isDifferentNode=null!=this.lastHighlightedRow&&this.lastHighlightedRow!==rowNodeAtPixelNow;(isSamePosition||isDifferentNode)&&(this.clearHighlightedRow(),isSamePosition)||(this.setRowNodeHighlighted(rowNodeAtPixelNow,highlight),this.lastHighlightedRow=rowNodeAtPixelNow)}setRowNodeHighlighted(rowNode,highlighted){rowNode.highlighted!==highlighted&&(rowNode.highlighted=highlighted,rowNode.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(pixel,rowNode){if(!rowNode){const index=this.getRowIndexAtPixel(pixel);if(!(rowNode=this.getRow(index||0)))return"Below"}const{rowTop,rowHeight}=rowNode;return pixel-rowTop<rowHeight/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(movingRowNode,hoveredRowNode,highlightPosition){if(movingRowNode===hoveredRowNode)return!0;const diff="Above"===highlightPosition?-1:1;return this.getRow(hoveredRowNode.rowIndex+diff)===movingRowNode}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const rootNode=this.rootNode;if(!rootNode)return 0;if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===rootNode)return 1;const filteredChildren=rootNode.childrenAfterAggFilter,totalFooterInc=rootNode.sibling?1:0;return(filteredChildren?filteredChildren.length:0)+totalFooterInc}getTopLevelRowDisplayedIndex(topLevelIndex){const{rootNode,rowsToDisplay}=this;if(!rootNode||!rowsToDisplay.length||rowsToDisplay[0]===rootNode)return topLevelIndex;const{childrenAfterSort}=rootNode,getDefaultIndex=adjustedIndex=>{let rowNode=childrenAfterSort[adjustedIndex];if(this.gos.get("groupHideOpenParents"))for(;rowNode.expanded&&rowNode.childrenAfterSort&&rowNode.childrenAfterSort.length>0;)rowNode=rowNode.childrenAfterSort[0];return rowNode.rowIndex},{footerSvc}=this.beans;return footerSvc?footerSvc.getTopDisplayIndex(rowsToDisplay,topLevelIndex,childrenAfterSort,getDefaultIndex):getDefaultIndex(topLevelIndex)}getRowBounds(index){const rowNode=this.rowsToDisplay[index];return rowNode?{rowTop:rowNode.rowTop,rowHeight:rowNode.rowHeight}:null}onRowGroupOpened(){const animate=_isAnimateRows(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate})}onFilterChanged(event){if(event.afterDataChange)return;const animate=_isAnimateRows(this.gos),step=0===event.columns.length||event.columns.some((col=>col.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step,keepRenderedRows:!0,animate})}onSortChanged(){const animate=_isAnimateRows(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(enabled){const changedPath=new ChangedPath(!1,this.rootNode);return enabled||(changedPath.active=!1),changedPath}isSuppressModelUpdateAfterUpdateTransaction(params){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes,newData,rowDataUpdated}=params;return!(!changedRowNodes||newData||!rowDataUpdated)&&(!changedRowNodes.removals.size&&!changedRowNodes.adds.size)}refreshModel(params){if(!this.rootNode)return;const changedPath=params.changedPath??(params.changedPath=this.createChangePath(!params.newData&&!!params.rowDataUpdated));if(this.nodeManager.refreshModel?.(params,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params}),!this.started)return;if(params.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(params))return;switch(this.isRefreshingModel=!0,params.step){case"group":this.doRowGrouping(params.changedRowNodes,changedPath,!!params.rowNodesOrderChanged,!!params.afterColumnsChanged);case"filter":this.doFilter(changedPath);case"pivot":this.doPivot(changedPath);case"aggregate":this.doAggregate(changedPath);case"filter_aggregates":this.doFilterAggregates(changedPath);case"sort":this.doSort(params.changedRowNodes,changedPath);case"map":this.doRowsToDisplay()}const displayedNodesMapped=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(changedPath,displayedNodesMapped),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:params.animate,keepRenderedRows:params.keepRenderedRows,newData:params.newData,newPage:!1,keepUndoRedoStack:params.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(firstInRange,lastInRange){let started=!1,finished=!1;const result=[],groupsSelectChildren=_getGroupSelectsDescendants(this.gos);return this.forEachNodeAfterFilterAndSort((rowNode=>{if(finished)return;if(started&&(rowNode===lastInRange||rowNode===firstInRange)&&(finished=!0,rowNode.group&&groupsSelectChildren))return void result.push(...rowNode.allLeafChildren);if(!started){if(rowNode!==lastInRange&&rowNode!==firstInRange)return;started=!0}(!rowNode.group||!groupsSelectChildren)&&result.push(rowNode)})),result}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(index){return this.rowsToDisplay[index]}isRowPresent(rowNode){return this.rowsToDisplay.indexOf(rowNode)>=0}getRowIndexAtPixel(pixelToMatch){const rowsToDisplay=this.rowsToDisplay;if(this.isEmpty()||0===rowsToDisplay.length)return-1;let bottomPointer=0,topPointer=rowsToDisplay.length-1;if(pixelToMatch<=0)return 0;if(_last(rowsToDisplay).rowTop<=pixelToMatch)return rowsToDisplay.length-1;let oldBottomPointer=-1,oldTopPointer=-1;for(;;){const midPointer=Math.floor((bottomPointer+topPointer)/2),currentRowNode=rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1);if(oldBottomPointer===bottomPointer&&oldTopPointer===topPointer)return midPointer;oldBottomPointer=bottomPointer,oldTopPointer=topPointer}}isRowInPixel(rowNode,pixelToMatch){const topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch}forEachLeafNode(callback){this.rootNode?.allLeafChildren?.forEach(((rowNode,index)=>callback(rowNode,index)))}forEachNode(callback,includeFooterNodes=!1){this.depthFirstSearchRowNodes(callback,includeFooterNodes)}forEachDisplayedNode(callback){this.rowsToDisplay.forEach(callback)}forEachNodeAfterFilter(callback,includeFooterNodes=!1){this.depthFirstSearchRowNodes(callback,includeFooterNodes,(node=>node.childrenAfterAggFilter))}forEachNodeAfterFilterAndSort(callback,includeFooterNodes=!1){this.depthFirstSearchRowNodes(callback,includeFooterNodes,(node=>node.childrenAfterSort))}forEachPivotNode(callback,includeFooterNodes=!1,afterSort=!1){const childrenField=afterSort?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(callback,includeFooterNodes,(node=>node.leafGroup?null:node[childrenField]))}depthFirstSearchRowNodes(callback,includeFooterNodes=!1,getChildren=(node2=>node2.childrenAfterGroup),node=this.rootNode,startIndex=0){let index=startIndex;if(!node)return index;const isRootNode=node===this.rootNode;isRootNode||callback(node,index++);const{footerSvc}=this.beans;if(node.hasChildren()&&!node.footer){const children=getChildren(node);if(children){index=footerSvc?.addTotalRows(index,node,callback,includeFooterNodes,isRootNode,"top")??index;for(const node2 of children)index=this.depthFirstSearchRowNodes(callback,includeFooterNodes,getChildren,node2,index);return footerSvc?.addTotalRows(index,node,callback,includeFooterNodes,isRootNode,"bottom")??index}}return index}doAggregate(changedPath){const rootNode=this.rootNode;rootNode&&this.aggStage?.execute({rowNode:rootNode,changedPath})}doFilterAggregates(changedPath){const rootNode=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:rootNode,changedPath}):rootNode.childrenAfterAggFilter=rootNode.childrenAfterFilter}doSort(changedRowNodes,changedPath){const{groupHideOpenParentsSvc}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes,changedPath}):changedPath.forEachChangedNodeDepthFirst((rowNode=>{groupHideOpenParentsSvc?.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterAggFilter,!0),rowNode.childrenAfterSort=rowNode.childrenAfterAggFilter.slice(0),updateRowNodeAfterSort(rowNode)})),groupHideOpenParentsSvc?.updateGroupDataForHideOpenParents(changedPath)}doRowGrouping(changedRowNodes,changedPath,rowNodesOrderChanged,afterColumnsChanged){const treeData=this.nodeManager.treeData,rootNode=this.rootNode;if(!treeData){const groupStage=this.groupStage;if(groupStage)groupStage.execute({rowNode:rootNode,changedPath,changedRowNodes,rowNodesOrderChanged,afterColumnsChanged});else{const sibling=rootNode.sibling;rootNode.childrenAfterGroup=rootNode.allLeafChildren,sibling&&(sibling.childrenAfterGroup=rootNode.childrenAfterGroup),rootNode.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(changedPath){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath}):changedPath.forEachChangedNodeDepthFirst((rowNode=>{rowNode.childrenAfterFilter=rowNode.childrenAfterGroup,updateRowNodeAfterFilter(rowNode)}),!0)}doPivot(changedPath){this.pivotStage?.execute({rowNode:this.rootNode,changedPath})}getRowNode(id){if("string"==typeof id&&0==id.indexOf("row-group-")){let res;return this.forEachNode((node=>{node.id===id&&(res=node)})),res}return this.nodeManager.getRowNode(id)}batchUpdateRowData(rowDataTransaction,callback){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const waitMillis=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.isAlive()&&this.executeBatchUpdateRowData()}),waitMillis)}this.rowDataTransactionBatch.push({rowDataTransaction,callback})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const callbackFuncsBound=[],rowNodeTrans=[],changedRowNodes=new ChangedRowNodes;let orderChanged=!1;this.rowDataTransactionBatch?.forEach((tranItem=>{this.rowNodesCountReady=!0;const{rowNodeTransaction,rowsInserted}=this.nodeManager.updateRowData(tranItem.rowDataTransaction,changedRowNodes);rowsInserted&&(orderChanged=!0),rowNodeTrans.push(rowNodeTransaction),tranItem.callback&&callbackFuncsBound.push(tranItem.callback.bind(null,rowNodeTransaction))})),this.commitTransactions(orderChanged,changedRowNodes),callbackFuncsBound.length>0&&window.setTimeout((()=>{callbackFuncsBound.forEach((func=>func()))}),0),rowNodeTrans.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:rowNodeTrans}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(rowDataTran){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const changedRowNodes=new ChangedRowNodes,{rowNodeTransaction,rowsInserted}=this.nodeManager.updateRowData(rowDataTran,changedRowNodes);return this.commitTransactions(rowsInserted,changedRowNodes),rowNodeTransaction}commitTransactions(rowNodesOrderChanged,changedRowNodes){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage,rootNode}=this;let rowsToDisplay;if(flattenStage)rowsToDisplay=flattenStage.execute({rowNode:rootNode});else{rowsToDisplay=rootNode?.childrenAfterSort??[];for(const row of rowsToDisplay)row.setUiLevel(0)}this.rowsToDisplay=rowsToDisplay}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const rootNode=this.rootNode;if(!rootNode)return;const atLeastOne=this.resetRowHeightsForAllRowNodes();rootNode.setRowHeight(rootNode.rowHeight,!0),rootNode.sibling&&rootNode.sibling.setRowHeight(rootNode.sibling.rowHeight,!0),atLeastOne&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let atLeastOne=!1;return this.forEachNode((rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,!0);const detailNode=rowNode.detailNode;detailNode&&detailNode.setRowHeight(detailNode.rowHeight,!0),rowNode.sibling&&rowNode.sibling.setRowHeight(rowNode.sibling.rowHeight,!0),atLeastOne=!0})),atLeastOne}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=_EmptyArray,this.rowsToDisplay=_EmptyArray}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},class extends BeanStub{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(params){const beans=this.beans,sortOptions=beans.sortSvc.getSortOptions(),sortActive=_exists(sortOptions)&&sortOptions.length>0,deltaSort=sortActive&&!!params.changedRowNodes&&this.gos.get("deltaSort"),sortContainsGroupColumns=sortOptions.some((({column})=>_isColumnsSortingCoupledToGroup(beans.gos)?column.isPrimary()&&column.isRowGroupActive():!!column.getColDef().showRowGroup));this.sort(beans,sortOptions,sortActive,deltaSort,params.changedRowNodes,params.changedPath,sortContainsGroupColumns)}sort(beans,sortOptions,sortActive,useDeltaSort,changedRowNodes,changedPath,sortContainsGroupColumns){const{gos,colModel,rowGroupColsSvc,groupHideOpenParentsSvc,rowNodeSorter}=beans,groupMaintainOrder=gos.get("groupMaintainOrder"),groupColumnsPresent=colModel.getCols().some((c=>c.isRowGroupActive())),isPivotMode=colModel.isPivotMode(),postSortFunc=gos.getCallback("postSortRows");changedPath?.forEachChangedNodeDepthFirst((rowNode=>{groupHideOpenParentsSvc?.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterAggFilter,!0);const skipSortingPivotLeafs=isPivotMode&&rowNode.leafGroup;let newChildrenAfterSort;if(groupMaintainOrder&&groupColumnsPresent&&!rowNode.leafGroup&&!sortContainsGroupColumns){const nextGroup=rowGroupColsSvc?.columns?.[rowNode.level+1],wasSortExplicitlyRemoved=null===nextGroup?.getSort(),childrenToBeSorted=rowNode.childrenAfterAggFilter.slice(0);if(rowNode.childrenAfterSort&&!wasSortExplicitlyRemoved){const indexedOrders={};rowNode.childrenAfterSort.forEach(((node,idx)=>{indexedOrders[node.id]=idx})),childrenToBeSorted.sort(((row1,row2)=>(indexedOrders[row1.id]??0)-(indexedOrders[row2.id]??0)))}newChildrenAfterSort=childrenToBeSorted}else newChildrenAfterSort=!sortActive||skipSortingPivotLeafs?rowNode.childrenAfterAggFilter.slice(0):useDeltaSort&&changedRowNodes?function doDeltaSort(rowNodeSorter,rowNode,changedRowNodes,changedPath,sortOptions){const unsortedRows=rowNode.childrenAfterAggFilter,oldSortedRows=rowNode.childrenAfterSort;if(!oldSortedRows)return rowNodeSorter.doFullSort(unsortedRows,sortOptions);const untouchedRows=new Set,touchedRows=[],{updates,adds}=changedRowNodes;for(let i=0,len=unsortedRows.length;i<len;++i){const row=unsortedRows[i];updates.has(row)||adds.has(row)||changedPath&&!changedPath.canSkip(row)?touchedRows.push({currentPos:touchedRows.length,rowNode:row}):untouchedRows.add(row.id)}const sortedUntouchedRows=oldSortedRows.filter((child=>untouchedRows.has(child.id))).map(((rowNode2,currentPos)=>({currentPos,rowNode:rowNode2})));return touchedRows.sort(((a,b)=>rowNodeSorter.compareRowNodes(sortOptions,a,b))),function mergeSortedArrays(rowNodeSorter,sortOptions,arr1,arr2){const res=[];let i=0,j=0;const arr1Length=arr1.length,arr2Length=arr2.length;for(;i<arr1Length&&j<arr2Length;){const a=arr1[i],b=arr2[j];let chosen;rowNodeSorter.compareRowNodes(sortOptions,a,b)<0?(chosen=a,++i):(chosen=b,++j),res.push(chosen.rowNode)}for(;i<arr1Length;)res.push(arr1[i++].rowNode);for(;j<arr2Length;)res.push(arr2[j++].rowNode);return res}(rowNodeSorter,sortOptions,touchedRows,sortedUntouchedRows)}(rowNodeSorter,rowNode,changedRowNodes,changedPath,sortOptions):rowNodeSorter.doFullSort(rowNode.childrenAfterAggFilter,sortOptions);if(rowNode.childrenAfterSort=newChildrenAfterSort,updateRowNodeAfterSort(rowNode),postSortFunc){const params={nodes:rowNode.childrenAfterSort};postSortFunc(params)}}))}}],dependsOn:[SortModule]},ClientSideRowModelApiModule={moduleName:"ClientSideRowModelApi",version:VERSION,apiFunctions:{onGroupExpandedOrCollapsed:function onGroupExpandedOrCollapsed(beans){beans.expansionSvc?.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function refreshClientSideRowModel(beans,step){const clientSideRowModel=_getClientSideRowModel(beans);clientSideRowModel&&(step&&"everything"!==step||(step="group"),clientSideRowModel.refreshModel({step,keepRenderedRows:!0,animate:!beans.gos.get("suppressAnimationFrame")}))},isRowDataEmpty:function isRowDataEmpty(beans){return _getClientSideRowModel(beans)?.isEmpty()??!0},forEachLeafNode:function forEachLeafNode(beans,callback){_getClientSideRowModel(beans)?.forEachLeafNode(callback)},forEachNodeAfterFilter:function forEachNodeAfterFilter(beans,callback){_getClientSideRowModel(beans)?.forEachNodeAfterFilter(callback)},forEachNodeAfterFilterAndSort:function forEachNodeAfterFilterAndSort(beans,callback){_getClientSideRowModel(beans)?.forEachNodeAfterFilterAndSort(callback)},resetRowHeights:function resetRowHeights(beans){beans.rowAutoHeight?.active?_warn(3):_getClientSideRowModel(beans)?.resetRowHeights()},applyTransaction:function applyTransaction(beans,rowDataTransaction){return beans.frameworkOverrides.wrapIncoming((()=>_getClientSideRowModel(beans)?.updateRowData(rowDataTransaction)))},applyTransactionAsync:function applyTransactionAsync(beans,rowDataTransaction,callback){beans.frameworkOverrides.wrapIncoming((()=>_getClientSideRowModel(beans)?.batchUpdateRowData(rowDataTransaction,callback)))},flushAsyncTransactions:function flushAsyncTransactions(beans){beans.frameworkOverrides.wrapIncoming((()=>_getClientSideRowModel(beans)?.flushAsyncTransactions()))},getBestCostNodeSelection:function getBestCostNodeSelection(beans){return beans.selectionSvc?.getBestCostNodeSelection()}},dependsOn:[CsrmSsrmSharedApiModule]},SharedExportModule={moduleName:"SharedExport",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(beans){this.visibleCols=beans.visibleCols,this.colModel=beans.colModel,this.rowModel=beans.rowModel,this.pinnedRowModel=beans.pinnedRowModel}serialize(gridSerializingSession,params={}){const{allColumns,columnKeys,skipRowGroups,exportRowNumbers}=params,columnsToExport=this.getColumnsToExport({allColumns,skipRowGroups,columnKeys,exportRowNumbers});return[this.prepareSession(columnsToExport),this.prependContent(params),this.exportColumnGroups(params,columnsToExport),this.exportHeaders(params,columnsToExport),this.processPinnedTopRows(params,columnsToExport),this.processRows(params,columnsToExport),this.processPinnedBottomRows(params,columnsToExport),this.appendContent(params)].reduce(((composed,f)=>f(composed)),gridSerializingSession).parse()}processRow(gridSerializingSession,params,columnsToExport,node){const rowSkipper=params.shouldRowBeSkipped||(()=>!1),isExplicitExportSelection=null!=params.rowPositions||!!params.onlySelected,hideOpenParents=this.gos.get("groupHideOpenParents")&&!isExplicitExportSelection,isLeafNode=this.colModel.isPivotMode()?node.leafGroup:!node.group,isFooter=!!node.footer,shouldSkipCurrentGroup=1===node.allChildrenCount&&1===node.childrenAfterGroup?.length&&function _canSkipShowingRowGroup(gos,node){const isSkippingGroups=gos.get("groupHideParentOfSingleChild");return!0===isSkippingGroups||!("leafGroupsOnly"!==isSkippingGroups||!node.leafGroup)||!!gos.get("groupRemoveSingleChildren")||!(!gos.get("groupRemoveLowestSingleChildren")||!node.leafGroup)}(this.gos,node);if(!isLeafNode&&!isFooter&&(params.skipRowGroups||shouldSkipCurrentGroup||hideOpenParents)||params.onlySelected&&!node.isSelected()||params.skipPinnedTop&&"top"===node.rowPinned||params.skipPinnedBottom&&"bottom"===node.rowPinned)return;if(-1===node.level&&!isLeafNode&&!isFooter)return;if(rowSkipper(_addGridCommonParams(this.gos,{node})))return;const rowAccumulator=gridSerializingSession.onNewBodyRow(node);if(columnsToExport.forEach(((column,index)=>{rowAccumulator.onColumn(column,index,node)})),params.getCustomContentBelowRow){const content=params.getCustomContentBelowRow(_addGridCommonParams(this.gos,{node}));content&&gridSerializingSession.addCustomContent(content)}}appendContent(params){return gridSerializingSession=>{const appendContent=params.appendContent;return appendContent&&gridSerializingSession.addCustomContent(appendContent),gridSerializingSession}}prependContent(params){return gridSerializingSession=>{const prependContent=params.prependContent;return prependContent&&gridSerializingSession.addCustomContent(prependContent),gridSerializingSession}}prepareSession(columnsToExport){return gridSerializingSession=>(gridSerializingSession.prepare(columnsToExport),gridSerializingSession)}exportColumnGroups(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnGroupHeaders){const idCreator=new GroupInstanceIdCreator,{colGroupSvc}=this.beans,displayedGroups=colGroupSvc?colGroupSvc.createColumnGroups({columns:columnsToExport,idCreator,pinned:null,isStandaloneStructure:!0}):columnsToExport;this.recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,params.processGroupHeaderCallback)}return gridSerializingSession}}exportHeaders(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnHeaders){const gridRowIterator=gridSerializingSession.onNewHeaderRow();columnsToExport.forEach(((column,index)=>{gridRowIterator.onColumn(column,index,void 0)}))}return gridSerializingSession}}processPinnedTopRows(params,columnsToExport){return gridSerializingSession=>{const processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);return params.rowPositions?params.rowPositions.filter((position=>"top"===position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>this.pinnedRowModel?.getPinnedTopRow(position.rowIndex))).forEach(processRow):this.pinnedRowModel?.forEachPinnedRow("top",processRow),gridSerializingSession}}processRows(params,columnsToExport){return gridSerializingSession=>{const rowModel=this.rowModel,usingCsrm=_isClientSideRowModel(this.gos),usingSsrm=_isServerSideRowModel(this.gos),onlySelectedNonStandardModel=!usingCsrm&&params.onlySelected,processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport),{exportedRows="filteredAndSorted"}=params;if(params.rowPositions)return params.rowPositions.filter((position=>null==position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>rowModel.getRow(position.rowIndex))).forEach(processRow),gridSerializingSession;if(this.colModel.isPivotMode())return usingCsrm?rowModel.forEachPivotNode(processRow,!0,"filteredAndSorted"===exportedRows):usingSsrm?rowModel.forEachNodeAfterFilterAndSort(processRow,!0):rowModel.forEachNode(processRow),gridSerializingSession;if(params.onlySelectedAllPages||onlySelectedNonStandardModel){const selectedNodes=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(selectedNodes),selectedNodes.forEach(processRow)}else"all"===exportedRows?rowModel.forEachNode(processRow):usingCsrm||usingSsrm?rowModel.forEachNodeAfterFilterAndSort(processRow,!0):rowModel.forEachNode(processRow);return gridSerializingSession}}replicateSortedOrder(rows){const{sortSvc,rowNodeSorter}=this.beans;if(!sortSvc||!rowNodeSorter)return;const sortOptions=sortSvc.getSortOptions(),compareNodes=(rowA,rowB)=>null!=rowA.rowIndex&&null!=rowB.rowIndex?rowA.rowIndex-rowB.rowIndex:rowA.level===rowB.level?rowA.parent?.id===rowB.parent?.id?rowNodeSorter.compareRowNodes(sortOptions,{rowNode:rowA,currentPos:rowA.rowIndex??-1},{rowNode:rowB,currentPos:rowB.rowIndex??-1}):compareNodes(rowA.parent,rowB.parent):rowA.level>rowB.level?compareNodes(rowA.parent,rowB):compareNodes(rowA,rowB.parent);rows.sort(compareNodes)}processPinnedBottomRows(params,columnsToExport){return gridSerializingSession=>{const processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);return params.rowPositions?params.rowPositions.filter((position=>"bottom"===position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>this.pinnedRowModel?.getPinnedBottomRow(position.rowIndex))).forEach(processRow):this.pinnedRowModel?.forEachPinnedRow("bottom",processRow),gridSerializingSession}}getColumnsToExport(params){const{allColumns=!1,skipRowGroups=!1,exportRowNumbers=!1,columnKeys}=params,{colModel,gos,visibleCols}=this,isPivotMode=colModel.isPivotMode(),filterSpecialColumns=col=>!isColumnSelectionCol(col)&&(!isRowNumberCol(col)||exportRowNumbers);if(columnKeys&&columnKeys.length)return colModel.getColsForKeys(columnKeys).filter(filterSpecialColumns);const isTreeData=gos.get("treeData");let columnsToExport=[];return columnsToExport=allColumns&&!isPivotMode?colModel.getCols():visibleCols.allCols,columnsToExport=columnsToExport.filter((column=>filterSpecialColumns(column)&&(!(skipRowGroups&&!isTreeData)||!isColumnGroupAutoCol(column)))),columnsToExport}recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,processGroupHeaderCallback){const directChildrenHeaderGroups=[];displayedGroups.forEach((columnGroupChild=>{const columnGroup=columnGroupChild;columnGroup.getChildren&&columnGroup.getChildren().forEach((it=>directChildrenHeaderGroups.push(it)))})),displayedGroups.length>0&&isColumnGroup2(displayedGroups[0])&&this.doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback),directChildrenHeaderGroups&&directChildrenHeaderGroups.length>0&&this.recursivelyAddHeaderGroups(directChildrenHeaderGroups,gridSerializingSession,processGroupHeaderCallback)}doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback){const gridRowIterator=gridSerializingSession.onNewHeaderGroupingRow();let columnIndex=0;displayedGroups.forEach((columnGroupChild=>{const columnGroup=columnGroupChild;let name;name=processGroupHeaderCallback?processGroupHeaderCallback(_addGridCommonParams(this.gos,{columnGroup})):this.beans.colNames.getDisplayNameForColumnGroup(columnGroup,"header");const collapsibleGroupRanges=columnGroup.getLeafColumns().reduce(((collapsibleGroups,currentColumn,currentIdx,arr)=>{let lastGroup=_last(collapsibleGroups);return"open"===currentColumn.getColumnGroupShow()?lastGroup&&null==lastGroup[1]||(lastGroup=[currentIdx],collapsibleGroups.push(lastGroup)):lastGroup&&null==lastGroup[1]&&(lastGroup[1]=currentIdx-1),currentIdx===arr.length-1&&lastGroup&&null==lastGroup[1]&&(lastGroup[1]=currentIdx),collapsibleGroups}),[]);gridRowIterator.onColumn(columnGroup,name||"",columnIndex++,columnGroup.getLeafColumns().length-1,collapsibleGroupRanges)}))}}]},CsvSerializingSession=class extends BaseGridSerializingSession{constructor(config){super(config),this.isFirstLine=!0,this.result="";const{suppressQuotes,columnSeparator}=config;this.suppressQuotes=suppressQuotes,this.columnSeparator=columnSeparator}addCustomContent(content){content&&("string"==typeof content?(/^\s*\n/.test(content)||this.beginNewLine(),content=content.replace(/\r?\n/g,"\r\n"),this.result+=content):content.forEach((row=>{this.beginNewLine(),row.forEach(((cell,index)=>{0!==index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(cell.data.value||""),cell.mergeAcross&&this.appendEmptyCells(cell.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(columnGroup,header,index,span){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(header),this.appendEmptyCells(span)}appendEmptyCells(count){for(let i=1;i<=count;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(column,index){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(column))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(column,index,node){0!=index&&(this.result+=this.columnSeparator);const rowCellValue=this.extractRowCellValue(column,index,index,"csv",node);this.result+=this.putInQuotes(rowCellValue.valueFormatted??rowCellValue.value)}putInQuotes(value){if(this.suppressQuotes)return value;if(null==value)return'""';let stringValue;"string"==typeof value?stringValue=value:"function"==typeof value.toString?stringValue=value.toString():(_warn(53),stringValue="");return'"'+stringValue.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var CsvExportModule={moduleName:"CsvExport",version:VERSION,beans:[class extends BaseCreator{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(beans){this.colModel=beans.colModel,this.colNames=beans.colNames,this.rowGroupColsSvc=beans.rowGroupColsSvc,this.valueSvc=beans.valueSvc}getMergedParams(params){const baseParams4=this.gos.get("defaultCsvExportParams");return Object.assign({},baseParams4,params)}export(userParams){if(this.isExportSuppressed())return void _warn(51);const mergedParams=this.getMergedParams(userParams),data=this.getData(mergedParams),packagedFile=new Blob(["\ufeff",data],{type:"text/plain"}),fileName="function"==typeof mergedParams.fileName?mergedParams.fileName(_addGridCommonParams(this.gos,{})):mergedParams.fileName;!function _downloadFile(fileName,content){const win=document.defaultView||window;if(!win)return void _warn(52);const element=document.createElement("a"),url=win.URL.createObjectURL(content);element.setAttribute("href",url),element.setAttribute("download",fileName),element.style.display="none",document.body.appendChild(element),element.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:win})),document.body.removeChild(element),win.setTimeout((()=>{win.URL.revokeObjectURL(url)}),0)}(this.getFileName(fileName),packagedFile)}exportDataAsCsv(params){this.export(params)}getDataAsCsv(params,skipDefaultParams=!1){const mergedParams=skipDefaultParams?Object.assign({},params):this.getMergedParams(params);return this.getData(mergedParams)}getDefaultFileExtension(){return"csv"}createSerializingSession(params){const{colModel,colNames,rowGroupColsSvc,valueSvc,gos}=this,{processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback,suppressQuotes,columnSeparator}=params;return new CsvSerializingSession({colModel,colNames,valueSvc,gos,processCellCallback:processCellCallback||void 0,processHeaderCallback:processHeaderCallback||void 0,processGroupHeaderCallback:processGroupHeaderCallback||void 0,processRowGroupCallback:processRowGroupCallback||void 0,suppressQuotes:suppressQuotes||!1,columnSeparator:columnSeparator||",",rowGroupColsSvc})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}}],apiFunctions:{getDataAsCsv:function getDataAsCsv(beans,params){return beans.csvCreator?.getDataAsCsv(params)},exportDataAsCsv:function exportDataAsCsv(beans,params){beans.csvCreator?.exportDataAsCsv(params)}},dependsOn:[SharedExportModule]},InfiniteBlock=class extends BeanStub{constructor(id,parentCache,params){super(),this.id=id,this.parentCache=parentCache,this.params=params,this.state="needsLoading",this.version=0,this.startRow=id*params.blockSize,this.endRow=this.startRow+params.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(version){this.isRequestMostRecentAndLive(version)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(version,rows,lastRow){this.successCommon(version,{rowData:rows,rowCount:lastRow})}isRequestMostRecentAndLive(version){const thisIsMostRecentRequest=version===this.version,weAreNotDestroyed=this.isAlive();return thisIsMostRecentRequest&&weAreNotDestroyed}successCommon(version,params){this.dispatchLocalEvent({type:"loadComplete"});this.isRequestMostRecentAndLive(version)&&(this.state="loaded",this.processServerResult(params))}postConstruct(){this.rowNodes=[];const{params:{blockSize,rowHeight},startRow,beans,rowNodes}=this;for(let i=0;i<blockSize;i++){const rowIndex=startRow+i,rowNode=new RowNode(beans);rowNode.setRowHeight(rowHeight),rowNode.uiLevel=0,rowNode.setRowIndex(rowIndex),rowNode.setRowTop(rowHeight*rowIndex),rowNodes.push(rowNode)}}getBlockStateJson(){const{id,startRow,endRow,state:pageStatus}=this;return{id:""+id,state:{blockNumber:id,startRow,endRow,pageStatus}}}setDataAndId(rowNode,data,index){_exists(data)?rowNode.setDataAndId(data,index.toString()):rowNode.setDataAndId(void 0,void 0)}loadFromDatasource(){const params=this.createLoadParams();_missing(this.params.datasource.getRows)?_warn(90):window.setTimeout((()=>{this.params.datasource.getRows(params)}),0)}createLoadParams(){const{startRow,endRow,version,params:{sortModel,filterModel},gos}=this;return{startRow,endRow,successCallback:this.pageLoaded.bind(this,version),failCallback:this.pageLoadFailed.bind(this,version),sortModel,filterModel,context:_addGridCommonParams(gos,{}).context}}forEachNode(callback,sequence,rowCount){this.rowNodes.forEach(((rowNode,index)=>{this.startRow+index<rowCount&&callback(rowNode,sequence.value++)}))}getRow(rowIndex,dontTouchLastAccessed=!1){dontTouchLastAccessed||(this.lastAccessed=this.params.lastAccessedSequence.value++);const localIndex=rowIndex-this.startRow;return this.rowNodes[localIndex]}processServerResult(params){const{rowNodes,beans}=this;rowNodes.forEach(((rowNode,index)=>{const data=params.rowData?params.rowData[index]:void 0;!rowNode.id&&rowNode.alreadyRendered&&data&&(rowNodes[index]=new RowNode(beans),rowNodes[index].setRowIndex(rowNode.rowIndex),rowNodes[index].setRowTop(rowNode.rowTop),rowNodes[index].setRowHeight(rowNode.rowHeight),rowNode.clearRowTopAndRowIndex()),this.setDataAndId(rowNodes[index],data,this.startRow+index)}));const finalRowCount=null!=params.rowCount&&params.rowCount>=0?params.rowCount:void 0;this.parentCache.pageLoaded(this,finalRowCount)}destroy(){this.rowNodes.forEach((rowNode=>{rowNode.clearRowTopAndRowIndex()})),super.destroy()}},InfiniteCache=class extends BeanStub{constructor(params){super(),this.params=params,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=params.initialRowCount}getRow(rowIndex,dontCreatePage=!1){const blockId=Math.floor(rowIndex/this.params.blockSize);let block=this.blocks[blockId];if(!block){if(dontCreatePage)return;block=this.createBlock(blockId)}return block.getRow(rowIndex)}createBlock(blockNumber){const params=this.params,newBlock=this.createBean(new InfiniteBlock(blockNumber,this,params));return this.blocks[newBlock.id]=newBlock,this.blockCount++,this.purgeBlocksIfNeeded(newBlock),params.rowNodeBlockLoader.addBlock(newBlock),newBlock}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((block=>block.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((block=>this.destroyBlock(block))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(block,lastRow){this.isAlive()&&(_logIfDebug(this.gos,`InfiniteCache - onPageLoaded: page = ${block.id}, lastRow = ${lastRow}`),this.checkRowCount(block,lastRow),this.onCacheUpdated())}purgeBlocksIfNeeded(blockToExclude){const blocksForPurging=this.getBlocksInOrder().filter((b=>b!=blockToExclude));blocksForPurging.sort(((a,b)=>b.lastAccessed-a.lastAccessed));const maxBlocksProvided=this.params.maxBlocksInCache>0,blocksToKeep=maxBlocksProvided?this.params.maxBlocksInCache-1:null;blocksForPurging.forEach(((block,index)=>{if("needsLoading"===block.state&&index>=1||!!maxBlocksProvided&&index>=blocksToKeep){if(this.isBlockCurrentlyDisplayed(block))return;if(this.isBlockFocused(block))return;this.removeBlockFromCache(block)}}))}isBlockFocused(block){const focusedCell=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!focusedCell)return!1;if(null!=focusedCell.rowPinned)return!1;const{startRow,endRow}=block;return focusedCell.rowIndex>=startRow&&focusedCell.rowIndex<endRow}isBlockCurrentlyDisplayed(block){const{startRow,endRow}=block;return this.beans.rowRenderer.isRangeInRenderedViewport(startRow,endRow-1)}removeBlockFromCache(blockToRemove){blockToRemove&&this.destroyBlock(blockToRemove)}checkRowCount(block,lastRow){if("number"==typeof lastRow&&lastRow>=0)this.rowCount=lastRow,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize,overflowSize}=this.params,lastRowIndexPlusOverflow=(block.id+1)*blockSize+overflowSize;this.rowCount<lastRowIndexPlusOverflow&&(this.rowCount=lastRowIndexPlusOverflow)}}setRowCount(rowCount,lastRowIndexKnown){this.rowCount=rowCount,_exists(lastRowIndexKnown)&&(this.lastRowIndexKnown=lastRowIndexKnown),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(callback){const sequence={value:0};this.getBlocksInOrder().forEach((block=>block.forEachNode(callback,sequence,this.rowCount)))}getBlocksInOrder(){return Object.values(this.blocks).sort(((a,b)=>a.id-b.id))}destroyBlock(block){delete this.blocks[block.id],this.destroyBean(block),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(block)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const blocksToDestroy=[];this.getBlocksInOrder().forEach((block=>{block.id*this.params.blockSize>=this.rowCount&&blocksToDestroy.push(block)})),blocksToDestroy.length>0&&blocksToDestroy.forEach((block=>this.destroyBlock(block)))}purgeCache(){this.getBlocksInOrder().forEach((block=>this.removeBlockFromCache(block))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(firstInRange,lastInRange){const result=[];let lastBlockId=-1,inActiveRange=!1;const numberSequence={value:0};let foundGapInSelection=!1;this.getBlocksInOrder().forEach((block=>{foundGapInSelection||(inActiveRange&&lastBlockId+1!==block.id?foundGapInSelection=!0:(lastBlockId=block.id,block.forEachNode((rowNode=>{const hitFirstOrLast=rowNode===firstInRange||rowNode===lastInRange;(inActiveRange||hitFirstOrLast)&&result.push(rowNode),hitFirstOrLast&&(inActiveRange=!inActiveRange)}),numberSequence,this.rowCount)))}));return foundGapInSelection||inActiveRange?[]:result}};var InfiniteRowModelModule={moduleName:"InfiniteRowModel",version:VERSION,apiFunctions:{refreshInfiniteCache:function refreshInfiniteCache(beans){_getInfiniteRowModel(beans)?.refreshCache()},purgeInfiniteCache:function purgeInfiniteCache(beans){_getInfiniteRowModel(beans)?.purgeCache()},getInfiniteRowCount:function getInfiniteRowCount(beans){return _getInfiniteRowModel(beans)?.getRowCount()}},dependsOn:[{moduleName:"InfiniteRowModelCore",version:VERSION,rowModels:["infinite"],beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(index){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*index}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=_getRowHeightAsNumber(this.beans),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=_getRowHeightAsNumber(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onColumnEverything(){let resetRequired;resetRequired=!this.cacheParams||!_jsonEquals(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]),resetRequired&&this.reset()}getType(){return"infinite"}setDatasource(datasource){this.destroyDatasource(),this.datasource=datasource,datasource&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(firstInRange,lastInRange){return this.infiniteCache?.getRowNodesInRange(firstInRange,lastInRange)??[]}reset(){if(!this.datasource)return;null!=_getRowIdCallback(this.gos)||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const beans=this.beans,{filterManager,sortSvc,rowNodeBlockLoader,eventSvc,gos}=beans;this.cacheParams={datasource:this.datasource,filterModel:filterManager?.getFilterModel()??{},sortModel:sortSvc?.getSortModel()??[],rowNodeBlockLoader,initialRowCount:gos.get("infiniteInitialRowCount"),maxBlocksInCache:gos.get("maxBlocksInCache"),rowHeight:_getRowHeightAsNumber(beans),overflowSize:gos.get("cacheOverflowSize"),blockSize:gos.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams)),eventSvc.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode((node=>{node.setRowHeight(this.rowHeight),node.setRowTop(this.rowHeight*node.rowIndex)})),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(rowIndex){const infiniteCache=this.infiniteCache;if(infiniteCache&&!(rowIndex>=infiniteCache.getRowCount()))return infiniteCache.getRow(rowIndex)}getRowNode(id){let result;return this.forEachNode((rowNode=>{rowNode.id===id&&(result=rowNode)})),result}forEachNode(callback){this.infiniteCache?.forEachNodeDeep(callback)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(topLevelIndex){return topLevelIndex}getRowIndexAtPixel(pixel){if(0!==this.rowHeight){const rowIndexForPixel=Math.floor(pixel/this.rowHeight),lastRowIndex=this.getRowCount()-1;return rowIndexForPixel>lastRowIndex?lastRowIndex:rowIndexForPixel}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(rowNode){return!!this.getRowNode(rowNode.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(rowCount,lastRowIndexKnown){this.infiniteCache?.setRowCount(rowCount,lastRowIndexKnown)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=function _getMaxConcurrentDatasourceRequests(gos){const res=gos.get("maxConcurrentDatasourceRequests");return res>0?res:void 0}(this.gos);const blockLoadDebounceMillis=this.gos.get("blockLoadDebounceMillis");blockLoadDebounceMillis&&blockLoadDebounceMillis>0&&(this.checkBlockToLoadDebounce=_debounce(this,this.performCheckBlocksToLoad.bind(this),blockLoadDebounceMillis))}addBlock(block){this.blocks.push(block),block.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(block){_removeFromArray(this.blocks,block)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void _logIfDebug(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");const loadAvailability=null!=this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,blocksToLoad=this.blocks.filter((block=>"needsLoading"===block.state)).slice(0,loadAvailability);this.activeBlockLoadsCount+=blocksToLoad.length,blocksToLoad.forEach((block=>block.load())),this.printCacheStatus()}getBlockState(){const result={};return this.blocks.forEach((block=>{const{id,state}=block.getBlockStateJson();result[id]=state})),result}printCacheStatus(){_logIfDebug(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}}]},SsrmInfiniteSharedApiModule]};var HighlightChangesModule={moduleName:"HighlightChanges",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(cellCtrl,event){if(!cellCtrl.comp)return;const cellId=function _createCellId(cellPosition){const{rowIndex,rowPinned,column}=cellPosition;return`${rowIndex}.${null==rowPinned?"null":rowPinned}.${column.getId()}`}(cellCtrl.cellPosition);event.cells[cellId]&&this.animateCell(cellCtrl,"highlight")}flashCell(cellCtrl,delays){this.animateCell(cellCtrl,"data-changed",delays?.flashDuration,delays?.fadeDuration)}animateCell(cellCtrl,cssName,flashDuration,fadeDuration){const cellComp=cellCtrl.comp;if(!cellComp)return;const{gos}=this;if(flashDuration||(flashDuration=gos.get("cellFlashDuration")),0===flashDuration)return;_exists(fadeDuration)||(fadeDuration=gos.get("cellFadeDuration"));const fullName=`ag-cell-${cssName}`,animationFullName=`ag-cell-${cssName}-animation`;cellComp.addOrRemoveCssClass(fullName,!0),cellComp.addOrRemoveCssClass(animationFullName,!1);const eCell=cellCtrl.eGui;this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{cellCtrl.isAlive()&&(cellComp.addOrRemoveCssClass(fullName,!1),cellComp.addOrRemoveCssClass(animationFullName,!0),eCell.style.transition=`background-color ${fadeDuration}ms`,window.setTimeout((()=>{cellCtrl.isAlive()&&(cellComp.addOrRemoveCssClass(animationFullName,!1),eCell.style.transition="")}),fadeDuration))}),flashDuration)}))}}],userComponents:{agAnimateShowChangeCellRenderer:class extends Component{constructor(){super(),this.refreshCount=0;const template=document.createElement("span"),delta=document.createElement("span");delta.setAttribute("class","ag-value-change-delta");const value=document.createElement("span");value.setAttribute("class","ag-value-change-value"),template.appendChild(delta),template.appendChild(value),this.setTemplateFromElement(template)}init(params){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(params,!0)}showDelta(params,delta){const absDelta=Math.abs(delta),valueFormatted=params.formatValue(absDelta),valueToUse=_exists(valueFormatted)?valueFormatted:absDelta,deltaUp=delta>=0,eDelta=this.eDelta;eDelta.textContent=deltaUp?"↑"+valueToUse:"↓"+valueToUse,eDelta.classList.toggle("ag-value-change-delta-up",deltaUp),eDelta.classList.toggle("ag-value-change-delta-down",!deltaUp)}setTimerToRemoveDelta(){this.refreshCount++;const refreshCountCopy=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),_clearElement(this.eDelta)}refresh(params,isInitialRender=!1){const{value,valueFormatted}=params,{eValue,lastValue,beans}=this;if(value===lastValue)return!1;if(_exists(valueFormatted)?eValue.textContent=valueFormatted:_exists(value)?eValue.textContent=value:_clearElement(eValue),beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof value&&"number"==typeof lastValue){const delta=value-lastValue;this.showDelta(params,delta)}return lastValue&&eValue.classList.add("ag-value-change-value-highlight"),isInitialRender||this.setTimerToRemoveDelta(),this.lastValue=value,!0}},agAnimateSlideCellRenderer:class extends Component{constructor(){super(),this.refreshCount=0;const template=document.createElement("span"),slide=document.createElement("span");slide.setAttribute("class","ag-value-slide-current"),template.appendChild(slide),this.setTemplateFromElement(template),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}")}init(params){this.refresh(params,!0)}addSlideAnimation(){this.refreshCount++;const refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans,eCurrent}=this,prevElement=_getDocument(beans).createElement("span");prevElement.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=prevElement,prevElement.textContent=eCurrent.textContent,this.getGui().insertBefore(prevElement,eCurrent),beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(params,isInitialRender=!1){let value=params.value;if(_missing(value)&&(value=""),value===this.lastValue)return!1;if(this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;isInitialRender||this.addSlideAnimation(),this.lastValue=value;const eCurrent=this.eCurrent;return _exists(params.valueFormatted)?eCurrent.textContent=params.valueFormatted:_exists(params.value)?eCurrent.textContent=value:_clearElement(eCurrent),!0}}},apiFunctions:{flashCells:function flashCells(beans,params={}){const{cellFlashSvc}=beans;cellFlashSvc&&beans.frameworkOverrides.wrapIncoming((()=>{beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>cellFlashSvc.flashCell(cellCtrl,params)))}))}}};function migrateGridStateModel(state){if((state={...state}).version||(state.version="32.1.0"),"32.1.0"===state.version)state=function migrateV32_1(state){return state.cellSelection=function jsonGet(json,key){if(json&&"object"==typeof json)return json[key]}(state,"rangeSelection"),state}(state);return state}var GridStateModule={moduleName:"GridState",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=_debounce(this,(()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=_debounce(this,(()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())}),0),this.onRowSelectedDebounced=_debounce(this,(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=_isClientSideRowModel(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",VERSION);const suppressEventsAndDispatchInitEvent=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,(()=>suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[newColumnsLoadedDestroyFunc,rowCountReadyDestroyFunc,firstDataRenderedDestroyFunc]=this.addManagedEventListeners({newColumnsLoaded:({source})=>{"gridInitializing"===source&&(newColumnsLoadedDestroyFunc(),suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{rowCountReadyDestroyFunc?.(),suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{firstDataRenderedDestroyFunc?.(),suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return migrateGridStateModel(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const stateUpdater=()=>this.updateCachedState("sideBar",this.getSideBarState());stateUpdater(),this.addManagedEventListeners({toolPanelVisibleChanged:stateUpdater,sideBarUpdated:stateUpdater})}setupStateOnColumnsInitialised(){const initialState=this.getInitialState();this.setColumnState(initialState),this.setColumnGroupState(initialState),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const onUpdate=state=>()=>this.updateColumnState([state]);this.addManagedEventListeners({columnValueChanged:onUpdate("aggregation"),columnMoved:onUpdate("columnOrder"),columnPinned:onUpdate("columnPinning"),columnResized:onUpdate("columnSizing"),columnVisible:onUpdate("columnVisibility"),columnPivotChanged:onUpdate("pivot"),columnPivotModeChanged:onUpdate("pivot"),columnRowGroupChanged:onUpdate("rowGroup"),sortChanged:onUpdate("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:filterState,rowGroupExpansion:rowGroupExpansionState,rowSelection:rowSelectionState,pagination:paginationState}=this.getInitialState();filterState&&this.setFilterState(filterState),rowGroupExpansionState&&this.setRowGroupExpansionState(rowGroupExpansionState),rowSelectionState&&this.setRowSelectionState(rowSelectionState),paginationState&&this.setPaginationState(paginationState);const updateCachedState=this.updateCachedState.bind(this);updateCachedState("filter",this.getFilterState()),updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),updateCachedState("rowSelection",this.getRowSelectionState()),updateCachedState("pagination",this.getPaginationState());const updateRowGroupExpansionState=()=>{this.updateRowGroupExpansionStateTimer=0,updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:updateRowGroupExpansionState,columnRowGroupChanged:updateRowGroupExpansionState,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(updateRowGroupExpansionState)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:event=>{(event.newPage||event.newPageSize)&&updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:scrollState,cellSelection:cellSelectionState,focusedCell:focusedCellState,columnOrder:columnOrderState}=this.getInitialState();focusedCellState&&this.setFocusedCellState(focusedCellState),cellSelectionState&&this.setCellSelectionState(cellSelectionState),scrollState&&this.setScrollState(scrollState),this.setColumnPivotState(!!columnOrderState?.orderedColIds);const updateCachedState=this.updateCachedState.bind(this);updateCachedState("sideBar",this.getSideBarState()),updateCachedState("focusedCell",this.getFocusedCellState());const cellSelection=this.getRangeSelectionState();updateCachedState("rangeSelection",cellSelection),updateCachedState("cellSelection",cellSelection),updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:event=>{if(event.finished){const cellSelection2=this.getRangeSelectionState();updateCachedState("rangeSelection",cellSelection2),updateCachedState("cellSelection",cellSelection2)}},bodyScrollEnd:()=>updateCachedState("scroll",this.getScrollState())})}getColumnState(){const beans=this.beans,pivotMode=beans.colModel.isPivotMode(),sortColumns=[],groupColIds=[],aggregationColumns=[],pivotColIds=[],leftColIds=[],rightColIds=[],hiddenColIds=[],columnSizes=[],columns=[];let defaultSortIndex=0;const columnState=_getColumnState(beans);for(let i=0;i<columnState.length;i++){const{colId,sort,sortIndex,rowGroup,rowGroupIndex,aggFunc,pivot,pivotIndex,pinned,hide,width,flex}=columnState[i];columns.push(colId),sort&&(sortColumns[sortIndex??defaultSortIndex++]={colId,sort}),rowGroup&&(groupColIds[rowGroupIndex??0]=colId),"string"==typeof aggFunc&&aggregationColumns.push({colId,aggFunc}),pivot&&(pivotColIds[pivotIndex??0]=colId),pinned&&("right"===pinned?rightColIds:leftColIds).push(colId),hide&&hiddenColIds.push(colId),(null!=flex||width)&&columnSizes.push({colId,flex:flex??void 0,width})}return{sort:sortColumns.length?{sortModel:sortColumns}:void 0,rowGroup:groupColIds.length?{groupColIds}:void 0,aggregation:aggregationColumns.length?{aggregationModel:aggregationColumns}:void 0,pivot:pivotColIds.length||pivotMode?{pivotMode,pivotColIds}:void 0,columnPinning:leftColIds.length||rightColIds.length?{leftColIds,rightColIds}:void 0,columnVisibility:hiddenColIds.length?{hiddenColIds}:void 0,columnSizing:columnSizes.length?{columnSizingModel:columnSizes}:void 0,columnOrder:columns.length?{orderedColIds:columns}:void 0}}setColumnState(initialState){const{sort:sortState,rowGroup:groupState,aggregation:aggregationState,pivot:pivotState,columnPinning:columnPinningState,columnVisibility:columnVisibilityState,columnSizing:columnSizingState,columnOrder:columnOrderState,partialColumnState}=initialState,columnStateMap={},getColumnState2=colId=>{let columnState=columnStateMap[colId];return columnState||(columnState={colId},columnStateMap[colId]=columnState,columnState)},defaultState=partialColumnState?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};sortState&&(sortState.sortModel.forEach((({colId,sort},sortIndex)=>{const columnState=getColumnState2(colId);columnState.sort=sort,columnState.sortIndex=sortIndex})),defaultState.sort=null,defaultState.sortIndex=null),groupState&&(groupState.groupColIds.forEach(((colId,rowGroupIndex)=>{const columnState=getColumnState2(colId);columnState.rowGroup=!0,columnState.rowGroupIndex=rowGroupIndex})),defaultState.rowGroup=null,defaultState.rowGroupIndex=null),aggregationState&&(aggregationState.aggregationModel.forEach((({colId,aggFunc})=>{getColumnState2(colId).aggFunc=aggFunc})),defaultState.aggFunc=null),pivotState&&(pivotState.pivotColIds.forEach(((colId,pivotIndex)=>{const columnState=getColumnState2(colId);columnState.pivot=!0,columnState.pivotIndex=pivotIndex})),this.gos.updateGridOptions({options:{pivotMode:pivotState.pivotMode},source:"gridInitializing"}),defaultState.pivot=null,defaultState.pivotIndex=null),columnPinningState&&(columnPinningState.leftColIds.forEach((colId=>{getColumnState2(colId).pinned="left"})),columnPinningState.rightColIds.forEach((colId=>{getColumnState2(colId).pinned="right"})),defaultState.pinned=null),columnVisibilityState&&(columnVisibilityState.hiddenColIds.forEach((colId=>{getColumnState2(colId).hide=!0})),defaultState.hide=null),columnSizingState&&(columnSizingState.columnSizingModel.forEach((({colId,flex,width})=>{const columnState=getColumnState2(colId);columnState.flex=flex??null,columnState.width=width})),defaultState.flex=null);const columns=columnOrderState?.orderedColIds,applyOrder=!!columns?.length,columnStates=applyOrder?columns.map((colId=>getColumnState2(colId))):Object.values(columnStateMap);columnStates.length&&(this.columnStates=columnStates,_applyColumnState(this.beans,{state:columnStates,applyOrder,defaultState},"gridInitializing"))}setColumnPivotState(applyOrder){const columnStates=this.columnStates;this.columnStates=void 0;const columnGroupStates=this.columnGroupStates;this.columnGroupStates=void 0;const beans=this.beans,{pivotResultCols,colGroupSvc}=beans;if(pivotResultCols?.isPivotResultColsPresent()){if(columnStates){const secondaryColumnStates=[];for(const columnState of columnStates)pivotResultCols.getPivotResultCol(columnState.colId)&&secondaryColumnStates.push(columnState);_applyColumnState(beans,{state:secondaryColumnStates,applyOrder},"gridInitializing")}columnGroupStates&&colGroupSvc?.setColumnGroupState(columnGroupStates,"gridInitializing")}}getColumnGroupState(){const colGroupSvc=this.beans.colGroupSvc;if(!colGroupSvc)return;const columnGroupState=colGroupSvc.getColumnGroupState(),openColumnGroups=[];return columnGroupState.forEach((({groupId,open})=>{open&&openColumnGroups.push(groupId)})),openColumnGroups.length?{openColumnGroupIds:openColumnGroups}:void 0}setColumnGroupState(initialState){const colGroupSvc=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(initialState,"columnGroup")||!colGroupSvc)return;const openColumnGroups=new Set(initialState.columnGroup?.openColumnGroupIds),stateItems=colGroupSvc.getColumnGroupState().map((({groupId})=>{const open=openColumnGroups.has(groupId);return open&&openColumnGroups.delete(groupId),{groupId,open}}));openColumnGroups.forEach((groupId=>{stateItems.push({groupId,open:!0})})),stateItems.length&&(this.columnGroupStates=stateItems),colGroupSvc.setColumnGroupState(stateItems,"gridInitializing")}getFilterState(){const filterManager=this.beans.filterManager;let filterModel=filterManager?.getFilterModel();filterModel&&0===Object.keys(filterModel).length&&(filterModel=void 0);const advancedFilterModel=filterManager?.getAdvFilterModel()??void 0;return filterModel||advancedFilterModel?{filterModel,advancedFilterModel}:void 0}setFilterState(filterState){const filterManager=this.beans.filterManager,{filterModel,advancedFilterModel}=filterState??{};filterModel&&filterManager?.setFilterModel(filterModel,"columnFilter"),advancedFilterModel&&filterManager?.setAdvFilterModel(advancedFilterModel,"advancedFilter")}getRangeSelectionState(){const cellRanges=this.beans.rangeSvc?.getCellRanges().map((cellRange=>{const{id,type,startRow,endRow,columns,startColumn}=cellRange;return{id,type,startRow,endRow,colIds:columns.map((column=>column.getColId())),startColId:startColumn.getColId()}}));return cellRanges?.length?{cellRanges}:void 0}setCellSelectionState(cellSelectionState){const{gos,rangeSvc,colModel,visibleCols}=this.beans;if(!_isCellSelectionEnabled(gos)||!rangeSvc)return;const cellRanges=[];cellSelectionState.cellRanges.forEach((cellRange=>{const columns=[];if(cellRange.colIds.forEach((colId=>{const column=colModel.getCol(colId);column&&columns.push(column)})),!columns.length)return;let startColumn=colModel.getCol(cellRange.startColId);if(!startColumn){const allColumns=visibleCols.allCols,columnSet=new Set(columns);startColumn=allColumns.find((column=>columnSet.has(column)))}cellRanges.push({...cellRange,columns,startColumn})})),rangeSvc.setCellRanges(cellRanges)}getScrollState(){if(!this.isClientSideRowModel)return;const scrollFeature=this.beans.ctrlsSvc.getScrollFeature(),{left}=scrollFeature?.getHScrollPosition()??{left:0},{top}=scrollFeature?.getVScrollPosition()??{top:0};return top||left?{top,left}:void 0}setScrollState(scrollState){if(!this.isClientSideRowModel)return;const{top,left}=scrollState,{frameworkOverrides,rowRenderer,animationFrameSvc,ctrlsSvc}=this.beans;frameworkOverrides.wrapIncoming((()=>{ctrlsSvc.get("center").setCenterViewportScrollLeft(left),ctrlsSvc.getScrollFeature()?.setVerticalScrollPosition(top),rowRenderer.redraw({afterScroll:!0}),animationFrameSvc?.flushAllFrames()}))}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const focusedCell=this.beans.focusSvc.getFocusedCell();if(focusedCell){const{column,rowIndex,rowPinned}=focusedCell;return{colId:column.getColId(),rowIndex,rowPinned}}}setFocusedCellState(focusedCellState){if(!this.isClientSideRowModel)return;const{colId,rowIndex,rowPinned}=focusedCellState,{focusSvc,colModel}=this.beans;focusSvc.setFocusedCell({column:colModel.getCol(colId),rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination,gos}=this.beans;if(!pagination)return;const page=pagination.getCurrentPage(),pageSize=gos.get("paginationAutoPageSize")?void 0:pagination.getPageSize();return page||pageSize?{page,pageSize}:void 0}setPaginationState(paginationState){const{pagination,gos}=this.beans;pagination&&(paginationState.pageSize&&!gos.get("paginationAutoPageSize")&&pagination.setPageSize(paginationState.pageSize,"initialState"),"number"==typeof paginationState.page&&pagination.setPage(paginationState.page))}getRowSelectionState(){const selectionSvc=this.beans.selectionSvc;if(!selectionSvc)return;const selectionState=selectionSvc.getSelectionState();return!selectionState||!Array.isArray(selectionState)&&(!1===selectionState.selectAll||!1===selectionState.selectAllChildren)&&!selectionState?.toggledNodes?.length?void 0:selectionState}setRowSelectionState(rowSelectionState){this.beans.selectionSvc?.setSelectionState(rowSelectionState,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc,rowModel}=this.beans;if(!expansionSvc)return;const expandedRowGroups=[];return rowModel.forEachNode((({expanded,id})=>{expanded&&id&&expandedRowGroups.push(id)})),expandedRowGroups.length?{expandedRowGroupIds:expandedRowGroups}:void 0}setRowGroupExpansionState(rowGroupExpansionState){this.beans.expansionSvc?.expandRows(rowGroupExpansionState.expandedRowGroupIds)}updateColumnState(features){const newColumnState=this.getColumnState();let hasChanged=!1;const cachedState=this.cachedState;for(const key of Object.keys(newColumnState)){_jsonEquals(newColumnState[key],cachedState[key])||(hasChanged=!0)}this.cachedState={...cachedState,...newColumnState},hasChanged&&this.dispatchStateUpdateEvent(features)}updateCachedState(key,value){const existingValue=this.cachedState[key];this.setCachedStateValue(key,value),_jsonEquals(value,existingValue)||this.dispatchStateUpdateEvent([key])}setCachedStateValue(key,value){this.cachedState={...this.cachedState,[key]:value}}refreshStaleState(){const staleStateKeys=this.staleStateKeys;staleStateKeys.forEach((key=>{if("rowSelection"===key)this.setCachedStateValue(key,this.getRowSelectionState())})),staleStateKeys.clear()}dispatchStateUpdateEvent(sources){this.suppressEvents||(sources.forEach((source=>this.queuedUpdateSources.add(source))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const queuedUpdateSources=this.queuedUpdateSources,sources=Array.from(queuedUpdateSources);queuedUpdateSources.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources,state:this.cachedState})}suppressEventsAndDispatchInitEvent(updateFunc){this.suppressEvents=!0;const colAnimation=this.beans.colAnimation;colAnimation?.setSuppressAnimation(!0),updateFunc(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}],apiFunctions:{getState:function getState(beans){return beans.stateSvc?.getState()??{}}}};var PageSizeSelectorSelector={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends Component{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const newValue=this.selectPageSizeComp.getValue();if(!newValue)return;const paginationPageSize=Number(newValue);isNaN(paginationPageSize)||paginationPageSize<1||paginationPageSize===this.pagination.getPageSize()||(this.pagination.setPageSize(paginationPageSize,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(beans){this.pagination=beans.pagination}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:event=>this.handlePaginationChanged(event)})}handlePaginationChanged(paginationChangedEvent){if(!this.selectPageSizeComp||!paginationChangedEvent?.newPageSize)return;const paginationPageSize=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(paginationPageSize)?this.selectPageSizeComp.setValue(paginationPageSize.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(show){this.selectPageSizeComp&&!show&&this.reset(),show&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){_clearElement(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const pageSizeOptions=this.getPageSizeSelectorValues(),paginationPageSizeOption=this.pagination.getPageSize(),shouldAddAndSelectEmptyOption=!paginationPageSizeOption||!pageSizeOptions.includes(paginationPageSizeOption);if(shouldAddAndSelectEmptyOption){const pageSizeSet=this.gos.exists("paginationPageSize"),pageSizesSet=!0!==this.gos.get("paginationPageSizeSelector");_warn(94,{pageSizeSet,pageSizesSet,pageSizeOptions,paginationPageSizeOption}),pageSizesSet||_warn(95,{paginationPageSizeOption,paginationPageSizeSelector:"paginationPageSizeSelector"}),pageSizeOptions.unshift("")}const value=String(shouldAddAndSelectEmptyOption?"":paginationPageSizeOption);this.selectPageSizeComp?(_areEqual(this.pageSizeOptions,pageSizeOptions)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(pageSizeOptions)),this.pageSizeOptions=pageSizeOptions),this.selectPageSizeComp.setValue(value,!0)):this.createPageSizeSelectorComp(pageSizeOptions,value),this.hasEmptyOption=shouldAddAndSelectEmptyOption}createPageSizeSelectOptions(pageSizeOptions){return pageSizeOptions.map((value=>({value:String(value)})))}createPageSizeSelectorComp(pageSizeOptions,value){const localeTextFunc=this.getLocaleTextFunc(),localisedLabel=localeTextFunc("pageSizeSelectorLabel","Page Size:"),localisedAriaLabel=localeTextFunc("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new AgSelect).addOptions(this.createPageSizeSelectOptions(pageSizeOptions)).setValue(value).setAriaLabel(localisedAriaLabel).setLabel(localisedLabel).onValueChange((()=>this.handlePageSizeItemSelected())),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const defaultValues=[20,50,100],paginationPageSizeSelectorValues=this.gos.get("paginationPageSizeSelector");return Array.isArray(paginationPageSizeSelectorValues)&&paginationPageSizeSelectorValues?.length?[...paginationPageSizeSelectorValues].sort(((a,b)=>a-b)):defaultValues}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},PaginationSelector={selector:"AG-PAGINATION",component:class extends TabGuardComp{constructor(){super(),this.btFirst=null,this.btPrevious=null,this.btNext=null,this.btLast=null,this.lbRecordCount=null,this.lbFirstRowOnPage=null,this.lbLastRowOnPage=null,this.lbCurrent=null,this.lbTotal=null,this.pageSizeComp=null,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}")}wireBeans(beans){this.rowModel=beans.rowModel,this.pagination=beans.pagination,this.ariaAnnounce=beans.ariaAnnounce}postConstruct(){const isRtl=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PageSizeSelectorSelector]);const{btFirst,btPrevious,btNext,btLast}=this;this.activateTabIndex([btFirst,btPrevious,btNext,btLast]),btFirst.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"last":"first",this.beans)),btPrevious.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"next":"previous",this.beans)),btNext.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"previous":"next",this.beans)),btLast.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:fromBottom=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(fromBottom):function _focusGridInnerElement(beans,fromBottom){return beans.ctrlsSvc.get("gridCtrl").focusInnerElement(fromBottom)}(this.beans,fromBottom),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(allowFocus){this.allowFocusInnerElement=allowFocus}onPaginationChanged(){const paginationPanelEnabled=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(paginationPanelEnabled),paginationPanelEnabled&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((item=>{const{el,fn}=item;this.addManagedListeners(el,{click:fn,keydown:e=>{e.key!==KeyCode_ENTER&&e.key!==KeyCode_SPACE||(e.preventDefault(),fn())}})})),function _addFocusableContainerListener(beans,comp,eGui){comp.addManagedElementListeners(eGui,{keydown:e=>{if(!e.defaultPrevented&&e.key===KeyCode_TAB){const backwards=e.shiftKey;_findNextFocusableElement(beans,eGui,!1,backwards)||_focusNextGridCoreContainer(beans,backwards)&&e.preventDefault()}}})}(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(value){const userFunc=this.gos.getCallback("paginationNumberFormatter");if(userFunc){return userFunc({value})}return function _formatNumberCommas(value,getLocaleTextFunc){if("number"!=typeof value)return"";const localeTextFunc=getLocaleTextFunc(),thousandSeparator=localeTextFunc("thousandSeparator",","),decimalSeparator=localeTextFunc("decimalSeparator",".");return value.toString().replace(".",decimalSeparator).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${thousandSeparator}`)}(value,this.getLocaleTextFunc.bind(this))}getTemplate(){const localeTextFunc=this.getLocaleTextFunc(),strPage=localeTextFunc("page","Page"),strTo=localeTextFunc("to","to"),strOf=localeTextFunc("of","of"),strFirst=localeTextFunc("firstPage","First Page"),strPrevious=localeTextFunc("previousPage","Previous Page"),strNext=localeTextFunc("nextPage","Next Page"),strLast=localeTextFunc("lastPage","Last Page"),compId=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${compId}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${compId}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-to">${strTo}</span>\n                    <span id="ag-${compId}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-of">${strOf}</span>\n                    <span id="ag-${compId}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${strFirst}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${strPrevious}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${compId}-start-page">${strPage}</span>\n                        <span id="ag-${compId}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${compId}-of-page">${strOf}</span>\n                        <span id="ag-${compId}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${strNext}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${strLast}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const currentPage=this.pagination.getCurrentPage(),maxRowFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=0===currentPage,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const zeroPagesToDisplay=this.isZeroPagesToDisplay(),onLastPage=currentPage===totalPages-1;this.nextButtonDisabled=onLastPage||zeroPagesToDisplay,this.lastButtonDisabled=!maxRowFound||zeroPagesToDisplay||currentPage===totalPages-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(button,disabled){!function _setAriaDisabled(element,disabled){_toggleAriaAttribute(element,"disabled",disabled)}(button,disabled),button.classList.toggle("ag-disabled",disabled)}isZeroPagesToDisplay(){const maxRowFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.pagination.getTotalPages();return maxRowFound&&0===totalPages}updateLabels(){const lastPageFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.pagination.getTotalPages(),masterRowCount=this.pagination.getMasterRowCount(),rowCount=lastPageFound?masterRowCount:null;if(1===rowCount){const firstRow=this.rowModel.getRow(0);if(firstRow&&firstRow.group&&!(firstRow.groupData||firstRow.aggData))return void this.setTotalLabelsToZero()}const currentPage=this.pagination.getCurrentPage(),pageSize=this.pagination.getPageSize();let startRow,endRow;this.isZeroPagesToDisplay()?startRow=endRow=0:(startRow=pageSize*currentPage+1,endRow=startRow+pageSize-1,lastPageFound&&endRow>rowCount&&(endRow=rowCount));const isLoadingPageSize=!lastPageFound&&masterRowCount<startRow+pageSize-1,lbFirstRowOnPage=this.formatNumber(startRow);let lbLastRowOnPage;this.lbFirstRowOnPage.textContent=lbFirstRowOnPage;const localeTextFunc=this.getLocaleTextFunc();lbLastRowOnPage=isLoadingPageSize?localeTextFunc("pageLastRowUnknown","?"):this.formatNumber(endRow),this.lbLastRowOnPage.textContent=lbLastRowOnPage;const toDisplay=totalPages>0?currentPage+1:0,lbCurrent=this.formatNumber(toDisplay);let lbTotal,lbRecordCount;if(this.lbCurrent.textContent=lbCurrent,lastPageFound)lbTotal=this.formatNumber(totalPages),lbRecordCount=this.formatNumber(rowCount);else{const moreText=localeTextFunc("more","more");lbTotal=moreText,lbRecordCount=moreText}this.lbTotal.textContent=lbTotal,this.lbRecordCount.textContent=lbRecordCount,this.announceAriaStatus(lbFirstRowOnPage,lbLastRowOnPage,lbRecordCount,lbCurrent,lbTotal)}announceAriaStatus(lbFirstRowOnPage,lbLastRowOnPage,lbRecordCount,lbCurrent,lbTotal){const localeTextFunc=this.getLocaleTextFunc(),strPage=localeTextFunc("page","Page"),strTo=localeTextFunc("to","to"),strOf=localeTextFunc("of","of"),ariaRowStatus=`${lbFirstRowOnPage} ${strTo} ${lbLastRowOnPage} ${strOf} ${lbRecordCount}`,ariaPageStatus=`${strPage} ${lbCurrent} ${strOf} ${lbTotal}`;ariaRowStatus!==this.ariaRowStatus&&(this.ariaRowStatus=ariaRowStatus,this.ariaAnnounce?.announceValue(ariaRowStatus,"paginationRow")),ariaPageStatus!==this.ariaPageStatus&&(this.ariaPageStatus=ariaPageStatus,this.ariaAnnounce?.announceValue(ariaPageStatus,"paginationPage"))}setTotalLabelsToZero(){const strZero=this.formatNumber(0);this.lbFirstRowOnPage.textContent=strZero,this.lbCurrent.textContent=strZero,this.lbLastRowOnPage.textContent=strZero,this.lbTotal.textContent=strZero,this.lbRecordCount.textContent=strZero,this.announceAriaStatus(strZero,strZero,strZero,strZero,strZero)}}},PaginationModule={moduleName:"Pagination",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const gos=this.gos;this.active=gos.get("pagination"),this.pageSizeFromGridOptions=gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return PaginationSelector}isPaginateChildRows(){const gos=this.gos;return!!(gos.get("groupHideParentOfSingleChild")||gos.get("groupRemoveSingleChildren")||gos.get("groupRemoveLowestSingleChildren"))||gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(page){const currentPage=this.currentPage;this.active&&currentPage!==page&&"number"==typeof currentPage&&(this.currentPage=page,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(rowNode){return rowNode.rowIndex>=this.topDisplayedRowIndex&&rowNode.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(index){return Math.floor(index/this.pageSize)}goToPageWithIndex(index){if(!this.active)return;const pageNumber=this.getPageForIndex(index);this.goToPage(pageNumber)}isRowInPage(row){if(!this.active)return!0;return this.getPageForIndex(row.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const rowCount=this.beans.rowModel.getRowCount(),lastPage=Math.floor(rowCount/this.pageSize);this.goToPage(lastPage)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(page){this.currentPage=page}get pageSize(){return _exists(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:_exists(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_exists(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_exists(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const oldPageSize=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==oldPageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(size,source){const currentSize=this.pageSize;switch(source){case"autoCalculated":this.pageSizeAutoCalculated=size;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=size,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=size;break;case"gridOptions":this.pageSizeFromGridOptions=size,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}currentSize!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const totalPages=this.totalPages;this.currentPage>=totalPages&&(this.currentPage=totalPages-1);const currentPage=this.currentPage;(!isFinite(currentPage)||isNaN(currentPage)||currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const rowModel=this.beans.rowModel,masterRowCount=rowModel.getTopLevelRowCount();if(this.masterRowCount=masterRowCount,masterRowCount<=0)return void this.setZeroRows();const pageSize=this.pageSize,masterLastRowIndex=masterRowCount-1;this.totalPages=Math.floor(masterLastRowIndex/pageSize)+1,this.adjustCurrentPageIfInvalid();const currentPage=this.currentPage,masterPageStartIndex=pageSize*currentPage;let masterPageEndIndex=pageSize*(currentPage+1)-1;if(masterPageEndIndex>masterLastRowIndex&&(masterPageEndIndex=masterLastRowIndex),this.topDisplayedRowIndex=rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex),masterPageEndIndex===masterLastRowIndex)this.bottomDisplayedRowIndex=rowModel.getRowCount()-1;else{const firstIndexNotToShow=rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex+1);this.bottomDisplayedRowIndex=firstIndexNotToShow-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const masterRowCount=this.beans.rowModel.getRowCount();if(this.masterRowCount=masterRowCount,0===masterRowCount)return void this.setZeroRows();const{pageSize,currentPage}=this,maxRowIndex=masterRowCount-1;this.totalPages=Math.floor(maxRowIndex/pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=pageSize*currentPage,this.bottomDisplayedRowIndex=pageSize*(currentPage+1)-1,this.bottomDisplayedRowIndex>maxRowIndex&&(this.bottomDisplayedRowIndex=maxRowIndex)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(params){const{keepRenderedRows=!1,newPage=!1,newPageSize=!1}=params;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage,newPageSize,keepRenderedRows})}},class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.centerRowsCtrl=p.center;const listener=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:listener,scrollVisibilityChanged:listener}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const bodyHeight=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(bodyHeight>0){const beans=this.beans,update=()=>{const rowHeight=Math.max(_getRowHeightAsNumber(beans),1),newPageSize=Math.floor(bodyHeight/rowHeight);beans.pagination.setPageSize(newPageSize,"autoCalculated")};this.isBodyRendered?_debounce(this,update,50)():(update(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:function paginationIsLastPageFound(beans){return beans.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function paginationGetPageSize(beans){return beans.pagination?.getPageSize()??100},paginationGetCurrentPage:function paginationGetCurrentPage(beans){return beans.pagination?.getCurrentPage()??0},paginationGetTotalPages:function paginationGetTotalPages(beans){return beans.pagination?.getTotalPages()??1},paginationGetRowCount:function paginationGetRowCount(beans){return beans.pagination?beans.pagination.getMasterRowCount():beans.rowModel.getRowCount()},paginationGoToNextPage:function paginationGoToNextPage(beans){beans.pagination?.goToNextPage()},paginationGoToPreviousPage:function paginationGoToPreviousPage(beans){beans.pagination?.goToPreviousPage()},paginationGoToFirstPage:function paginationGoToFirstPage(beans){beans.pagination?.goToFirstPage()},paginationGoToLastPage:function paginationGoToLastPage(beans){beans.pagination?.goToLastPage()},paginationGoToPage:function paginationGoToPage(beans,page){beans.pagination?.goToPage(page)}},dependsOn:[PopupModule]};var RowApiModule={moduleName:"RowApi",version:VERSION,apiFunctions:{redrawRows:function redrawRows(beans,params={}){const rowNodes=params?params.rowNodes:void 0;beans.frameworkOverrides.wrapIncoming((()=>beans.rowRenderer.redrawRows(rowNodes)))},setRowNodeExpanded:function setRowNodeExpanded(beans,rowNode,expanded,expandParents,forceSync){rowNode&&(expandParents&&rowNode.parent&&-1!==rowNode.parent.level&&setRowNodeExpanded(beans,rowNode.parent,expanded,expandParents,forceSync),rowNode.setExpanded(expanded,void 0,forceSync))},getRowNode:function getRowNode(beans,id){return beans.rowModel.getRowNode(id)},addRenderedRowListener:function addRenderedRowListener(beans,eventName,rowIndex,callback){beans.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)},getRenderedNodes:function getRenderedNodes(beans){return beans.rowRenderer.getRenderedNodes()},forEachNode:function forEachNode(beans,callback,includeFooterNodes){beans.rowModel.forEachNode(callback,includeFooterNodes)},getFirstDisplayedRowIndex:function getFirstDisplayedRowIndex(beans){return beans.rowRenderer.firstRenderedRow},getLastDisplayedRowIndex:function getLastDisplayedRowIndex(beans){return beans.rowRenderer.lastRenderedRow},getDisplayedRowAtIndex:function getDisplayedRowAtIndex(beans,index){return beans.rowModel.getRow(index)},getDisplayedRowCount:function getDisplayedRowCount(beans){return beans.rowModel.getRowCount()}}},ScrollApiModule={moduleName:"ScrollApi",version:VERSION,apiFunctions:{getVerticalPixelRange:function getVerticalPixelRange(beans){return beans.ctrlsSvc.getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function getHorizontalPixelRange(beans){return beans.ctrlsSvc.getScrollFeature().getHScrollPosition()},ensureColumnVisible,ensureIndexVisible,ensureNodeVisible:function ensureNodeVisible(beans,nodeSelector,position=null){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsSvc.getScrollFeature().ensureNodeVisible(nodeSelector,position)),"ensureVisible")}}};var RenderApiModule={moduleName:"RenderApi",version:VERSION,apiFunctions:{setGridAriaProperty:function setGridAriaProperty(beans,property,value){if(!property)return;const eGrid=beans.ctrlsSvc.getGridBodyCtrl().eGridBody,ariaProperty=`aria-${property}`;null===value?eGrid.removeAttribute(ariaProperty):eGrid.setAttribute(ariaProperty,value)},refreshCells:function refreshCells(beans,params={}){beans.frameworkOverrides.wrapIncoming((()=>beans.rowRenderer.refreshCells(params)))},refreshHeader:function refreshHeader(beans){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach((c=>c.refresh()))))},isAnimationFrameQueueEmpty:function isAnimationFrameQueueEmpty(beans){return beans.animationFrameSvc?.isQueueEmpty()??!0},flushAllAnimationFrames:function flushAllAnimationFrames(beans){beans.animationFrameSvc?.flushAllFrames()},getSizesForCurrentTheme:function getSizesForCurrentTheme(beans){return{rowHeight:_getRowHeightAsNumber(beans),headerHeight:getHeaderHeight(beans)}},getCellRendererInstances:function getCellRendererInstances(beans,params={}){const cellRenderers=[];if(beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>{const cellRenderer=cellCtrl.getCellRenderer();null!=cellRenderer&&cellRenderers.push(_unwrapUserComp(cellRenderer))})),params.columns?.length)return cellRenderers;const fullWidthRenderers=[],rowIdMap=mapRowNodes(params.rowNodes);return beans.rowRenderer.getAllRowCtrls().forEach((rowCtrl=>{if(rowIdMap&&!isRowInMap(rowCtrl.rowNode,rowIdMap))return;if(!rowCtrl.isFullWidth())return;const renderers=rowCtrl.getFullWidthCellRenderers();for(let i=0;i<renderers.length;i++){const renderer=renderers[i];null!=renderer&&fullWidthRenderers.push(_unwrapUserComp(renderer))}})),[...fullWidthRenderers,...cellRenderers]}}};function normaliseColumnWidth(column,newWidth){const minWidth=column.getMinWidth();newWidth<minWidth&&(newWidth=minWidth);const maxWidth=column.getMaxWidth();return column.isGreaterThanMax(newWidth)&&(newWidth=maxWidth),newWidth}var ColumnAutoSizeModule={moduleName:"ColumnAutoSize",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(params){if(this.shouldQueueResizeOperations)return void this.pushResizeOperation((()=>this.autoSizeCols(params)));const{colKeys,skipHeader,skipHeaderGroups,stopAtGroup,source="api"}=params,{animationFrameSvc,renderStatus,colModel,autoWidthCalc,visibleCols}=this.beans;if(animationFrameSvc?.flushAllFrames(),this.timesDelayed<5&&renderStatus&&!renderStatus.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>{this.isAlive()&&this.autoSizeCols(params)}));this.timesDelayed=0;const columnsAutoSized=[];let changesThisTimeAround=-1;const shouldSkipHeader=null!=skipHeader?skipHeader:this.gos.get("skipHeaderOnAutoSize"),shouldSkipHeaderGroups=null!=skipHeaderGroups?skipHeaderGroups:shouldSkipHeader;for(;0!==changesThisTimeAround;){changesThisTimeAround=0;const updatedColumns=[];colKeys.forEach((key=>{if(!key)return;const column=colModel.getCol(key);if(!column||isRowNumberCol(column))return;if(columnsAutoSized.indexOf(column)>=0)return;const preferredWidth=autoWidthCalc.getPreferredWidthForColumn(column,shouldSkipHeader);if(preferredWidth>0){const newWidth=normaliseColumnWidth(column,preferredWidth);column.setActualWidth(newWidth,source),columnsAutoSized.push(column),changesThisTimeAround++}updatedColumns.push(column)})),updatedColumns.length&&visibleCols.refresh(source)}shouldSkipHeaderGroups||this.autoSizeColumnGroupsByColumns(colKeys,source,stopAtGroup),dispatchColumnResizedEvent(this.eventSvc,columnsAutoSized,!0,"autosizeColumns")}autoSizeColumn(key,source,skipHeader){key&&this.autoSizeCols({colKeys:[key],skipHeader,skipHeaderGroups:!0,source})}autoSizeColumnGroupsByColumns(keys,source,stopAtGroup){const{colModel,ctrlsSvc}=this.beans,columnGroups=new Set;let headerGroupCtrl;colModel.getColsForKeys(keys).forEach((col=>{let parent=col.getParent();for(;parent&&parent!=stopAtGroup;)parent.isPadding()||columnGroups.add(parent),parent=parent.getParent()}));for(const columnGroup of columnGroups){for(const headerContainerCtrl of ctrlsSvc.getHeaderRowContainerCtrls())if(headerGroupCtrl=headerContainerCtrl.getHeaderCtrlForColumn(columnGroup),headerGroupCtrl)break;headerGroupCtrl&&headerGroupCtrl.resizeLeafColumnsToFit(source)}return[]}autoSizeAllColumns(source,skipHeader){if(this.shouldQueueResizeOperations)return void this.pushResizeOperation((()=>this.autoSizeAllColumns(source,skipHeader)));const allDisplayedColumns=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:allDisplayedColumns,skipHeader,source})}addColumnAutosize(element,column){const skipHeaderOnAutoSize=this.gos.get("skipHeaderOnAutoSize"),autoSizeColListener=()=>{this.autoSizeColumn(column,"uiColumnResized",skipHeaderOnAutoSize)};element.addEventListener("dblclick",autoSizeColListener);const touchListener=new TouchListener(element);return touchListener.addEventListener("doubleTap",autoSizeColListener),()=>{element.removeEventListener("dblclick",autoSizeColListener),touchListener.removeEventListener("doubleTap",autoSizeColListener),touchListener.destroy()}}addColumnGroupResize(element,columnGroup,callback){const skipHeaderOnAutoSize=this.gos.get("skipHeaderOnAutoSize"),listener=()=>{const keys=[];columnGroup.getDisplayedLeafColumns().forEach((column=>{column.getColDef().suppressAutoSize||keys.push(column.getColId())})),keys.length>0&&this.autoSizeCols({colKeys:keys,skipHeader:skipHeaderOnAutoSize,stopAtGroup:columnGroup,source:"uiColumnResized"}),callback()};return element.addEventListener("dblclick",listener),()=>element.removeEventListener("dblclick",listener)}sizeColumnsToFitGridBody(params,nextTimeout){if(!this.isAlive())return;const{ctrlsSvc,scrollVisibleSvc}=this.beans,gridBodyCtrl=ctrlsSvc.getGridBodyCtrl(),scrollWidthToRemove=gridBodyCtrl.isVerticalScrollShowing()?scrollVisibleSvc.getScrollbarWidth():0,availableWidth=_getInnerWidth(gridBodyCtrl.eGridBody)-scrollWidthToRemove;availableWidth>0?this.sizeColumnsToFit(availableWidth,"sizeColumnsToFit",!1,params):void 0===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFitGridBody(params,100)}),0):100===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFitGridBody(params,500)}),100):500===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFitGridBody(params,-1)}),500):_warn(29)}sizeColumnsToFit(gridWidth,source="sizeColumnsToFit",silent,params){if(this.shouldQueueResizeOperations)return void this.pushResizeOperation((()=>this.sizeColumnsToFit(gridWidth,source,silent,params)));const limitsMap={};params&&params?.columnLimits?.forEach((({key,...dimensions})=>{limitsMap["string"==typeof key?key:key.getColId()]=dimensions}));const allDisplayedColumns=this.beans.visibleCols.allCols,doColumnsAlreadyFit=gridWidth===getWidthOfColsInList(allDisplayedColumns);if(gridWidth<=0||!allDisplayedColumns.length||doColumnsAlreadyFit)return;const colsToSpread=[],colsToNotSpread=[];allDisplayedColumns.forEach((column=>{!0===column.getColDef().suppressSizeToFit?colsToNotSpread.push(column):colsToSpread.push(column)}));const colsToDispatchEventFor=colsToSpread.slice(0);let finishedResizing=!1;const moveToNotSpread=column=>{_removeFromArray(colsToSpread,column),colsToNotSpread.push(column)};for(colsToSpread.forEach((column=>{column.resetActualWidth(source);const widthOverride=limitsMap?.[column.getId()],minOverride=widthOverride?.minWidth??params?.defaultMinWidth,maxOverride=widthOverride?.maxWidth??params?.defaultMaxWidth,colWidth=column.getActualWidth();"number"==typeof minOverride&&colWidth<minOverride?column.setActualWidth(minOverride,source,!0):"number"==typeof maxOverride&&colWidth>maxOverride&&column.setActualWidth(maxOverride,source,!0)}));!finishedResizing;){finishedResizing=!0;const availablePixels=gridWidth-getWidthOfColsInList(colsToNotSpread);if(availablePixels<=0)colsToSpread.forEach((column=>{const widthOverride=limitsMap?.[column.getId()]?.minWidth??params?.defaultMinWidth;"number"!=typeof widthOverride?column.setActualWidth(column.minWidth,source):column.setActualWidth(widthOverride,source,!0)}));else{const scale=availablePixels/getWidthOfColsInList(colsToSpread);let pixelsForLastCol=availablePixels;for(let i=colsToSpread.length-1;i>=0;i--){const column=colsToSpread[i],widthOverride=limitsMap?.[column.getId()],minOverride=widthOverride?.minWidth??params?.defaultMinWidth,maxOverride=widthOverride?.maxWidth??params?.defaultMaxWidth,colMinWidth=column.getMinWidth(),colMaxWidth=column.getMaxWidth(),minWidth="number"==typeof minOverride&&minOverride>colMinWidth?minOverride:colMinWidth,maxWidth="number"==typeof maxOverride&&maxOverride<colMaxWidth?maxOverride:colMaxWidth;let newWidth=Math.round(column.getActualWidth()*scale);newWidth<minWidth?(newWidth=minWidth,moveToNotSpread(column),finishedResizing=!1):newWidth>maxWidth?(newWidth=maxWidth,moveToNotSpread(column),finishedResizing=!1):0===i&&(newWidth=pixelsForLastCol),column.setActualWidth(newWidth,source,!0),pixelsForLastCol-=newWidth}}}colsToDispatchEventFor.forEach((col=>{col.fireColumnWidthChangedEvent(source)}));const visibleCols=this.beans.visibleCols;visibleCols.setLeftValues(source),visibleCols.updateBodyWidths(),silent||dispatchColumnResizedEvent(this.eventSvc,colsToDispatchEventFor,!0,source)}applyAutosizeStrategy(){const autoSizeStrategy=this.gos.get("autoSizeStrategy");if(!autoSizeStrategy)return;const{type}=autoSizeStrategy;setTimeout((()=>{if("fitGridWidth"===type){const{columnLimits:propColumnLimits,defaultMinWidth,defaultMaxWidth}=autoSizeStrategy,columnLimits=propColumnLimits?.map((({colId:key,minWidth,maxWidth})=>({key,minWidth,maxWidth})));this.sizeColumnsToFitGridBody({defaultMinWidth,defaultMaxWidth,columnLimits})}else"fitProvidedWidth"===type&&this.sizeColumnsToFit(autoSizeStrategy.width,"sizeColumnsToFit")}))}onFirstDataRendered(){const autoSizeStrategy=this.gos.get("autoSizeStrategy");if("fitCellContents"!==autoSizeStrategy?.type)return;const{colIds:columns,skipHeader}=autoSizeStrategy;setTimeout((()=>{columns?this.autoSizeCols({colKeys:columns,skipHeader,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",skipHeader)}))}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((resizeOperation=>resizeOperation())),this.resizeOperationQueue=[]}pushResizeOperation(func){this.resizeOperationQueue.push(func)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}}],apiFunctions:{sizeColumnsToFit:function sizeColumnsToFit(beans,paramsOrGridWidth){"number"==typeof paramsOrGridWidth?beans.colAutosize?.sizeColumnsToFit(paramsOrGridWidth,"api"):beans.colAutosize?.sizeColumnsToFitGridBody(paramsOrGridWidth)},autoSizeColumns:function autoSizeColumns(beans,keys,skipHeader){beans.colAutosize?.autoSizeCols({colKeys:keys,skipHeader,source:"api"})},autoSizeAllColumns:function autoSizeAllColumns(beans,skipHeader){beans.colAutosize?.autoSizeAllColumns("api",skipHeader)}},dependsOn:[AutoWidthModule]};function getTotalHeight(rowNodes){const size=getSize(rowNodes);if(0===size)return 0;const node=getByIndex(rowNodes,size-1);return void 0===node?0:node.rowTop+node.rowHeight}function getById(cache,id){return cache.cache[id]}function getByIndex(cache,i){return getById(cache,cache.order[i])}function forEach(cache,callback){cache.order.forEach(((id,index)=>{const node=getById(cache,id);node&&callback(node,index)}))}function getSize(cache){return cache.order.length}var PinnedRowModule={moduleName:"PinnedRow",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const gos=this.gos;this.setPinnedRowData(gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",(e=>this.setPinnedRowData(e.currentValue,"top"))),this.addManagedPropertyListener("pinnedBottomRowData",(e=>this.setPinnedRowData(e.currentValue,"bottom"))),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(floating){return 0===this.getCache(floating).order.length}isRowsToRender(floating){return!this.isEmpty(floating)}onGridStylesChanges(e){if(e.rowHeightChanged){const estimateRowHeight=rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,!0)};forEach(this.pinnedBottomRows,estimateRowHeight),forEach(this.pinnedTopRows,estimateRowHeight)}}ensureRowHeightsValid(){let anyChange=!1,rowTop=0;const updateRowHeight=rowNode=>{if(rowNode.rowHeightEstimated){const rowHeight=_getRowHeightForNode(this.beans,rowNode);rowNode.setRowTop(rowTop),rowNode.setRowHeight(rowHeight.height),rowTop+=rowHeight.height,anyChange=!0}};return forEach(this.pinnedBottomRows,updateRowHeight),rowTop=0,forEach(this.pinnedTopRows,updateRowHeight),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),anyChange}setPinnedRowData(rowData,floating){this.updateNodesFromRowData(rowData,floating),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(allData,floating){const nodes=this.getCache(floating);if(void 0===allData)return nodes.order.length=0,void(nodes.cache={});const getRowId=_getRowIdCallback(this.gos),idPrefix="top"===floating?"t-":"b-",nodesToRemove=new Set(nodes.order),newOrder=[],dataIds=new Set;let nextRowTop=0,i=-1;for(const data of allData){const id=getRowId?.({data,level:0,rowPinned:floating})??idPrefix+this.nextId++;if(dataIds.has(id)){_warn(96,{id,data});continue}i++,dataIds.add(id),newOrder.push(id);const existingNode=getById(nodes,id);if(void 0!==existingNode)existingNode.data!==data&&existingNode.setData(data),nextRowTop+=this.setRowTopAndRowIndex(existingNode,nextRowTop,i),nodesToRemove.delete(id);else{const rowNode=new RowNode(this.beans);rowNode.id=id,rowNode.data=data,rowNode.rowPinned=floating,nextRowTop+=this.setRowTopAndRowIndex(rowNode,nextRowTop,i),nodes.cache[id]=rowNode,nodes.order.push(id)}}nodesToRemove.forEach((id=>{getById(nodes,id)?.clearRowTopAndRowIndex(),delete nodes.cache[id]})),nodes.order=newOrder}setRowTopAndRowIndex(rowNode,rowTop,rowIndex){return rowNode.setRowTop(rowTop),rowNode.setRowHeight(_getRowHeightForNode(this.beans,rowNode).height),rowNode.setRowIndex(rowIndex),rowNode.rowHeight}getPinnedTopTotalHeight(){return getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return getSize(this.pinnedTopRows)}getPinnedBottomRowCount(){return getSize(this.pinnedBottomRows)}getPinnedTopRow(index){return getByIndex(this.pinnedTopRows,index)}getPinnedBottomRow(index){return getByIndex(this.pinnedBottomRows,index)}getPinnedRowById(id,floating){return getById(this.getCache(floating),id)}forEachPinnedRow(floating,callback){return forEach(this.getCache(floating),callback)}getCache(floating){return"top"===floating?this.pinnedTopRows:this.pinnedBottomRows}}],apiFunctions:{getPinnedTopRowCount:function getPinnedTopRowCount(beans){return beans.pinnedRowModel?.getPinnedTopRowCount()??0},getPinnedBottomRowCount:function getPinnedBottomRowCount(beans){return beans.pinnedRowModel?.getPinnedBottomRowCount()??0},getPinnedTopRow:function getPinnedTopRow(beans,index){return beans.pinnedRowModel?.getPinnedTopRow(index)},getPinnedBottomRow:function getPinnedBottomRow(beans,index){return beans.pinnedRowModel?.getPinnedBottomRow(index)}}},SpannedCellCtrl=class extends CellCtrl{constructor(cellSpan,rowCtrl,beans){super(cellSpan.col,cellSpan.firstNode,beans,rowCtrl),this.cellSpan=cellSpan,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(comp,eCell,eWrapper,eCellWrapper,printLayout,startEditing,compBean){this.eWrapper=eWrapper,super.setComp(comp,eCell,eWrapper,eCellWrapper,printLayout,startEditing,compBean),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){null!=this.rowNode.rowIndex&&_setAriaRowIndex(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){!function _setAriaRowSpan(element,spanCount){_setAriaAttribute(element,"rowspan",spanCount)}(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(cellPos){this.focusedCellPosition=cellPos}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const focusedCell=this.beans.focusSvc.getFocusedCell();return!!focusedCell&&this.cellSpan.doesSpanContain(focusedCell)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(event){const{beans}=this;if(_isCellFocusSuppressed(beans))return void(this.focusedCellPosition=void 0);const cellFocused=this.isCellFocused();cellFocused||(this.focusedCellPosition=void 0),event&&cellFocused&&(this.focusedCellPosition={rowIndex:event.rowIndex,rowPinned:event.rowPinned,column:event.column}),super.onCellFocused(event)}getRootElement(){return this.eWrapper}},SpannedRowCtrl=class extends RowCtrl{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach((c=>c.refreshAriaRowIndex()))}getInitialRowClasses(_rowContainerType){return["ag-spanned-row"]}getNewCellCtrl(col){const cellSpan=this.beans.rowSpanSvc?.getCellSpan(col,this.rowNode);if(!cellSpan)return;return cellSpan.firstNode!==this.rowNode?void 0:new SpannedCellCtrl(cellSpan,this,this.beans)}shouldRecreateCellCtrl(cell){const cellSpan=this.beans.rowSpanSvc?.getCellSpan(cell.column,this.rowNode);if(!cellSpan)return!0;return!(cellSpan.firstNode===this.rowNode)||cell.getCellSpan()!==cellSpan}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},_normalisePinnedValue=pinned=>pinned??"center",CellSpan=class{constructor(col,firstNode){this.col=col,this.firstNode=firstNode,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(firstNode)}addSpannedNode(node){this.spannedNodes.add(node),this.lastNode=node}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(cellPosition){return cellPosition.column===this.col&&(cellPosition.rowPinned==this.firstNode.rowPinned&&(this.firstNode.rowIndex<=cellPosition.rowIndex&&cellPosition.rowIndex<=this.lastNode.rowIndex))}getLastNodeAutoHeight(){const autoHeight=this.firstNode.__autoHeights?.[this.col.getColId()];if(null==autoHeight)return;let allButLastHeights=0;return this.spannedNodes.forEach((node=>{node!==this.lastNode&&(allButLastHeights+=node.rowHeight)})),autoHeight-allButLastHeights}},RowSpanCache=class extends BeanStub{constructor(column){super(),this.column=column}buildCache(pinned){const{column,beans:{gos,pinnedRowModel,rowModel,valueSvc}}=this,{colDef}=column,newMap=new Map,isFullWidthCellFunc=gos.getCallback("isFullWidthRow"),equalsFnc=colDef.equals,customCompare=colDef.spanRows,isCustomCompare="function"==typeof customCompare;let lastValue,lastNode=null,spanData=null;const setNewHead=(node,value)=>{lastNode=node,spanData=null,lastValue=value},checkNodeForCache=node=>{const doesNodeSupportSpanning=!(node.isExpandable()||node.group||node.detail||isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:node}));if(null==node.rowIndex||!doesNodeSupportSpanning)return void setNewHead(null,null);if(null==lastNode||node.level!==lastNode.level||node.footer||spanData&&node.rowIndex-1!==spanData?.getLastNode().rowIndex)return void setNewHead(node,valueSvc.getValue(column,node));const value=valueSvc.getValue(column,node);if(isCustomCompare){const params=_addGridCommonParams(gos,{valueA:lastValue,nodeA:lastNode,valueB:value,nodeB:node,column,colDef});if(!customCompare(params))return void setNewHead(node,value)}else if(equalsFnc?!equalsFnc(lastValue,value):lastValue!==value)return void setNewHead(node,value);spanData||(spanData=new CellSpan(column,lastNode),newMap.set(lastNode,spanData)),spanData.addSpannedNode(node),newMap.set(node,spanData)};switch(pinned){case"center":rowModel.forEachDisplayedNode?.(checkNodeForCache);break;case"top":pinnedRowModel?.forEachPinnedRow("top",checkNodeForCache);break;case"bottom":pinnedRowModel?.forEachPinnedRow("bottom",checkNodeForCache)}this[`${pinned}ValueNodeMap`]=newMap}isCellSpanning(node){return!!this.getCellSpan(node)}getCellSpan(node){return this[`${_normalisePinnedValue(node.rowPinned)}ValueNodeMap`].get(node)}},CellSpanModule={moduleName:"CellSpan",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=_debounce(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=_debounce(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(column){const{gos}=this.beans;if(!gos.get("enableCellSpan"))return;if(this.spanningColumns.has(column))return;const cache=this.createManagedBean(new RowSpanCache(column));this.spanningColumns.set(column,cache),cache.buildCache("top"),cache.buildCache("bottom"),cache.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(pinned){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned})}deregister(column){this.spanningColumns.delete(column)}onRowDataUpdated(node){const{spannedRowRenderer}=this.beans;if(node.rowPinned){if(null!=this.pinnedTimeout)return;this.pinnedTimeout=window.setTimeout((()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),spannedRowRenderer?.createCtrls("top"),spannedRowRenderer?.createCtrls("bottom")}),0)}else null==this.modelTimeout&&(this.modelTimeout=window.setTimeout((()=>{this.modelTimeout=null,this.buildModelCaches(),spannedRowRenderer?.createCtrls("center")}),0))}buildModelCaches(){null!=this.modelTimeout&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach((cache=>cache.buildCache("center"))),this.debounceModelEvent()}buildPinnedCaches(){null!=this.pinnedTimeout&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach((cache=>{cache.buildCache("top"),cache.buildCache("bottom")})),this.debouncePinnedEvent()}isCellSpanning(col,rowNode){const cache=this.spanningColumns.get(col);return!!cache&&cache.isCellSpanning(rowNode)}getCellSpanByPosition(position){const{pinnedRowModel,rowModel}=this.beans,col=position.column,index=position.rowIndex,cache=this.spanningColumns.get(col);if(!cache)return;let node;switch(position.rowPinned){case"top":node=pinnedRowModel?.getPinnedTopRow(index);break;case"bottom":node=pinnedRowModel?.getPinnedBottomRow(index);break;default:node=rowModel.getRow(index)}return node?cache.getCellSpan(node):void 0}getCellStart(position){const span=this.getCellSpanByPosition(position);return span?{...position,rowIndex:span.firstNode.rowIndex}:position}getCellEnd(position){const span=this.getCellSpanByPosition(position);return span?{...position,rowIndex:span.getLastNode().rowIndex}:position}getCellSpan(col,rowNode){const cache=this.spanningColumns.get(col);if(cache)return cache.getCellSpan(rowNode)}forEachSpannedColumn(rowNode,callback){for(const[col,cache]of this.spanningColumns)if(cache.isCellSpanning(rowNode)){callback(col,cache.getCellSpan(rowNode))}}destroy(){super.destroy(),this.spanningColumns.clear()}},class extends BeanStub{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(ctrlsKey){const{rowSpanSvc}=this.beans,ctrlsName=`${ctrlsKey}Ctrls`,previousCtrls=this[ctrlsName],previousCtrlsSize=previousCtrls.size,rowCtrls=this.getAllRelevantRowControls(ctrlsKey),newRowCtrls=new Map;let hasNewSpans=!1;for(const ctrl of rowCtrls)ctrl.isAlive()&&rowSpanSvc?.forEachSpannedColumn(ctrl.rowNode,((col,cellSpan)=>{if(newRowCtrls.has(cellSpan.firstNode))return;const existingCtrl=previousCtrls.get(cellSpan.firstNode);if(existingCtrl)return newRowCtrls.set(cellSpan.firstNode,existingCtrl),void previousCtrls.delete(cellSpan.firstNode);hasNewSpans=!0;const newCtrl=new SpannedRowCtrl(cellSpan.firstNode,this.beans,!1,!1,!1);newRowCtrls.set(cellSpan.firstNode,newCtrl)}));this[ctrlsName]=newRowCtrls;const sameCount=newRowCtrls.size===previousCtrlsSize;if(hasNewSpans||!sameCount){for(const oldCtrl of previousCtrls.values())oldCtrl.destroyFirstPass(!0),oldCtrl.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey})}}getAllRelevantRowControls(ctrlsKey){const{rowRenderer}=this.beans;switch(ctrlsKey){case"top":return rowRenderer.topRowCtrls;case"bottom":return rowRenderer.bottomRowCtrls;case"center":return rowRenderer.allRowCtrls}}getCellByPosition(cellPosition){const{rowSpanSvc}=this.beans,cellSpan=rowSpanSvc?.getCellSpanByPosition(cellPosition);if(!cellSpan)return;const ctrl=this[`${_normalisePinnedValue(cellPosition.rowPinned)}Ctrls`].get(cellSpan.firstNode);return ctrl?ctrl.getAllCellCtrls().find((cellCtrl=>cellCtrl.column===cellPosition.column)):void 0}getCtrls(container){return[...this[`${container}Ctrls`].values()]}destroyRowCtrls(container){const ctrlsName=`${container}Ctrls`;for(const ctrl of this[ctrlsName].values())ctrl.destroyFirstPass(!0),ctrl.destroySecondPass();this[ctrlsName]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}}]},CellCustomStyleFeature=class extends BeanStub{constructor(cellCtrl,beans){super(),this.cellCtrl=cellCtrl,this.staticClasses=[],this.beans=beans,this.column=cellCtrl.column}setComp(comp){this.cellComp=comp,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column,cellComp}=this,colDef=column.colDef,cellClassRules=colDef.cellClassRules,cellClassParams=this.getCellClassParams(column,colDef);processClassRules(this.beans.expressionSvc,cellClassRules===this.cellClassRules?void 0:this.cellClassRules,cellClassRules,cellClassParams,(className=>cellComp.addOrRemoveCssClass(className,!0)),(className=>cellComp.addOrRemoveCssClass(className,!1))),this.cellClassRules=cellClassRules}applyUserStyles(){const column=this.column,colDef=column.colDef,cellStyle=colDef.cellStyle;if(!cellStyle)return;let styles;if("function"==typeof cellStyle){styles=cellStyle(this.getCellClassParams(column,colDef))}else styles=cellStyle;styles&&this.cellComp.setUserStyles(styles)}applyClassesFromColDef(){const{column,cellComp}=this,colDef=column.colDef,cellClassParams=this.getCellClassParams(column,colDef);this.staticClasses.forEach((className=>cellComp.addOrRemoveCssClass(className,!1)));const newStaticClasses=this.beans.cellStyles.getStaticCellClasses(colDef,cellClassParams);this.staticClasses=newStaticClasses,newStaticClasses.forEach((className=>cellComp.addOrRemoveCssClass(className,!0)))}getCellClassParams(column,colDef){const{value,rowNode}=this.cellCtrl;return _addGridCommonParams(this.beans.gos,{value,data:rowNode.data,node:rowNode,colDef,column,rowIndex:rowNode.rowIndex})}},CellStyleModule={moduleName:"CellStyle",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(colDef,params,onApplicableClass,onNotApplicableClass){processClassRules(this.beans.expressionSvc,void 0,colDef.cellClassRules,params,onApplicableClass,onNotApplicableClass),this.processStaticCellClasses(colDef,params,onApplicableClass)}getStaticCellClasses(colDef,params){const{cellClass}=colDef;if(!cellClass)return[];let classOrClasses;if("function"==typeof cellClass){classOrClasses=cellClass(params)}else classOrClasses=cellClass;return"string"==typeof classOrClasses&&(classOrClasses=[classOrClasses]),classOrClasses||[]}createCellCustomStyleFeature(ctrl,beans){return new CellCustomStyleFeature(ctrl,beans)}processStaticCellClasses(colDef,params,onApplicableClass){this.getStaticCellClasses(colDef,params).forEach((cssClassItem=>{onApplicableClass(cssClassItem)}))}}]},RowStyleModule={moduleName:"RowStyle",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(classes,rowNode){const gos=this.gos,process=rowCls=>{"string"==typeof rowCls?classes.push(rowCls):Array.isArray(rowCls)&&rowCls.forEach((e=>classes.push(e)))},rowClass=gos.get("rowClass");rowClass&&process(rowClass);const rowClassFunc=gos.getCallback("getRowClass");if(rowClassFunc){process(rowClassFunc({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex}))}}preProcessRowClassRules(classes,rowNode){this.processRowClassRules(rowNode,(className=>{classes.push(className)}),(()=>{}))}processRowClassRules(rowNode,onApplicableClass,onNotApplicableClass){const{gos,expressionSvc}=this.beans,rowClassParams=_addGridCommonParams(gos,{data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex});processClassRules(expressionSvc,void 0,gos.get("rowClassRules"),rowClassParams,onApplicableClass,onNotApplicableClass)}processStylesFromGridOptions(rowNode){const gos=this.gos,rowStyle=gos.get("rowStyle"),rowStyleFunc=gos.getCallback("getRowStyle");let rowStyleFuncResult;if(rowStyleFunc){rowStyleFuncResult=rowStyleFunc({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex})}if(rowStyleFuncResult||rowStyle)return Object.assign({},rowStyle,rowStyleFuncResult)}}]};var HoverFeature=class extends BeanStub{constructor(columns,element){super(),this.columns=columns,this.element=element}postConstruct(){if(this.gos.get("columnHoverHighlight")){const colHover=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:colHover.clearMouseOver.bind(colHover),mouseover:colHover.setMouseOver.bind(colHover,this.columns)})}}},ColumnHoverModule={moduleName:"ColumnHover",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(columns){this.updateState(columns)}clearMouseOver(){this.updateState(null)}isHovered(column){const selectedColumns=this.selectedColumns;return!!selectedColumns&&selectedColumns.indexOf(column)>=0}addHeaderColumnHoverListener(compBean,comp,column){const listener=()=>{if(!this.gos.get("columnHoverHighlight"))return;const isHovered=this.isHovered(column);comp.addOrRemoveCssClass("ag-column-hover",isHovered)};compBean.addManagedEventListeners({columnHoverChanged:listener}),listener()}onCellColumnHover(column,cellComp){if(!cellComp)return;if(!this.gos.get("columnHoverHighlight"))return;const isHovered=this.isHovered(column);cellComp.addOrRemoveCssClass("ag-column-hover",isHovered)}addHeaderFilterColumnHoverListener(compBean,comp,column,eGui){this.createHoverFeature(compBean,[column],eGui);const listener=()=>{if(!this.gos.get("columnHoverHighlight"))return;const hovered=this.isHovered(column);comp.addOrRemoveCssClass("ag-column-hover",hovered)};compBean.addManagedEventListeners({columnHoverChanged:listener}),listener()}createHoverFeature(compBean,columns,eGui){compBean.createManagedBean(new HoverFeature(columns,eGui))}updateState(columns){this.selectedColumns=columns,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}}],apiFunctions:{isColumnHovered:function isColumnHovered(beans,column){return!!beans.colHover?.isHovered(column)}}};var EventApiModule={moduleName:"EventApi",version:VERSION,apiFunctions:{addEventListener:function addEventListener(beans,eventType,listener){beans.apiEventSvc?.addEventListener(eventType,listener)},addGlobalListener:function addGlobalListener(beans,listener){beans.apiEventSvc?.addGlobalListener(listener)},removeEventListener:function removeEventListener(beans,eventType,listener){beans.apiEventSvc?.removeEventListener(eventType,listener)},removeGlobalListener:function removeGlobalListener(beans,listener){beans.apiEventSvc?.removeGlobalListener(listener)}},beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(eventType,userListener){const listener=this.wrapSvc?.wrap(userListener)??userListener,async=!ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType),listeners=async?this.asyncListeners:this.syncListeners;listeners.has(eventType)||listeners.set(eventType,new Set),listeners.get(eventType).add(listener),this.eventSvc.addEventListener(eventType,listener,async)}removeEventListener(eventType,userListener){const listener=this.wrapSvc?.unwrap(userListener)??userListener,asyncListeners=this.asyncListeners.get(eventType),hasAsync=!!asyncListeners?.delete(listener);hasAsync||this.syncListeners.get(eventType)?.delete(listener),this.eventSvc.removeEventListener(eventType,listener,hasAsync)}addGlobalListener(userListener){const listener=this.wrapSvc?.wrapGlobal(userListener)??userListener,syncListener=(eventType,event)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)&&listener(eventType,event)},asyncListener=(eventType,event)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)||listener(eventType,event)};this.globalListenerPairs.set(userListener,{syncListener,asyncListener});const eventSvc=this.eventSvc;eventSvc.addGlobalListener(syncListener,!1),eventSvc.addGlobalListener(asyncListener,!0)}removeGlobalListener(userListener){const{eventSvc,wrapSvc,globalListenerPairs}=this,listener=wrapSvc?.unwrapGlobal(userListener)??userListener;if(globalListenerPairs.has(listener)){const{syncListener,asyncListener}=globalListenerPairs.get(listener);eventSvc.removeGlobalListener(syncListener,!1),eventSvc.removeGlobalListener(asyncListener,!0),globalListenerPairs.delete(userListener)}else this.syncGlobalListeners.delete(listener),eventSvc.removeGlobalListener(listener,!1)}destroyEventListeners(map,async){map.forEach(((listeners,eventType)=>{listeners.forEach((listener=>this.eventSvc.removeEventListener(eventType,listener,async))),listeners.clear()})),map.clear()}destroyGlobalListeners(set,async){set.forEach((listener=>this.eventSvc.removeGlobalListener(listener,async))),set.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs,eventSvc}=this;globalListenerPairs.forEach((({syncListener,asyncListener})=>{eventSvc.removeGlobalListener(syncListener,!1),eventSvc.removeGlobalListener(asyncListener,!0)})),globalListenerPairs.clear()}}]},TooltipModule={moduleName:"Tooltip",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){existingTooltipFeature&&ctrl.destroyBean(existingTooltipFeature);const isTooltipWhenTruncated=_isShowTooltipWhenTruncated(this.gos),{column,eGui}=ctrl,colDef=column.getColDef();shouldDisplayTooltip||!isTooltipWhenTruncated||colDef.headerComponent||(shouldDisplayTooltip=_shouldDisplayTooltip((()=>eGui.querySelector(".ag-header-cell-text"))));const tooltipCtrl={getColumn:()=>column,getColDef:()=>column.getColDef(),getGui:()=>eGui,getLocation:()=>"header",getTooltipValue:()=>{if(null!=value)return value;return column.getColDef().headerTooltip},shouldDisplayTooltip};let tooltipFeature=this.createTooltipFeature(tooltipCtrl);return tooltipFeature&&(tooltipFeature=ctrl.createBean(tooltipFeature),ctrl.setRefreshFunction("tooltip",(()=>tooltipFeature.refreshTooltip()))),tooltipFeature}setupHeaderGroupTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){existingTooltipFeature&&ctrl.destroyBean(existingTooltipFeature);const isTooltipWhenTruncated=_isShowTooltipWhenTruncated(this.gos),{column,eGui}=ctrl,colGroupDef=column.getColGroupDef();shouldDisplayTooltip||!isTooltipWhenTruncated||colGroupDef?.headerGroupComponent||(shouldDisplayTooltip=_shouldDisplayTooltip((()=>eGui.querySelector(".ag-header-group-text"))));const tooltipCtrl={getColumn:()=>column,getGui:()=>eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>value??(colGroupDef&&colGroupDef.headerTooltip),shouldDisplayTooltip};colGroupDef&&(tooltipCtrl.getColDef=()=>colGroupDef);const tooltipFeature=this.createTooltipFeature(tooltipCtrl);return tooltipFeature?ctrl.createBean(tooltipFeature):tooltipFeature}enableCellTooltipFeature(ctrl,value,shouldDisplayTooltip){const{column,rowNode}=ctrl,isTooltipWhenTruncated=_isShowTooltipWhenTruncated(this.gos);shouldDisplayTooltip||!isTooltipWhenTruncated||ctrl.isCellRenderer()||(shouldDisplayTooltip=_shouldDisplayTooltip((()=>{const eCell=ctrl.eGui;return 0===eCell.children.length?eCell:eCell.querySelector(".ag-cell-value")})));const tooltipCtrl={getColumn:()=>column,getColDef:()=>column.getColDef(),getRowIndex:()=>ctrl.cellPosition.rowIndex,getRowNode:()=>rowNode,getGui:()=>ctrl.eGui,getLocation:()=>"cell",getTooltipValue:null!=value?()=>value:()=>{const colDef=column.getColDef(),data=rowNode.data;if(colDef.tooltipField&&_exists(data))return _getValueUsingField(data,colDef.tooltipField,column.isTooltipFieldContainsDots());const valueGetter=colDef.tooltipValueGetter;return valueGetter?valueGetter(_addGridCommonParams(this.gos,{location:"cell",colDef:column.getColDef(),column,rowIndex:ctrl.cellPosition.rowIndex,node:rowNode,data:rowNode.data,value:ctrl.value,valueFormatted:ctrl.valueFormatted})):null},getValueFormatted:()=>ctrl.valueFormatted,shouldDisplayTooltip};return this.createTooltipFeature(tooltipCtrl,this.beans)}refreshRowTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){const tooltipParams={getGui:()=>ctrl.getFullWidthElement(),getTooltipValue:()=>value,getLocation:()=>"fullWidthRow",shouldDisplayTooltip},beans=this.beans,context=beans.context;existingTooltipFeature&&ctrl.destroyBean(existingTooltipFeature,context);const tooltipFeature=this.createTooltipFeature(tooltipParams,beans);return ctrl.createBean(tooltipFeature,context)}initCol(column){const{colDef}=column;column.tooltipEnabled=_exists(colDef.tooltipField)||_exists(colDef.tooltipValueGetter)||_exists(colDef.tooltipComponent)}createTooltipFeature(tooltipCtrl,beans){return this.beans.registry.createDynamicBean("tooltipFeature",!1,tooltipCtrl,beans)}}],dynamicBeans:{tooltipFeature:class extends BeanStub{constructor(ctrl,beans){super(),this.ctrl=ctrl,beans&&(this.beans=beans)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(tooltip){const eGui=this.ctrl.getGui();eGui&&(null!=tooltip&&""!=tooltip?eGui.setAttribute("title",tooltip):eGui.removeAttribute("title"))}updateTooltipText(){const{getTooltipValue}=this.ctrl;getTooltipValue&&(this.tooltip=getTooltipValue())}createTooltipFeatureIfNeeded(){null==this.tooltipManager&&(this.tooltipManager=this.createBean(new TooltipStateManager(this.ctrl,(()=>this.tooltip)),this.beans.context))}setTooltipAndRefresh(tooltip){this.tooltip=tooltip,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}}},userComponents:{agTooltipComponent:class extends PopupComponent{constructor(){super('<div class="ag-tooltip"></div>')}init(params){const{value}=params;this.getGui().textContent=_escapeString(value,!0)}}},dependsOn:[PopupModule],css:[".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}"]},LocaleModule={moduleName:"Locale",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const gos=this.gos,getLocaleText=gos.getCallback("getLocaleText");if(getLocaleText)return(key,defaultValue,variableValues)=>getLocaleText({key,defaultValue,variableValues});const localeText=gos.get("localeText");return(key,defaultValue,variableValues)=>{let localisedText=localeText&&localeText[key];if(localisedText&&variableValues&&variableValues.length){let found=0;for(;!(found>=variableValues.length);){if(-1===localisedText.indexOf("${variable}"))break;localisedText=localisedText.replace("${variable}",variableValues[found++])}}return localisedText??defaultValue}}}]},AllCommunityModule={moduleName:"AllCommunity",version:VERSION,dependsOn:[ClientSideRowModelModule,CsvExportModule,InfiniteRowModelModule,ValidationModule,TextEditorModule,NumberEditorModule,DateEditorModule,CheckboxEditorModule,SelectEditorModule,LargeTextEditorModule,CustomEditorModule,UndoRedoEditModule,TextFilterModule,NumberFilterModule,DateFilterModule,CustomFilterModule,QuickFilterModule,ExternalFilterModule,GridStateModule,AlignedGridsModule,PaginationModule,ColumnApiModule,RowApiModule,ScrollApiModule,RenderApiModule,ColumnAutoSizeModule,RowDragModule,PinnedRowModule,RowSelectionModule,ValueCacheModule,CellStyleModule,ColumnHoverModule,RowStyleModule,EventApiModule,CellApiModule,HighlightChangesModule,TooltipModule,LocaleModule,{moduleName:"RowAutoHeight",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=_debounce(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols,rowModel,rowSpanSvc}=this.beans,displayedAutoHeightCols=visibleCols.autoHeightCols;let anyNodeChanged=!1;rowModel.forEachDisplayedNode?.((row=>{const autoHeights=row.__autoHeights;let newRowHeight=_getRowHeightForNode(this.beans,row).height;for(const col of displayedAutoHeightCols){if(this.colSpanSkipRow(col,row))return;let cellHeight=autoHeights?.[col.getColId()];const spannedCell=rowSpanSvc?.getCellSpan(col,row);if(spannedCell){if(spannedCell.getLastNode()!==row)continue;if(cellHeight=rowSpanSvc?.getCellSpan(col,row)?.getLastNodeAutoHeight(),!cellHeight)return}if(null==cellHeight)return;newRowHeight=Math.max(cellHeight,newRowHeight)}newRowHeight!==row.rowHeight&&(row.setRowHeight(newRowHeight),anyNodeChanged=!0)})),anyNodeChanged&&rowModel.onRowHeightChanged?.()}setRowAutoHeight(rowNode,cellHeight,column){if(rowNode.__autoHeights||(rowNode.__autoHeights={}),null==cellHeight)return void delete rowNode.__autoHeights[column.getId()];const previousCellHeight=rowNode.__autoHeights[column.getId()];rowNode.__autoHeights[column.getId()]=cellHeight,previousCellHeight!==cellHeight&&this.requestCheckAutoHeight()}colSpanSkipRow(col,node){const{colModel,colViewport,visibleCols}=this.beans;if(!colModel.colSpanActive)return!1;let activeColsForRow=[];switch(col.getPinned()){case"left":activeColsForRow=visibleCols.getLeftColsForRow(node);break;case"right":activeColsForRow=visibleCols.getRightColsForRow(node);break;case null:activeColsForRow=colViewport.getColsWithinViewport(node)}return activeColsForRow.includes(col)}setupCellAutoHeight(cellCtrl,eCellWrapper,compBean){if(!cellCtrl.column.isAutoHeight()||!eCellWrapper)return!1;this.wasEverActive=!0;const eParentCell=eCellWrapper.parentElement,{rowNode,column}=cellCtrl,beans=this.beans,measureHeight=timesCalled=>{if(cellCtrl.editing)return;if(!cellCtrl.isAlive()||!compBean.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(eParentCell),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=eCellWrapper.offsetHeight+extraHeight;if(timesCalled<5){const doc=_getDocument(beans);if(!doc||!doc.contains(eCellWrapper)||0==autoHeight)return void window.setTimeout((()=>measureHeight(timesCalled+1)),0)}this.setRowAutoHeight(rowNode,autoHeight,column)},listener=()=>measureHeight(0);listener();const destroyResizeObserver=_observeResize(beans,eCellWrapper,listener);return compBean.addDestroyFunc((()=>{destroyResizeObserver(),this.setRowAutoHeight(rowNode,void 0,column)})),!0}setAutoHeightActive(cols){this.active=cols.list.some((col=>col.isVisible()&&col.isAutoHeight()))}}]},DragAndDropModule,ClientSideRowModelApiModule,CellSpanModule]}},"./node_modules/css-loader/dist/runtime/api.js":module=>{module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{module.exports=function(i){return i[1]}},"./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>firstValueFrom});var _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/EmptyError.js"),_Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js");function firstValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var subscriber=new _Subscriber__WEBPACK_IMPORTED_MODULE_0__.Ms({next:function(value){resolve(value),subscriber.unsubscribe()},error:reject,complete:function(){hasConfig?resolve(config.defaultValue):reject(new _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__.G)}});source.subscribe(subscriber)}))}}}]);